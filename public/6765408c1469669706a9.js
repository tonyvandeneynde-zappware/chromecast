!function(){var e={},t={};(function(e){var n,r,i,o,a,s,u,c,h,l,f,d,p,g,y,m,v,b,E,T,w,A,S,I,R,k,C,D,M,N,L,P,_,x,O,j,U,B,F,K,H,V,G,z,W,q,Y,X,J,Q,Z,$,ee,te,ne,re,ie,oe,ae,se,ue,ce,he,le,fe,de,pe,ge,ye,me,ve,be,Ee,Te,we,Ae,Se,Ie,Re,ke,Ce,De,Me,Ne,Le,Pe,_e,xe,Oe,je,Ue,Be,Fe,Ke,He,Ve,Ge,ze,We,qe,Ye,Xe,Je,Qe,Ze,$e,et,tt,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,gt,yt,mt,vt,bt,Et,Tt,wt,At,St,It,Rt,kt,Ct,Dt,Mt,Nt,Lt,Pt,_t,xt,Ot,jt,Ut,Bt,Ft,Kt,Ht,Vt,Gt,zt,Wt,qt,Yt,Xt,Jt,Qt,Zt,$t,en,tn,nn,rn,on,an,sn,un,cn,hn,ln,fn,dn,pn,gn,yn,mn,vn,bn,En,Tn,wn,An,Sn,In,Rn,kn,Cn,Dn,Mn,Nn,Ln,Pn,_n,xn,On,jn,Un,Bn,Fn,Kn,Hn,Vn,Gn,zn,Wn,qn,Yn,Xn,Jn,Qn,Zn,$n,er,tr,nr,rr,ir,or,ar,sr,ur,cr,hr,lr,fr,dr,pr,gr,yr,mr,vr,br,Er,Tr,wr,Ar,Sr,Ir,Rr,kr,Cr,Dr,Mr,Nr,Lr,Pr,_r,xr,Or,jr,Ur,Br,Fr,Kr,Hr,Vr,Gr,zr,Wr,qr,Yr,Xr,Jr,Qr,Zr,$r,ei,ti,ni,ri,ii,oi,ai,si,ui,ci,hi,li,fi,di,pi,gi,yi,mi,vi,bi,Ei,Ti,wi,Ai,Si,Ii;t.aa=" is registered.",t.ba=" is unsupported on this platform.",n=" to a log level. Falling back to default!",t.da="6.2.4",r="</DATA></WRMHEADER>",i="</LA_URL>",o="<LA_URL>",a='<WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="',t.ka="AdaptationSet",t.la="Already destroyed. No-op",t.ma="Already released. No-op",t.na="Autoplay is not allowed due to browser policy.",t.oa="CODECS",s="Can not set volume to ",t.qa="Cannot retrieve buffer information due to platform limitations",t.ra="CastlabsPlayer",u="Content-Length",c="Content-Type",t.ua="Could not find configured DRM environment.",t.va="DRM environment '",h="DRM licenses loaded",l="DRMtoday",f="Destroying player",t.Aa="Disable track type ",d="Error while decoding string!",t.Da="Error while fetching license!",p="HW_SECURE_CRYPTO",g="HW_SECURE_DECODE",y="HeaderDrm",m="Ignoring duplicate init data.",v="Illegal constructor.",b="Invalid track type: ",E="License verification failed: ",t.Pa="Loading player with configuration",t.Qa="MaxHeight",t.Ta="MaxWidth",t.Ua="MediaKeySession.load not yet supported",t.Va="MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform",T="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!",w="No event provided!",A="No track data attached to the event, unable to add track!",t.Za="NotSupportedError",t.$a="Player sources",t.ab="Player state change: ",t.bb="Please make sure ",t.db="QualityLevel",t.eb="Releasing player with source",t.fb="Representation",t.gb="SW_SECURE_CRYPTO",t.hb="SW_SECURE_DECODE",t.ib="Session type ",S="Signature Verification failed",t.kb="SmoothStreamingMedia",I="The index is not in the allowed range.",t.mb="Trident/",R="Unable to translate ",t.ob="Unregistering listeners",t.pb="Unsupported keySystem",t.qb="Updating manifest...",k="Using VTTCue polyfill from 3 argument TextTrackCue.",t.sb="ad-break-started",t.tb="ad-break-stopped",t.ub="ad-buffering",t.vb="ad-clicked",t.wb="ad-completed",t.xb="ad-first-quartile",t.yb="ad-impression",t.Ab="ad-loaded",t.Bb="ad-midpoint",t.Cb="ad-paused",t.Db="ad-progress",t.Eb="ad-resumed",t.Fb="ad-skipped",t.Gb="ad-started",t.Hb="ad-stopped",t.Ib="ad-third-quartile",t.Jb="addtrack",t.Kb="ads-timeline-changed",t.Lb="airplay-casting-ended",t.Mb="airplay-casting-started",t.Pb="airplay-status-changed",t.Qb="application",t.Rb="application/cea-608",t.Sb="application/mp4",t.Tb='application/mp4; codecs="stpp"',t.Ub='application/mp4; codecs="wvtt"',t.Vb="application/ttml+xml",C="application/x-www-form-urlencoded",t.Xb="audio",t.Yb="audio/aac",t.Zb="audio/ac3",t.$b="audio/eac3",t.ac="audio/mp4",t.bc="audiobufferchanged",t.cc="autoplaynotallowed",t.dc="bitratechanged",t.ec="boolean",t.gc="bufferingended",t.hc="bufferingstarted",D="canplay",M="canplaythrough",t.kc="castingstarted",t.lc="caststatuschanged",t.mc="cdn-switch-success",t.nc="cenc",t.oc="center",N="change",L="clpp-container",t.rc="clpp-fill",P="clpp-hidden",t.tc="clpp.cast.CastSender",_="clpp.drm.HeaderDrm",x="clpp.native.Player",O="clpp.utils.Platform",t.xc="codecs",t.yc="column-reverse",t.zc="com.adobe.primetime",t.Ac="com.apple.fps",t.Bc="com.microsoft.playready",t.Cc="com.widevine.alpha",t.Dc="cuechange",t.Ec="destroy()",t.Fc="disabled",t.Gc="div",t.Hc="drmexpirationupdate",j="drmrenewalstarted",t.Jc="drmsessionpersisted",t.Kc="drmsessionupdate",U="drmtoday",B="dt-custom-data",F="durationchange",t.Oc="encrypted",t.Pc="end",t.Qc="ended",t.Rc="error",K="fullscreenElement",t.Tc="function",t.Uc="height",t.Vc="hidden",t.Wc="image",t.Xc="internal-error",t.Yc="keystatuseschange",t.Zc="left",t.$c="license-renewal",t.ad="license-request",t.bd="line-left",t.cd="line-right",t.dd="loadeddata",t.ed="loadedmetadata",H="loadstart",t.gd="mdat",t.hd="mdia",t.id="message",t.jd="metadata",t.kd="mimeType",t.ld="minf",t.md="moov",t.nd="mp4",t.od="mpd-type-changed",t.rd="mpeg-dash-callback-event",t.sd="native",t.td="none",t.ud="number",t.vd="object",t.wd="onBitrateChanged()",t.xd="onContentLoaded",t.yd="onPlayerError()",t.zd="onPlayerWillDestroy",t.Ad="onPlayerWillRelease",t.Bd="onStateChanged()",V="online-status-changed",t.Dd="optional",t.Ed="org.w3.clearkey",t.Fd="output-not-allowed",t.Gd="pause",t.Hd="persistent",t.Id="persistent-license",G="picture-in-picture",t.Kd="play",t.Ld="playing",t.Md="playlist-item-changed",t.Nd="playlist-modified",t.Od="progress",t.Pd="px",t.Qd="ratechange",z="released",t.Sd="releasing",W="removetrack",t.Ud="required",t.Vd="resize",t.Wd="right",t.Xd="seeked",t.Yd="seeking",t.Zd="showing",t.$d="single-native",q="stalled",t.ce="start",t.de="statechanged",t.ee="status-pending",t.fe="stbl",t.ge="string",t.he="stsd",t.ie="style",t.je="subtitle",t.ke="subtitles",t.le="subtitles-htmlcue",t.me="subtitles-ttml",t.ne="temporary",t.oe="text",t.pe="text/vtt",t.qe="text/xml",t.re="timeupdate",t.se="trak",t.te="ttml-xml",t.ue="und",Y="unknown",t.we="urn:scte:scte35",t.xe="urn:scte:scte35:2014",t.ye="usable",t.ze="user-seeked",t.Ae="user-seeking",t.Be="value",t.Ce="vertical-lr",t.De="vertical-rl",t.Ee="video",t.Fe="video/mp2t",t.Ge="video/mp4",t.He="videobufferchanged",t.Ie="videotrackchanged",t.Je="vimond-response",X="visibilitychange",t.Le="vtt-xml",t.Me="waiting",t.Ne="waitingforkey",J="webkitkeyadded",Q="webkitkeyerror",Z="webkitkeymessage",$="webkitneedkey",t.Te="width",ee="x-dt-auth-token",te="x-dt-csl-tracking-token",ne="x-dt-follow-up-token",re="x-dt-resp-code",ie=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},t.Ze=function(){t.Ze=function(){},Ii.Symbol||(Ii.Symbol=Ci)},oe=function(e,t){this.a=e,Si(this,"description",{configurable:!0,writable:!0,value:t})},t.ef=function(){t.Ze();var e=Ii.Symbol.iterator;e||(e=Ii.Symbol.iterator=Ii.Symbol("Symbol.iterator")),typeof Array.prototype[e]!=t.Tc&&Si(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return ae(ie(this))}}),t.ef=function(){}},ae=function(e){return t.ef(),(e={next:e})[Ii.Symbol.iterator]=function(){return this},e},t.t=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:ie(e)}},t.ff=function(e){if(!(e instanceof Array)){e=t.t(e);for(var n,r=[];!(n=e.next()).done;)r.push(n.value);e=r}return e},t.u=function(e,t){if(e.prototype=Di(t.prototype),e.prototype.constructor=e,Li)Li(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n]},se=function(){this.o=!1,this.h=null,this.f=void 0,this.a=1,this.j=this.m=0,this.A=this.g=null},ue=function(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0},ce=function(e,t){e.g={kf:t,wf:!0},e.a=e.m||e.j},t.v=function(e,t,n){return e.a=n,{value:t}},t.w=function(e){e.a=0},t.mf=function(e,t,n){e.m=t,null!=n&&(e.j=n)},t.nf=function(e,t){e.a=t,e.m=0},t.of=function(e){e.m=0;var t=e.g.kf;return e.g=null,t},he=function(e){this.a=new se,this.f=e},le=function(e,t){ue(e.a);var n=e.a.h;return n?fe(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),de(e))},fe=function(e,t,n,r){try{var i=t.call(e.a.h,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.o=!1,i;var o=i.value}catch(t){return e.a.h=null,ce(e.a,t),de(e)}return e.a.h=null,r.call(e.a,o),de(e)},de=function(e){for(;e.a.a;)try{var t=e.f(e.a);if(t)return e.a.o=!1,{value:t.value,done:!1}}catch(t){e.a.f=void 0,ce(e.a,t)}if(e.a.o=!1,e.a.g){if(t=e.a.g,e.a.g=null,t.wf)throw t.kf;return{value:t.return,done:!0}}return{value:void 0,done:!0}},pe=function(e){this.next=function(t){return ue(e.a),e.a.h?t=fe(e,e.a.h.next,t,e.a.w):(e.a.w(t),t=de(e)),t},this.throw=function(t){return ue(e.a),e.a.h?t=fe(e,e.a.h.throw,t,e.a.w):(ce(e.a,t),t=de(e)),t},this.return=function(t){return le(e,t)},t.ef(),this[Symbol.iterator]=function(){return this}},ge=function(e,t){var n=new pe(new he(t));return Li&&Li(n,e.prototype),n},ye=function(e,t){if(t){for(var n=Ii,r=e.split("."),i=0;i<r.length-1;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}(o=t(i=n[r=r[r.length-1]]))!=i&&null!=o&&Si(n,r,{configurable:!0,writable:!0,value:o})}},me=function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,i)}(e.next())}))},t.z=function(e){return me(new pe(new he(e)))},t.A=function(e,t){var n,r=e.split("."),i=Pi;r[0]in i||void 0===i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t},t.zf=function(e){e=e.getConfiguration(),e=t.B.ua(e.textStyle||e.textstyle||{}),this.K=typeof e.backgroundColor===t.ge?e.backgroundColor:null,this.Y=typeof e.windowColor===t.ge?e.windowColor:null,this.S=typeof e.fontColor===t.ge?e.fontColor:null,this.V=typeof e.fontFamily===t.ge?e.fontFamily:null,this.I=typeof e.fontSize===t.ge?e.fontSize:null,this.D=typeof e.fontSizePercent===t.ud?e.fontSizePercent:null,this.H=typeof e.edgeColor===t.ge?e.edgeColor:"rgba(0, 0, 0, 1)",this.B=t.yf,typeof e.edgeType===t.ge&&(this.B=e.edgeType)},t.Ef=function(e){var n=t.td,r=e.H;switch(e.B){case Wi:n="-2px -2px 0 "+r+", -1px -1px 0 "+r;break;case qi:n="2px 2px 0 "+r+", 1px 1px 0 "+r;break;case Xi:n="-1px 0 "+r+", 0 1px "+r+", 1px 0 "+r+", 0 -1px "+r;break;case Yi:n="2px 2px 3px "+r+", 2px 2px 4px "+r+", 2px 2px 5px "+r}return n},ve=function(e){return e&&0<=ji[e]?ji[e]:Oi},be=function(e){if(!e)return t.C("clpp.log",R+e+n),-1;var r=xi[e.toUpperCase()];return void 0===r?(t.C("clpp.log",R+e+n),-1):r},t.F=function(e){(this.a=e)&&void 0===ji[e]&&(ji[e]=-1)},t.Nf=function(e){Bi.info.apply(Bi,arguments)},t.H=function(e){Bi.debug.apply(Bi,arguments)},t.C=function(e){Bi.warn.apply(Bi,arguments)},t.Of=function(e){Bi.error.apply(Bi,arguments)},Ee=function(){},t.Sf=function(e,n){if(!e&&!n)return!0;if(!e||!n||e.byteLength!=n.byteLength)return!1;if(Se(e)==Se(n)&&(e.byteOffset||0)==(n.byteOffset||0))return!0;for(var r=t.J(e),i=t.J(n),o=t.t(Io(e.byteLength)),a=o.next();!a.done;a=o.next())if(r[a=a.value]!=i[a])return!1;return!0},t.J=function(e,t,n){return Ae(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)},Te=function(e,t,n){return Ae(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint16Array)},we=function(e,t,n){return Ae(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint32Array)},t.Wf=function(e,t,n){return Ae(e,void 0===t?0:t,n=void 0===n?1/0:n,Int32Array)},t.Xf=function(e,t,n){return Ae(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)},t.Yf=function(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer},Ae=function(e,t,n,r){var i=r.BYTES_PER_ELEMENT||1,o=Se(e),a=(e.byteOffset||0)+e.byteLength;return e=Math.max(0,Math.min((e.byteOffset||0)+t*i,a)),n=Math.min(e+Math.max(n*i,0),a),new r(o,e/=i,n/i-e)},Se=function(e){return e instanceof ArrayBuffer?e:e.buffer},Ie=function(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t},t.$f=function(n){if(!n)return"";if(239==(n=t.J(n))[0]&&187==n[1]&&191==n[2]&&(n=n.subarray(3)),"TextDecoder"in e){if((n=(new TextDecoder).decode(n)).includes("�"))throw Error(d);return n}n=escape(Ie(n));try{return decodeURIComponent(n)}catch(e){throw Error(d)}},Re=function(e,n,r){if(!e)return"";if(!r&&0!=e.byteLength%2)throw Fi.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");if(r=t.J(e),(n&&255===r[0]&&254===r[1]||254===r[0]&&255===r[1])&&(e=r.subarray(2)),e instanceof ArrayBuffer)var i=e;else(r=new Uint8Array(e.byteLength)).set(t.J(e)),i=r.buffer;e=Math.floor(e.byteLength/2),r=new Uint16Array(e),i=new DataView(i);for(var o=0;o<e;o++)r[o]=i.getUint16(2*o,n);return Ie(r)},t.cg=function(e,n){if(t.B.W(e))return e;var r="",i=!!n,o=t.J(e);239==o[0]&&187==o[1]&&191==o[2]?r=t.$f(o):254==o[0]&&255==o[1]?r=Re(o.subarray(2),!1):255==o[0]&&254==o[1]&&(r=Re(o.subarray(2),!0));var a=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,o);if(Fi.debug("Unable to find byte-order-mark, making an educated guess."),0==o[0]&&0==o[2]?r=Re(e,!1):0==o[1]&&0==o[3]?r=Re(e,!0):a(0)&&a(1)&&a(2)&&a(3)&&(r=t.$f(e)),r)return i&&(r=escape(r)),r;throw Error("Unable to detect text encoding")},t.dg=function(t){if("TextEncoder"in e)return(new TextEncoder).encode(t);t=encodeURIComponent(t),t=unescape(t);for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},ke=function(e,t){for(var n=new Uint8Array(2*e.length),r=new DataView(n.buffer),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n.buffer},t.fg=function(e,n){var r,i=n||1,o=e.length,a=new ArrayBuffer(o*i);for(r=4===i?we(a):2===i?Te(a):t.J(a),i=0;i<o;i++)r[i]=e.charCodeAt(i);return a},t.gg=function(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)},t.hg=function(e,t){if(String.prototype.endsWith)return e.endsWith(t);var n=e.length-t.length,r=e.lastIndexOf(t,n);return-1!==r&&r===n},t.ig=function(e){return!!(e&&0<e.length)},Ce=function(e){return!e||0===e.length},t.lg=function(e){return e=e.replace(/<[^>]+>/gi,""),Ki.innerHTML=e,(e=Ki.textContent).replace(/<[^>]+>/gi,"")},t.mg=function(e,t){var n,r=document.createElement(e);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];null==i?r.setAttribute(n,""):r.setAttribute(n,i)}return r},t.ng=function(e,t){e.classList.add(t)},t.og=function(e,n){if(e&&typeof n===t.vd)for(var r in n)n.hasOwnProperty(r)&&(e.style[r]=n[r])},t.pg=function(e){return document.createElement(e)},t.rg=function(e){t.zf.call(this,e),this.j=e.getSurface().getMedia(),this.f="clpp-video-"+Hi++,this.g=document.createElement(t.ie),this.h=this.m=!1,t.ng(this.j,this.f),document.head.appendChild(this.g),this.ib()},De=function(){},t.vg=function(e,t){e&&t&&(Vi.set(e,t),Gi.info("Registered TextDisplayerFactory: '"+e+"'"))},t.wg=function(e,t){var n=t.find((function(t){return!!(t=Vi.get(t))&&t.$(e)}));return Gi.info("Chosen the text displayer: "+n),n?Vi.get(n):null},Me=function(){},t.zg=function(e,n){for(var r=t.t(t.yg),i=r.next();!i.done;i=r.next())if((i=i.value).probe(e,n))return i.create();return null},t.Gg=function(e,n,r,i){i=void 0===i?t.Ag:i,this.startTime=e,this.endTime=n,this.payload=r,this.payloadType=i,this.positionAlign=this.position=null,this.size=100,this.textAlign=t.Bg,this.writingMode=t.Cg,this.lineInterpretation=t.Dg,this.line=null,this.lineAlign=t.Eg,this.direction=zi,this.region=null,this.cssClassList=[],this.id=this.backgroundImage="",this.containerRows=null},t.Mg=function(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=t.Hg,this.scroll=Qi,this.cssClassList=[],this.writingMode=this.displayAlign=null},t.Ng=function(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n},t.Og=function(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]},t.K=function(e,n,r,i,o){var a=Error.call(this,Ne(e,n,r,i));this.message=a.message,"stack"in a&&(this.stack=a.stack),this.a=e,this.h=n,this.code=r,this.data=!i||t.B.W(i)?{}:i,this.g=void 0===o?null:o,this.j=!1,Error.captureStackTrace&&Error.captureStackTrace(this,t.K)},Ne=function(e,n,r,i){if(e=(e===t.L?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+n+" - Code "+r+"]",t.B.W(i))e+=": "+i;else if(null!=i&&null!=i)if(null!=i.message&&null!=i.message)e+=": "+i.message,delete i.message;else try{e+=": "+JSON.stringify(i)}catch(e){}return e},t.Rg=function(e){delete t.Qg[e]},t.Sg=function(n){return n=n.toLowerCase(),!!(t.Qg[n]||e.muxjs&&n==t.Rb)},Le=function(e){this.g=e,this.a=null,this.f=new t.F("clpp.text.Mp4TextParser")},Pe=function(e,t){this.pd=e,this.a=t},_e=function(e,t){this.a=e,this.f=t},t.Yg=function(e){if(e){var n=e.getName();t.Wg.hasOwnProperty(n)?t.Xg.warn("Player-Factory '"+n+"' already registered"):(t.Wg[n]=e,t.Xg.info("Registered Player-Factory: '"+n+"'"))}},t.Zg=function(){this.a={}},xe=function(e,t,n,r){this.f=e,this.rc=t,this.a=n,this.uj=!!r},t.M=function(t,n){if(n)for(var r in n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.f=this.a=!1},Oe=function(e){this.a=new t.Zg,this.f=e},t.bh=function(){this.a=new t.Zg},t.ch=function(e,n,r,i){function o(a){for(var s=t.t(r),u=s.next();!u.done;u=s.next())e.off(n,u.value,o);i(a)}for(var a=t.t(r),s=a.next();!s.done;s=a.next())e.on(n,s.value,o)},t.eh=function(e){var t,n=e.a,r=[];for(t in n.a)r.push.apply(r,n.a[t]);for(n=0;n<r.length;++n)Ue(r[n]);e.a.clear()},je=function(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.a=r,this.target.addEventListener(t,n,r)},Ue=function(e){e.target.removeEventListener(e.type,e.listener,e.a),e.target=null,e.listener=null},Be=function(e){this.l=e,this.m=e.getConfiguration().streaming.addMissingTimelineCues||!1,this.h=null,this.f=new t.bh,this.a=this.j=null,this.g=[],this.o=new t.F("clpp.native.Metadata")},Fe=function(e,n){e.h=n,e.j=e.h.textTracks,e.f.on(e.j,t.Jb,(function(n){(n=n.track).kind===t.jd&&Ke(e,n)}))},Ke=function(e,n){function r(n){for(var r=t.t(i),a=r.next();!a.done;a=r.next())if(a=a.value,n.startTime===a.startTime&&n.endTime===a.endTime)return a;return r={schemeIdUri:"",value:"",startTime:0,endTime:0,id:"",type:t.jh,eventElement:null},e.m&&o&&"SCTE35-IN"===n.value.key&&0<n.startTime?(r.startTime=0,r.endTime=n.startTime):(r.startTime=n.startTime,r.endTime=n.endTime),o=!1,i.push(r),i[i.length-1]}e.o.debug("onMetadata_()"),n.mode=t.Vc;var i=[],o=!0;if(n.cues){for(var a=t.t(n.cues),s=a.next();!s.done;s=a.next())if(s=s.value,!He(e,s)){var u=r(s);switch(s.value.key){case"SCTE35-IN":case"SCTE35-OUT":u.schemeIdUri=t.xe,u.type=t.lh;break;case"X-CUSTOM-ID":u.id=s.value.data}}for(s=(a=t.t(i)).next();!s.done;s=a.next())e.l.trigger(new t.M(t.mh,{detail:s.value}));Array.prototype.push.apply(e.g,i),Ve(e,i,n),e.f.off(n,t.Dc),e.f.on(n,t.Dc,(function(n){var r;(r=n=(n=n.target.activeCues).length?He(e,n[0]):e.a)&&(r=e.l.getPosition(),r=n.startTime<=r&&r<n.endTime),r?(e.a=n,e.l.trigger(new t.M(t.oh,{detail:n}))):((n=e.a)&&(n=e.a,r=e.l.getPosition(),n=n.endTime<=r),n&&(n=e.a,e.a=null,e.l.trigger(new t.M(t.ph,{detail:n}))))}))}},He=function(e,n){for(var r=t.t(e.g),i=r.next();!i.done;i=r.next())if(i=i.value,n.startTime===i.startTime&&n.endTime===i.endTime)return i;return null},Ve=function(e,t,n){if(e.m){for(;0<n.cues.length;)n.removeCue(n.cues[0]);t.forEach((function(e){n.addCue(new DataCue(e.startTime,e.endTime,{key:"SCTE35-OUT",data:null}))}))}},t.qh=function(e,t){this.id=e,this.type=t,this.roles=[],this.channelsCount=this.src=this.mimeType=this.frameRate=this.label=this.language=this.kind=null,this.renditions=[]},t.rh=function(e){return null!=e&&""!==e?e:null},Ge=function(e){if(!e)throw new t.K(t.L,3,3101,b+e);if(!t.B.W(e))throw new t.K(t.L,3,3101,b+e+". Track type must be a string!");switch(e.toLowerCase()){case t.O:return t.O;case t.Q:return t.Q;case t.sh:return t.sh;case Ji:return Ji}throw new t.K(t.L,3,3101,"Unknown track type: "+e+".")},ze=function(e,n){e=Ge(e);var r=t.rh(n.kind),i=n.id;return i||(i=String(t.vh++)),(i=new t.qh(i,r===t.jd?Ji:e)).kind=r,i.label=t.rh(n.label),i.language=t.rh(n.language),i},t.xh=function(e,t){this.track=t,this.id=e,this.originalId=this.drmInfo=this.codec=this.bandwidth=this.height=this.width=null},t.R=function(){},t.yh=function(e){this.f=e,this.a=null},We=function(e,t,n){function r(){i&&e.f()}e.stop();var i=!0,o=null;return e.a=function(){n?clearInterval(o):clearTimeout(o),i=!1},o=n?setInterval(r,1e3*t):setTimeout(r,1e3*t),e},t.Ah=function(e){this.f=e,this.a=null},t.Bh=function(e){return Array.isArray(e)?e:[e]},qe=function(){this.a=new t.F("clpp.native.TrackManager"),this.l=null,this.g=new t.bh,this.h=[],this.w=0,this.m={},this.A=[],this.f=new Map,this.j=new Map,this.o=!0,this.H=this.we.bind(this,t.O),this.J=this.ye.bind(this,t.O),this.I=this.xe.bind(this,t.O),this.K=this.we.bind(this,t.sh),this.P=this.ye.bind(this,t.sh),this.M=this.xe.bind(this,t.sh),this.B=this.we.bind(this,t.Q),this.D=this.ye.bind(this,t.Q),this.C=this.xe.bind(this,t.Q)},Ye=function(e){(e=e.l.getTextDisplayer())&&e.remove(0,1/0)},Xe=function(e,n,r){return e.type===r&&(void 0!==n.id&&null!==n.id&&""!==n.id?e.id===n.id:t.B.Ma(e,{kind:t.rh(n.kind),language:t.rh(n.language),label:t.rh(n.label)},["kind","language","label"]))},Je=function(e,n){var r,i,o,a,s,u,c;return t.z((function(h){if(1==h.a)return(r=t.zg(n.mimeType,t.pe))?(i=t.Fh(n.url),t.v(h,e.l.getNetworkEngine().fetch(i).N,2)):(e.a.warn("Track mimetype is not supported",n),h.return());(o=h.f)&&o.data&&(a="External_"+e.w++,e.m[a]=n,s=r.a(t.J(o.data)),u=URL.createObjectURL(new Blob([s])),c={url:u,kind:n.kind,language:n.language,label:n.label,mimeType:t.pe},Qe(e,c,a)),t.w(h)}))},Qe=function(e,t,n){if(e.l){var r=e.l.getSurface().getMedia();if(r){var i=document.createElement("track");i.id=n,i.kind=t.kind,i.srclang=t.language,t.label&&(i.label=t.label),i.src=Ce(t.url)?URL.createObjectURL(new Blob([])):t.url,r.appendChild(i),e.A.push(i)}}},Ze=function(e,n){if(!e.l)return null;var r=e.l.getSurface();if(!r)return null;if(!(r=r.getMedia()))return null;switch(n){case t.Q:return r.audioTracks;case t.sh:return r.videoTracks;case t.O:return r.textTracks;default:return null}},$e=function(e,n){var r=Ze(e,n);return r&&(r=Array.from(r),n===t.O&&(r=r.filter((function(e){return e.kind!==t.jd})))),r},et=function(e,t){return e.h.filter((function(e){return e.type===t}))},tt=function(e,t){var n=e.f.get(t)||null;return n&&n.renditions[0]},nt=function(e,t){var n=e.j.get(t);return n&&n.renditions[0]},rt=function(e,n,r){var i=$e(e,n);if(r){if(void 0===e.h.find((function(e){return e.id===r.id})))throw Error("Unknown track with ID "+r.id+" and type "+n);if(r.type!==n)throw Error("Types mismatch for track "+r.type+" and arg "+n);if(e.a.debug("Activate track type "+n+" with ID: "+r.id),i){e.j.set(n,r);var o=!0,a=!1;switch(n){case t.O:var s="mode";o=t.Zd,a=t.Fc;break;case t.Q:s="enabled";break;case t.sh:s="selected"}if(s)for(var u=(i=t.t(i)).next();!u.done;u=i.next())(u=u.value)[s]=Xe(r,u,r.type)?o:a}}else if(e.a.debug(t.Aa+n),e.f.get(n)&&i&&n===t.O){for(u=(s=t.t(i)).next();!u.done;u=s.next())u.value.mode=t.Fc;e.f.set(n,null)}n===t.Q?e.l.trigger(new t.M(t.Nh)):n===t.O&&e.l.trigger(new t.M(t.Oh))},it=function(e){return e.enabled||e.selected||e.mode===t.Zd||e.mode===t.Vc},ot=function(e,n,r){r=t.Bh(r),e.a.info("Find preferred tracks for",n,r);var i=et(e,n);r.some((function(t){var r=i.find((function(e){return e.language===t}));return!!r&&(e.a.info("Will select track with id",r.id),rt(e,n,r),!0)}))},at=function(e){this.l=e,this.j=e.getTextDisplayer(),this.f=this.g=null,this.a=new t.bh,this.h=!1,this.m=new t.F("clpp.native.CueHandler")},st=function(e,n){var r=n.track;r.kind!==t.jd&&(r.mode===t.Zd&&(r.mode=t.Vc),e.a.on(r,t.Dc,(function(n){(n=n.target||n.srcElement).mode=t.Vc,n.activeCues&&(n=Array.from(n.activeCues).map(e.o),e.j.append(n,[]))})))},t.Uh=function(e,t){this.length=(this.f=e)?e.length:0,this.a=[],this.type=void 0===t?"total":t},t.Vh=function(){this.Oc=new Oe(this),this.Nc=[]},t.Wh=function(){},t.Yh=function(e,n){var r=null==n||n,i=t.Xh(e).replace(/\+/g,"-").replace(/\//g,"_");return r?i:i.replace(/[=]*$/,"")},t.Zh=function(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},t.$h=function(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n},t.ai=function(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t},t.bi=function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0},t.ci=function(e){for(var t=0,n=0;n<arguments.length;++n)t+=arguments[n].length;t=new Uint8Array(+t);for(var r=n=0;r<arguments.length;++r)t.set(arguments[r],n),n+=arguments[r].length;return t},t.Xh=function(e){return e=Ie(t.J(e)),btoa(e)},ut=function(e){try{var n=e.uris[e.uriIndex],r=t.di(n);return{N:Promise.resolve({uri:n,data:r.data,request:e,headers:{"content-type":r.contentType}}),request:e,abort:function(){return Promise.resolve()}}}catch(t){return{N:Promise.reject(t),request:e,abort:function(){return Promise.resolve()}}}},t.di=function(n){var r=n.split(":");if(2>r.length||"data"!==r[0])throw t.Of("Bad data URI, failed to parse scheme"),new t.K(t.L,1,1004,{uri:n});if(2>(r=r.slice(1).join(":").split(",")).length)throw t.Of("Bad data URI, failed to extract encoding and MIME type"),new t.K(t.L,1,1004,{uri:n});var i=r[0];r=e.decodeURIComponent(r.slice(1).join(","));var o="";if(1<(i=i.split(";")).length&&(o=i[1]),"base64"===o)n=t.Zh(r).buffer;else{if(o)throw t.Of("Bad data URI, unknown encoding "+o),new t.K(t.L,1,1005,{uri:n});n=t.dg(r).buffer}return{data:n,contentType:i[0]}},ct=function(){this.a=lt()},ht=function(e){var t=new ct;return t.a=e.a,t},lt=function(){return e.performance&&e.performance.now?e.performance.now():Date.now()},ft=function(e){this.a=new Uint8Array(e||65536),this.f=0,this.g=new ct},dt=function(e,t,n){return t.read().then((function(r){var i=r.done;return null!=(r=r.value)&&(pt(e,r),zt(n,r.byteLength,lt()-e.g.a),e.g.a=lt()),i?(i=e.a.buffer,e.a.byteLength!==e.f&&(i=i.slice(0,e.f)),Promise.resolve(i)):Promise.resolve().then((function(){return dt(e,t,n)}))}))},pt=function(e,t){var n=e.f+t.byteLength;if(e.a.byteLength<n){for(var r=e.a.byteLength;r<n;)r*=2;(n=new Uint8Array(r)).set(e.a),e.a=n}e.a.set(t,e.f),e.f+=t.byteLength},gt=function(e){var t=void 0===t?2:t;this.a=new Uint8Array(e),this.g=t,this.f=0},yt=function(e,t){var n=e.f+t.byteLength;if(n>e.a.byteLength){var r=e.a;e.a=new Uint8Array(Math.max(Math.ceil(e.a.buffer.byteLength*e.g),n)),e.a.set(r)}e.a.set(t,e.f),e.f+=t.byteLength},mt=function(e){e=void 0===e?1e6:e,this.h=new gt(e),this.length=e,this.f=this.a=this.g=0,this.j=null,this.m=-1,this.o=new ct},vt=function(e,t,n,r){return t.read().then((function(i){var o=i.done;if(i=i.value,r&&i){var a=lt()-e.o.a;100<a&&(r(i.byteLength,a),e.o.a=lt())}if(o)return o=wt(e),(o=n(!0,o))?o.then((function(){return e.h.a.buffer})):Promise.resolve(e.h.a.buffer);if(o=Promise.resolve(),null!=i){for(yt(e.h,i),e.a=e.g,e.f=e.h.f,e.j=new DataView(e.h.a.buffer,0,e.h.f),a=bt(e),i=[];a;)i.push(a),a=bt(e);if(0<i.length){if(a=i[0],1<i.length){a=i[0];var s=i[i.length-1],u=s.end-a.start;a={start:a.start,end:s.end,length:u,data:new DataView(e.h.a.buffer,a.start,u),count:i.length}}(i=n(!1,a))&&(o=i)}}return o.then((function(){return vt(e,t,n,r)}))}))},bt=function(e){if(0<=e.m&&e.f<e.m)return null;for(var n=Et(e);null!==n;){if(n.name===t.gd){var r={start:e.g,end:n.end,length:n.end-e.g,data:new DataView(e.h.a.buffer,e.g,n.end-e.g),count:1};return e.g=n.end,r}n=Et(e)}return null},Et=function(e){var n=e.a;if(e.a+4>=e.f)return e.a=e.f,null;var r=Tt(e);if(e.a+4>=e.f)return e.a=e.f,null;var i=Tt(e);switch(i=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i),r){case 0:r=e.f-n;break;case 1:if(e.a+8>=e.f)return e.a=e.f,null;try{var o=e.j.getUint32(e.a,!1),a=e.j.getUint32(e.a+4,!1)}catch(e){throw new t.K(t.L,3,3e3)}if(2097151<o)throw new t.K(t.L,3,3e3);e.a+=8,r=o*Math.pow(2,32)+a}return r=n+r,e.m=r,e.f>=r?(e.a=r,{name:i,start:n,end:r}):null},Tt=function(e){var t=e.j.getUint32(e.a,!1);return e.a+=4,t},wt=function(e){var t=null;return e.g!==e.f&&(t={start:e.g,end:e.f,length:e.f-e.g,data:new DataView(e.h.a.buffer,e.g,e.f-e.g),count:-1}),t},At=function(){},t.xi=function(){return!!navigator.userAgent.match(/Edge?\//)},t.zi=function(e){return t.yi("Tizen"+(e?" "+String(e):""))},t.Ai=function(){return t.yi("Web0S")},t.Bi=function(){return t.yi("CrKey")},t.Ci=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!t.zi()},t.Di=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)},t.Ei=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)},t.yi=function(e){return(navigator.userAgent||"").includes(e)},St=function(){return $i||(Zi||(Zi=new t.Ah((function(){$i=null}))),($i=document.querySelector(t.Ee)||document.querySelector(t.Xb))||($i=document.createElement(t.Ee)),Zi.X(1),$i)},It=function(e,t){try{return parseInt(t,10)}catch(n){eo.warn("Unable to parse version number for '"+t+"' from '"+e+"'")}return-1},Rt=function(e){var t={major:-1,name:Y};if(!e)return t;var n=e.replace(/_/g,".");return t.name=n,1<=(n=n.split(".")).length&&(t.major=It(e,n[0])),2<=n.length&&(t.minor=It(e,n[1])),3<=n.length&&(t.patch=It(e,n[2])),4<=n.length&&(t.build=It(e,n[3])),t},kt=function(e,t){if(!e||!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return!0;return!1},Ct=function(){var e=Mt();if(!e)return so;var t=e.match(/^.+?(?=\))/);return t?(t=t[0],kt(t,["iphone","ipad"])?no:kt(t,["android"])?to:kt(t,["macintosh"])?io:kt(t,["windows nt"])?oo:kt(t,["tizen"])?ao:kt(t,["linux"])?ro:(eo.warn("Unable to identify OS from user agent: "+e),so)):so},Dt=function(){for(var e=Mt(),t="ie edge opera firefox safari chrome".split(" "),n=Ct(),r=co[n],i=0,o=t.length;i<o;i++)if(n=r[t[i]]&&e.match(r[t[i]]))return Rt(n[1]);return Rt("")},Mt=function(){return e.navigator.userAgent.toLowerCase()},t.Yi=function(){var e=Ct(),t=Ct(),n=co[t];n?(n=Mt().match(n.os_version)[1],n=Rt(n),t===oo&&("5.1"===n.name?n.name="xp":"6.1"===n.name?n.name="7":"6.2"!==n.name&&"6.3"!==n.name||(n.name="8")),t=n):t=Rt("");e:{n=Mt();var r="ie edge opera firefox safari chrome".split(" "),i=Ct();i=co[i];for(var o=0,a=r.length;o<a;o++)if(i[r[o]]&&n.match(i[r[o]])){n=r[o];break e}n=uo}return{os:e,osVersion:t,browser:n,browserVersion:Dt()}},Nt=function(t){var n,r=new fo;for(n in t.headers)r.append(n.toLowerCase(),t.headers[n]);var i=new lo,o={Jc:!1,cg:!1};if(r={N:Lt(t.uris[t.uriIndex],t,{body:t.body||void 0,headers:r,method:t.method,signal:i.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o),request:t,abort:function(){return o.Jc||(o.Jc=!0,i.abort()),Promise.resolve()}},t=t.timeout){var a=e.setTimeout((function(){o.cg=!0,i.abort()}),t);r.N=r.N.finally((function(){e.clearTimeout(a)}))}return r},Lt=function(e,n,r,i){var o,a,s,c,h,l,f,d,p,g,y,m,v,b;return t.z((function(E){switch(E.a){case 1:return o=ho,c=new ct,h=ht(c),t.mf(E,2),t.v(E,o(e,r),4);case 4:return a=E.f,l=a.headers.get(u),Gt(n,l),f=l?parseInt(l,10):0,n.onFragment&&n.type===t.ej?(g=a.body.getReader(),y=new mt(f),m=function(e,t){return i.Jc?null:(t&&t.data&&(zt(n,t.data.byteLength,lt()-c.a),c.a=lt()),n.onFragment&&t?n.onFragment(t):null)},t.v(E,vt(y,g,m,n.onProgress),8)):(d=a.body.getReader(),p=new ft(f),t.v(E,dt(p,d,n),7));case 7:s=E.f,E.G(6);break;case 8:s=E.f;case 6:t.nf(E,3);break;case 2:if(v=t.of(E),i.Jc)throw new t.K(1,1,7001,{url:e,request:n});if(i.cg)throw new t.K(1,1,1003,{url:e,request:n});throw t.Of("Error while fetching data:",v),new t.K(1,1,1002,{url:e,error:v,request:n,status:-1},v);case 3:if(b={},a.headers.forEach((function(e,t){b[t.trim()]=e})),i.Jc)throw new t.K(1,1,7001,{url:e,request:n});return E.return(t.fj(b,s,a.status,e,a.url,n,lt()-h.a))}}))},t.gj=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},Pt=function(e){var n=e.uris[e.uriIndex],r=new po,i=new ct,o=ht(i),a=0,s=new t.gj;r.open(e.method,n,!0),r.responseType="arraybuffer",r.timeout=e.timeout,r.withCredentials=e.allowCrossSiteCredentials;var c=!1,h=!1;for(var l in r.onreadystatechange=function(t){(t=t.target).readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!c&&(t=t.getResponseHeader(u),Gt(e,t),c=!0)},r.onload=function(r){for(var i=((r=r.target).getAllResponseHeaders()||"").trim().split("\r\n"),a={},u=(i=t.t(i)).next();!u.done;u=i.next())a[(u=u.value.split(": "))[0].toLowerCase()]=u.slice(1).join(": ");try{var c=lt()-o.a;h||zt(e,r.response?r.response.length:0,c);var l=t.fj(a,r.response,r.status,n,r.responseURL,e,c);s.resolve(l)}catch(e){s.reject(e)}},r.onerror=function(r){if(0>=(r=r.target).status)s.reject(new t.K(1,1,1002,{url:n,request:e,status:r.status}));else{var i=r.getAllResponseHeaders(),a={};if(i)for(var u=(i=t.t(i.trim().split("\r\n"))).next();!u.done;u=i.next())a[(u=u.value.split(": "))[0].toLowerCase()]=u.slice(1).join(": ");r=t.fj(a,r.response,r.status,n,r.responseURL,e,lt()-o.a),s.resolve(r)}},r.ontimeout=function(){s.reject(new t.K(1,1,1003,{url:n,request:e}))},r.onprogress=function(t){var n=lt()-i.a;i.a=lt(),(100<n||t.lengthComputable&&t.loaded===t.total)&&(zt(e,t.loaded-a,n),a=t.loaded,h=!0)},e.headers)r.setRequestHeader(l.toLowerCase(),e.headers[l]);return r.send(e.body),{N:s,request:e,abort:function(){return r.abort(),s.reject(new t.K(1,1,7001,{url:n,request:e})),Promise.resolve()}}},t.jj=function(e){var n;e instanceof t.jj?(_t(this,e.Ra),this.fc=e.fc,this.Fa=e.Fa,xt(this,e.Dc),this.ra=e.ra,Ot(this,Kt(e.a)),this.Sb=e.Sb):e&&(n=String(e).match(go))?(_t(this,n[1]||"",!0),this.fc=jt(n[2]||""),this.Fa=jt(n[3]||"",!0),xt(this,n[4]),this.ra=jt(n[5]||"",!0),Ot(this,n[6]||"",!0),this.Sb=jt(n[7]||"")):this.a=new Ft(null)},_t=function(e,t,n){e.Ra=n?jt(t,!0):t,e.Ra&&(e.Ra=e.Ra.replace(/:$/,""))},xt=function(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Dc=t}else e.Dc=null},Ot=function(e,t,n){t instanceof Ft?e.a=t:(n||(t=Ut(t,bo)),e.a=new Ft(t))},jt=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""},Ut=function(e,n,r){return typeof e===t.ge?(e=encodeURI(e).replace(n,Bt),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},Bt=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},Ft=function(e){this.f=e||null},Kt=function(e){var t=new Ft;if(t.f=e.f,e.a){var n,r={};for(n in e.a)r[n]=e.a[n].concat();t.a=r,t.g=e.g}return t},t.uj=function(){return{maxAttempts:1,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},Ht=function(e,t){e.timeout=t.timeout,e.baseDelay=t.baseDelay,e.backoffFactor=t.backoffFactor,e.fuzzFactor=t.fuzzFactor,e.maxAttempts=t.maxAttempts},t.xj=function(){this.f=[],this.g=[],this.j=!1,this.h=new t.wj,this.a={},this.a.data=ut,!e.fetch||!e.AbortController||t.zi(6)||t.Ai()&&68<t.Yi().browserVersion.major?(this.a.http=Pt,this.a.https=Pt):(this.a.http=Nt,this.a.https=Nt)},Vt=function(e,n,r,i){var o,a;return i=void 0===i?"HEAD":i,t.z((function(s){switch(s.a){case 1:if(!navigator.onLine)return s.return(!1);if(!n){s.G(2);break}return(o=t.Fh(n,r)).method=i,r||(o.timeout=5e3),o.headers["cache-control"]="no-cache",t.mf(s,4),t.v(s,e.fetch(o).N,6);case 6:t.nf(s,2);break;case 4:if(1002===(a=t.of(s)).code||1003===a.code)return s.return(!1);case 2:return s.return(!0)}}))},t.Fh=function(e,n){t.B.W(e)&&(e={uris:[e]}),Array.isArray(e)&&(e={uris:e});var r={uris:e.uris||[],type:e.type||t.zj,uriIndex:0,method:e.method||"GET",body:e.body||null,headers:Object.assign({},e.headers),allowCrossSiteCredentials:e.allowCrossSiteCredentials||!1,onProgress:e.onProgress||null,onFragment:e.onFragment||null,maxAttempts:e.maxAttempts||1,currentAttempt:0,baseDelay:e.baseDelay||1e3,backoffFactor:e.backoffFactor||2,fuzzFactor:e.fuzzFactor||.5,timeout:e.timeout||0,requestModifiers:e.requestModifiers||[],responseModifiers:e.responseModifiers||[],startTime:e.startTime||null,endTime:e.endTime||null,contentType:e.contentType||null,licenseRequestType:e.licenseRequestType||null,sessionId:null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:e.timescale||null};return e.keyInfo&&(r.keyInfo=e.keyInfo),n&&Ht(r,n),r},t.fj=function(e,n,r,i,o,a,s){if(o&&(i=o),o={uri:i,data:n||new ArrayBuffer(0),headers:e,status:r,fromCache:!!e["x-shaka-from-cache"],timeMs:s,request:a},200<=r&&299>=r&&202!==r)return o;s=null;try{s=t.cg(n,!0)}catch(e){}throw t.H("HTTP error text:",s),new t.K(401===r||403===r?t.L:1,1,1001,{url:i,status:r,responseText:s,headers:e,request:a,response:o})},Gt=function(e,t){var n=parseInt(t,10);Number.isNaN(n)&&(n=-1),e.bytesTotal=n,e.bytesLoaded=0,e.bytesRemaining=n},zt=function(e,t,n){0<e.bytesRemaining&&(e.bytesRemaining-=t),e.bytesLoaded+=t,e.onProgress&&e.onProgress(t,n)},Wt=function(){},t.Dj=function(){var e=1/0;navigator.connection&&navigator.connection.saveData&&t.Di()&&(e=360);var n=t.uj();return n.maxAttempts=3,e={source:"",license:ia,viewerId:void 0,autoplay:void 0,pauseWhenInBackground:!1,manifest:{attemptParameters:t.uj(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1e3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,restrictions:qt(e)},drm:null,enableHtmlCue:!0,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredAudioCodec:[],preferredVideoCodec:[],volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:void 0,streaming:{attemptParameters:n,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:3,stallSkip:.5,bufferLimitUpdateInterval:.5,overridePasp:!1,enableLiveEdgeChasing:!1,chasingRate:1.15,startChasingAt:5,stopChasingAt:2,chaseJumpDistance:10,patchEdgeWhenMixedContent:!1},restrictions:qt(),tizen:{sideStreamText:t.zi(2)}},t.Ai()&&(e.streaming.stallEnabled=!1),t.zi()&&(e.streaming.stallEnabled=!0,e.streaming.stallThreshold=1,e.streaming.stallSkip=0),e},t.Fj=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];if(!n)return t.Dj();r=[t.Dj()];for(var i=!1,o=(n=t.t(n)).next();!o.done;o=n.next())null!=(o=o.value)&&(t.B.W(o)&&(o={source:o}),o.lowLatencyMode&&!i&&(r.push({suggestedPresentationDelay:0,streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{ek:{clockSyncUri:"//time.akamai.com"}}}),i=!0),r.push(o));if(r=t.B.Qa.apply(null,r),t.B.W(r.volume)&&(""==""+r.volume?r.volume=null:r.volume=Number(r.volume)),!t.B.R(r.volume)&&(!t.B.ja(r.volume)||t.B.isNaN(r.volume)))throw new t.K(t.L,7,7100,"config.volume is not a number");if(!t.B.R(r.preferredTextLanguage)&&!t.B.W(r.preferredTextLanguage)&&!Array.isArray(r.preferredTextLanguage))throw new t.K(t.L,7,7100,"config.preferredTextLanguage is not a string or an array");if(!t.B.R(r.preferredAudioLanguage)&&!t.B.W(r.preferredAudioLanguage)&&!Array.isArray(r.preferredAudioLanguage))throw new t.K(t.L,7,7100,"config.preferredAudioLanguage is not a string or an array");if(!t.B.R(r.preferredAudioCodec)&&!t.B.W(r.preferredAudioCodec)&&!Array.isArray(r.preferredAudioCodec))throw new t.K(t.L,7,7100,"config.preferredAudioCodec is not a string or an array");if(!t.B.R(r.preferredVideoCodec)&&!t.B.W(r.preferredVideoCodec)&&!Array.isArray(r.preferredVideoCodec))throw new t.K(t.L,7,7100,"config.preferredVideoCodec is not a string or an array");if(!t.B.R(r.drm)){if(r.drm.env&&!t.B.W(r.drm.env))throw new t.K(t.L,7,7100,"config.drm.env is not a string");if(r.drm.offlineId&&!t.B.W(r.drm.offlineId))throw new t.K(t.L,7,7100,"config.drm.offlineId is not a string")}if(i=r.streaming){if(i.bufferingGoal=Number(i.bufferingGoal),i.rebufferingGoal=Number(i.rebufferingGoal),i.bufferBehind=Number(i.bufferBehind),i.smallGapLimit=Number(i.smallGapLimit),i.durationBackoff=Number(i.durationBackoff),!t.B.ja(i.bufferingGoal)||t.B.isNaN(i.bufferingGoal))throw new t.K(t.L,7,7100,"config.streaming.bufferingGoal is not a number");if(!t.B.ja(i.rebufferingGoal)||t.B.isNaN(i.rebufferingGoal))throw new t.K(t.L,7,7100,"config.streaming.rebufferingGoal is not a number");if(i.rebufferingGoal>i.bufferingGoal)throw new t.K(t.L,7,7100,"config.streaming.rebufferingGoal must be >= bufferingGoal");if(!t.B.ja(i.bufferBehind)||t.B.isNaN(i.bufferBehind))throw new t.K(t.L,7,7100,"config.streaming.bufferBehind is not a number");if(!t.B.ja(i.smallGapLimit)||t.B.isNaN(i.smallGapLimit))throw new t.K(t.L,7,7100,"config.streaming.smallGapLimit is not a number");if(!t.B.ja(i.durationBackoff)||t.B.isNaN(i.durationBackoff))throw new t.K(t.L,7,7100,"config.streaming.durationBackoff is not a number");if(i=r.manifest,t.B.R(i.availabilityWindowOverride))i.availabilityWindowOverride=NaN;else if(typeof i.availabilityWindowOverride!==t.ud)throw new t.K(t.L,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");Yt(r.restrictions),Yt(r.abr.restrictions),r.abr.initialRestrictions&&Yt(r.abr.initialRestrictions)}return r},qt=function(e){return{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e=void 0===e?1/0:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},Yt=function(e){if(t.B.R(e.maxPixels)&&(e.maxPixels=1/0),t.B.R(e.maxBandwidth)&&(e.maxBandwidth=1/0),t.B.R(e.maxHeight)&&(e.maxHeight=1/0),t.B.R(e.maxWidth)&&(e.maxWidth=1/0),t.B.R(e.minPixels)&&(e.minPixels=0),t.B.R(e.minBandwidth)&&(e.minBandwidth=0),t.B.R(e.minHeight)&&(e.minHeight=0),t.B.R(e.minWidth)&&(e.minWidth=0),e.minWidth=Number(e.minWidth),e.maxWidth=Number(e.maxWidth),e.minHeight=Number(e.minHeight),e.maxHeight=Number(e.maxHeight),e.minBandwidth=Number(e.minBandwidth),e.maxBandwidth=Number(e.maxBandwidth),e.minPixels=Number(e.minPixels),e.maxPixels=Number(e.maxPixels),Number.isNaN(e.minWidth)||Number.isNaN(e.maxWidth)||Number.isNaN(e.minHeight)||Number.isNaN(e.maxHeight)||Number.isNaN(e.minBandwidth)||Number.isNaN(e.maxBandwidth)||Number.isNaN(e.minPixels)||Number.isNaN(e.maxPixels))throw new t.K(t.L,7,7100,"Restrictions contain NaN")},t.Gj=function(e){return typeof e===t.vd&&!Array.isArray(e)&&e.hasOwnProperty("source")},t.Hj=function(e){t.Vh.call(this),this.log=new t.F(e),this.configuration=this.ed=t.Dj(),this.o=this.A=null,this.td=this.fe=!1,this.Yf=new t.F("clpp.video.events"),this.md=null,this.kd=-1,this.Hj=this.tj.bind(this),this.zf=new t.xj,this.K=new t.bh,this.Ea=this.vc=this.J=null},t.Jj=function(e){return t.Ij.get(e)||null},t.Lj=function(e){t.Ij.get(e.id())?To.warn("Component already in use."):t.Ij.set(e.id(),e)},Xt=function(e){for(var n=t.t(t.Ij.values()),r=n.next();!r.done;r=n.next())e(r.value)},Jt=function(){this.a=this.f=null,this.g=new t.F("clpp.drm.csl")},Qt=function(e,t){3===t.type&&(e.f&&(e.g.debug("Attaching tracking token"),t.headers[te]=e.f),e.a&&(t.headers[ne]=e.a))},Zt=function(e,n){if(n.request&&3===n.request.type){e.f=n.headers[te],e.a=n.headers[ne];var r=n.headers["x-dt-csl-renewal-info"];if(e.f&&e.g.debug("Loaded tracking token "+e.f),e.a&&e.g.debug("Loaded followup token "+e.a),r)return{delay:(r=JSON.parse(t.$f(t.Zh(r)))).renewalPeriod,$j:{maxAttempts:r.retryCount,baseDelay:1e3*r.retryPeriod,backoffFactor:1,fuzzFactor:0,timeout:0}}}return null},t.Qj=function(e){this.w=e,this.f={}},$t=function(e,n){var r=t.Yi();if(r.os!==to||"chrome"!==r.browser)return e||n},t.Vj=function(e,n){var r={},i=n?n.widevineVideoRobustness:void 0,o=n?n.widevineAudioRobustness:void 0,a=e.f[t.Sj];return a&&(r[t.Sj]={licenseUrl:a.licenseUrl,videoRobustness:$t(i,a.videoRobustness),audioRobustness:$t(o,a.audioRobustness),modifiers:a.modifiers,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired,serverCertificate:a.serverCertificate}),(a=e.f[t.Tj])&&(r[t.Tj]={licenseUrl:a.licenseUrl,certificateUrl:a.certificateUrl,modifiers:a.modifiers}),i=n?n.playReadyVideoRobustness:void 0,o=n?n.playReadyAudioRobustness:void 0,(a=e.f[t.Uj])&&(r[t.Uj]={licenseUrl:a.licenseUrl,videoRobustness:i||a.videoRobustness,audioRobustness:o||a.audioRobustness,individualizationServer:a.individualizationServer,useLegacySystem:a.useLegacySystem,modifiers:a.modifiers}),r},t.Xj=function(e){t.Wj[e.getName()]=e},t.Yj=function(e){var n={attemptParameters:t.uj(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,Ua:{}};if(e&&(n.enforceSingleSession=!!e.enforceSingleSession,n.delayLicenseRequestUntilPlayed=!!e.delayLicenseRequestUntilPlayed,n.preferredDrmSystem=e.preferredDrmSystem,e.attemptParameters&&(n.attemptParameters=e.attemptParameters),e.env)){var r=t.Wj[e.env]||null;if(!r)throw t.H(t.ua,t.bb+e.env+t.aa),new t.K(t.L,6,6015,t.va+e.env+"' is missing.");n.Ua=t.Vj(r,e.customData)||{},t.gg(e.env.toLowerCase(),U)&&(n.enforceSingleSession=!0)}return n},t.Zj=function(e,n){this.f=t.B.ja(e)?new DataView(new ArrayBuffer(e),0,e):e,this.a=0,this.g=!!n,this.buffer=this.f.buffer},t.bk=function(e,n,r){var i=r||0;r=n.byteLength-i;var o=t.J(e.f.buffer);n=t.J(n.buffer,i,r);try{o.set(n,e.a),e.a+=r}catch(e){t.ak()}},t.S=function(e,n){try{e.f.setUint32(e.a,n,e.g),e.a+=4}catch(e){t.ak()}},t.ak=function(){throw new t.K(t.L,3,3e3)},t.ck=function(e,t){this.f=e,this.g=void 0===t||t,this.a=0},t.dk=function(e){return e.a<e.f.byteLength},t.fk=function(e){try{var t=e.f.getUint8(e.a);return e.a+=1,t}catch(e){en()}},t.gk=function(e){try{var t=e.f.getUint16(e.a,e.g);return e.a+=2,t}catch(e){en()}},t.hk=function(e){try{var t=e.f.getUint32(e.a,e.g);return e.a+=4,t}catch(e){en()}},t.ik=function(e){try{var t=e.f.getInt32(e.a,e.g);return e.a+=4,t}catch(e){en()}},t.jk=function(e){var n=0;try{if(e.g){var r=e.f.getUint32(e.a,!0);n=e.f.getUint32(e.a+4,!0)}else n=e.f.getUint32(e.a,!1),r=e.f.getUint32(e.a+4,!1)}catch(e){en()}if(2097151<n)throw new t.K(t.L,3,3001);return e.a+=8,n*Math.pow(2,32)+r},t.kk=function(e,n){e.a+n>e.f.byteLength&&en();var r=e.f.buffer.slice(e.a,e.a+n);return e.a+=n,t.J(r)},t.lk=function(e){if(1>e.a)throw en();--e.a},en=function(){throw new t.K(t.L,3,3e3)},t.mk=function(n){this.scheme=null;var r=document.createElement("a"),i=n.match(/^(.*:)(\/\/(.*))$/),o=!1;i?(this.scheme=i[1],r.href=i[2],(":"===r.protocol||""===r.host&&""===r.pathname)&&(r.href="//dummy.com/"+i[3],o=!0)):(r.href=n,(":"===r.protocol||""===r.host&&""===r.pathname)&&(r.href="//dummy.com/"+n.match(/\/?\/?(.*)/)[1],o=!0),this.scheme=r.protocol),""===this.scheme&&(this.scheme=e.location.protocol),this.f=o?"":r.hostname,this.port=r.port,this.path=r.pathname,t.gg(this.path,"/")||(this.path="/"+this.path),this.a=r.search,this.g=r.hash},t.nk=function(e){return e.scheme+"//"+e.f+(e.port?":"+e.port:"")+e.path+e.g+e.a},tn=function(e,t,n){return e?(n||Object.keys(e).sort()).reduce((function(n,r){if(!e.hasOwnProperty(r))return n;var i=e[r],o="&";return""===n&&(o=t?"":"?"),(n=n+o+encodeURIComponent(r))+"="+encodeURIComponent(void 0===i?"":i)}),""):""},nn=function(e){var n={};e=(e=e||"").substring(e.indexOf("?")+1);for(var r=(e=t.t(e.split("&"))).next();!r.done;r=e.next()){var i=r.value.split("=");r=decodeURIComponent(i[0]),i=decodeURIComponent(i[1]||""),r&&(n[r]=i)}return n},rn=function(){},on=function(e){var n="";try{n=t.cg(e)}catch(e){}return n},an=function(e){var n="";return(e=on(e)).length&&(n=new t.mk(e).f),n},sn=function(e,n,r){if(!r||!r.byteLength)throw new t.K(t.L,6,6102);var i;return i=typeof n===t.ge?ke(n,!0):n,e=ke(on(e),!0),n=new t.Zj(12+e.byteLength+i.byteLength+r.byteLength,!0),t.S(n,e.byteLength),t.bk(n,t.J(e)),t.S(n,i.byteLength),t.bk(n,t.J(i)),t.S(n,r.byteLength),t.bk(n,t.J(r)),t.J(n.buffer)},un=function(){if(Bo===ko)return"https://lic.drmtoday.com";if(Bo===Co)return"https://lic.staging.drmtoday.com";if(Bo===Do)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+Bo+"'. Can not infer DRMtoday base URL!")},cn=function(e){var n=un();if(e==t.Sj)return n+No;if(e==t.Uj)return n+Lo;if(e==t.Tj)return n+Po;throw Error("Unknown DRM Key-System '"+e+"'. Can not infer license URL!")},hn=function(){var e=So[Bo];if(!e)return null;var n=t.Yi();return n.os===to&&4===n.osVersion.major&&4===n.osVersion.minor?null:new Uint8Array(e)},ln=function(e){return(e=(e=e.replace(/assetid/gi,"assetId")).replace(/variantid/gi,"variantId")).replace(/keyid/gi,"keyId")},t.Hk=function(e,n,r){n=on(n),r=r&&r.customData?r.customData:{},n=new t.mk(ln(n));var i=nn(n.a);if(e&&e.drm&&e.drm.customData){var o=e.drm.customData;e=o.assetId,o=o.variantId,e&&t.ig(""+e)&&(i.assetId=e,Ro.info("Using assetId from the configuration instead of the value from the HLS manifest.")),o&&t.ig(""+o)&&(i.variantId=o,Ro.info("Using variantId from the configuration instead of the value from the HLS manifest."))}return n.a=tn(i,!1,["assetId","variantId","keyId"]),e=t.nk(n),r.fpsContentId=e},t.Ik=function(e,t,n,r){r=void 0===r||r,(e=e.drm)&&e.env.startsWith(l)?e.customData&&(n=btoa(JSON.stringify({userId:e.customData.userId,sessionId:e.customData.sessionId,merchant:e.customData.merchant})),t.headers[B]=n,e.customData.authToken&&(t.headers[ee]=""+e.customData.authToken),n=t.uris[0],r&&e.customData.assetId&&(n+="?assetId="+encodeURI(""+e.customData.assetId),e.customData.variantId&&(n+="&variantId="+encodeURI(""+e.customData.variantId)),t.uris[0]=n)):Ro.warn(T)},fn=function(e,n,r){t.Ik(e,n,r),e=!(!(e=e.drm)||!e.offlineId),(r=new t.jj(n.uris[0])).a.add(t.Hd,e),n.uris[0]=r.toString()},t.Kk=function(e,n,r){var i=r&&r.customData&&r.customData.fpsContentId;if(t.Ik(e,n,r,!1),n.headers[c]=C,r={spc:t.Xh(n.body)},(e=e.drm)&&e.env.startsWith("DRMtodayOnboard")&&i){e={};var o=nn(new t.mk(ln(i)).a);i=o.keyId,(o=o.assetId)&&(Ro.info("Applying assetId from HLS manifest."),e.assetId=o),i&&(Ro.info("Applying keyId from HLS manifest."),e.keyId=i),e.keyId&&(Ro.info("Adding keyID to FPS payload:",e.keyId),r.keyId=e.keyId),e.assetId&&(Ro.info("Adding assetID to FPS payload:",e.assetId),r.assetId=e.assetId)}n.body=t.fg(tn(r,!0))},t.Lk=function(e,n){if(Ro.debug("Clearing response data"),200===n.status){var r=t.$f(n.data).trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),n.data=t.Zh(r).buffer}},t.Mk=function(e,t){var n=e.drm;if(n&&n.env.startsWith(l)){if(n.customData){var r=btoa(JSON.stringify({userId:n.customData.userId,sessionId:n.customData.sessionId,merchant:n.customData.merchant}));t.headers[B]=r,n.customData.authToken&&(t.headers[ee]=""+n.customData.authToken)}}else Ro.warn(T)},t.Nk=function(e,n){try{var r=t.J(n.data),i=JSON.parse(String.fromCharCode.apply(null,r));Ro.debug("Widevine License response",i);var o=atob(i.license),a=new Uint8Array(o.length);for(r=0;r<o.length;++r)a[r]=o.charCodeAt(r);n.data=a.buffer}catch(e){Ro.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}},dn=function(e){var t={},n=e?e[re]:void 0;return e=_o[e?e[re]:void 0],n&&(t.hk=n),e&&(t.ik=e),t},t.Qk=function(e,n){for(var r=t.t(e),i=r.next();!i.done;i=r.next())if(!n(i.value))return!1;return!0},t.Rk=function(e){this.f=e,this.a=void 0},t.Sk=function(){this.g=[],this.f=[],this.a=!1,this.h=new t.F("clpp.mp4")},t.Tk=function(e){for(;t.dk(e.F)&&!e.ab.a;)e.ab.xd(e.start+e.de,e.F,e.Tf)},t.Uk=function(e){for(var n=t.hk(e.F);0<n&&!e.ab.a;--n)e.ab.xd(e.start+e.de,e.F,e.Tf)},t.Vk=function(e){return function(n){var r=n.F.xa()-n.F.getPosition();e(t.kk(n.F,r))}},pn=function(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t},t.Xk=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.Yk=function(e){return 8+(e.ki?8:0)+(null!=e.flags?4:0)},t.Zk=function(e){this.f=[],this.g=[],this.a=[],8<=e.byteLength&&(new t.Sk).T("pssh",this.h.bind(this)).parse(e.buffer),0==this.a.length&&t.C("No pssh box found!")},t.cl=function(e){var n=this;this.m=e,this.M=new Set,this.w=this.I=null,this.V=!1,this.f=null,this.J=Vo,this.B=new t.bh,this.P=new Jt,this.g=new Map,this.K=[],this.H=new t.gj,this.h=null,this.o=function(t){n.A=!0,n.C=!1,n.H.reject(t),e.onError(t)},this.Ka=new Map,this.ca=new Map,this.Y=new t.Ah((function(){return kn(n)})),this.j=!1,this.Da=new t.gj,this.D=!1,this.aa=[],this.Ea=!1,this.S=0,this.a=new t.F("clpp.drm.DrmEngine"),this.ia=new t.Ah((function(){Mn(n)})).Va(1),this.H.catch((function(){})),this.A=this.C=!1},gn=function(e){var n,r,i,o;return t.z((function(a){switch(a.a){case 1:for(e.B.release(),e.B=null,e.P.release(),e.P=null,e.A=!1,e.C=!1,e.H.reject(),e.ia.stop(),e.ia=null,e.Y.stop(),e.Y=null,n=Array.from(e.g.keys()),r=t.t(e.g.values()),i=r.next();!i.done;i=r.next())(o=i.value).tc&&o.tc.stop();return e.g.clear(),t.v(a,Promise.all(n.map((function(n){return Promise.resolve().then((function(){return t.z((function(r){return 1==r.a?(e.a.debug("Closing session",n.sessionId),t.mf(r,2),t.v(r,xn(n),4)):2!=r.a?t.nf(r,0):(t.of(r),void t.w(r))}))}))}))),2);case 2:if(!e.w){a.G(3);break}return t.mf(a,4),t.v(a,e.w.setMediaKeys(null),6);case 6:t.nf(a,5);break;case 4:t.of(a);case 5:e.w=null;case 3:e.f=null,e.M.clear(),e.I=null,e.K=[],e.h=null,e.o=null,e.m=null,e.S=0,t.w(a)}}))},t.hl=function(e,n,r){return e.J=Ho,e.K=r,e.D=0<r.length,e.a.debug("Using Persisted Licenses: "+e.D),t.gl(e,n)},t.gl=function(e,n){var r=n.some((function(e){return 0<e.drmInfos.length}));if(!r){var i=t.B.Oe(e.h.Ua);Ln(n,i)}var o=En(e);if(o){var a=t.t(n);for(i=a.next();!i.done;i=a.next())i.value.drmInfos=[o]}for(i=(o=t.t(n)).next();!i.done;i=o.next())for(a=(i=t.t(i.value.drmInfos)).next();!a.done;a=i.next())_n(a.value,e.h.Ua);return(i=bn(e,n)).size?(i=t.rl(e,i),r?i:i.catch((function(){}))):(e.V=!0,Promise.resolve())},t.xl=function(e,n){if(!e.I)return t.ch(e.B,n,[t.Oc,"msneedkey",$,"needkey"],(function(){e.o(new t.K(t.L,6,6010))})),Promise.resolve();e.w=n,e.B.one(e.w,t.Kd,(function(){return Cn(e)})),e.B.on(e.w,t.Ne,(function(t){var n=e.C;e.C=!e.A,!n&&e.C&&(e.a.info("Waiting for DRM license key delivery"),e.m.onEvent(t))}));var r=e.w.setMediaKeys(e.I);r=r.catch((function(e){return Promise.reject(new t.K(t.L,6,6003,{browserError:e.message}))}));var i=Promise.resolve();return t.Ai()&&38===Dt().major||(e.f&&e.f.keySystem!==t.Ed&&!e.f.serverCertificate&&(i=yn(e)),i=i.then((function(){return t.ul(e)}))),Promise.all([r,i]).then((function(){!e.j&&(t.vl(e),t.zi(2)||!e.f.initData.length&&!e.K.length)&&e.B.on(e.w,t.Oc,(function(n){t.wl(e,n.initDataType,t.J(n.initData))}))})).catch((function(r){if(!e.j){if(6004===r.code&&e.f&&e.f.keySystem===t.Cc&&1>e.S&&e.f.serverCertificate&&e.f.serverCertificate.length)return e.a.warn("Detected invalid widevine server certificate!. Retrying"),e.o(new t.K(1,6,6004)),e.f.serverCertificate=null,e.S++,t.xl(e,n);throw 1<=e.S&&e.a.info("Could not get valid widevine server certificate. Giving up"),r}}))},t.ul=function(e){var n;return t.z((function(r){if(1==r.a)return e.I&&e.f&&e.f.serverCertificate&&e.f.serverCertificate.length?(t.mf(r,3),t.v(r,e.I.setServerCertificate(e.f.serverCertificate),5)):r.G(0);if(3!=r.a)return r.f||e.a.warn("Server certificates are not supported by the key system. The server certificate has been ignored."),t.nf(r,0);throw n=t.of(r),new t.K(t.L,6,6004,{browserError:n.message})}))},yn=function(e){var n=e.keySystem(),r=e.h.Ua[n],i=r.certificateUrl||"";if(""===i)return Promise.resolve();var o=e.m.getConfiguration();return mn(e,o).then((function(){var n=r.modifiers,a=n&&n.certificateRequest,s=n&&n.certificateResponse;return(n=t.Fh([i],e.h.attemptParameters)).type=3,a&&n.requestModifiers.push((function(e){return a(o,e)})),s&&n.responseModifiers.push((function(e){return s(o,e)})),e.a.debug("Fetching certificate"),e.m.tb.fetch(n).N})).then((function(n){e.f.serverCertificate=t.J(n.data)})).catch((function(e){var n=e.data.headers;throw n=Object.assign({message:"Error while fetching certificate!",url:e.data.url,status:e.data.status,response:e.data.response},n?{headers:n}:{},dn(n)),new t.K(t.L,6,6100,n,e)}))},mn=function(e,n){var r,i;return t.z((function(o){return(r=e.m.yc())&&(i=n&&n.drm&&n.drm.customData)?t.v(o,r(i),0):o.return()}))},vn=function(e,n){for(var r=0;r<n.nd.length;r++)if(t.bi(e,n.nd[r]))return!0;return!1},t.vl=function(e){for(var n=e.f&&e.f.initData||[],r=t.t(n),i=r.next();!i.done;i=r.next()){i=i.value;var o=!t.zi(2);if(e.h.enforceSingleSession&&!e.keySystem().startsWith(t.Ac))for(var a=e.g.values(),s=(a=t.t(a)).next();!s.done;s=a.next())s=s.value,t.bi(i.initData,s.initData)?(e.a.debug(m),o=!1):s.periodId===i.periodId&&(e.a.debug("Ignore duplicated init data with same period id"),vn(i.initData,s)||s.nd.push(i.initData),o=!1);!o||e.D&&e.J===Ho||Tn(e,i.keyId,i.periodId,i.initDataType,i.initData)}for(i=(r=t.t(e.K)).next();!i.done;i=r.next())t.Bl(e,i.value);return n.length||e.K.length||(e.A||e.a.info(h),e.A=!0,e.C=!1,e.H.resolve()),e.H},t.wl=function(e,n,r){if(!e.D||e.J!==Ho){var i=e.keySystem();if(!i.startsWith(t.Ac)){var o=new t.Zk(r);if(1<o.a.length&&(i={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[i]))for(var a=0;a<o.f.length;a++)if(i===o.f[a]){r=r.subarray(o.a[a].start,o.a[a].end+1);break}}if(o=e.g.values(),!e.w.webkitCurrentPlaybackTargetIsWireless&&!t.zi(2)&&!e.keySystem().startsWith(t.Ac))for(i=(o=t.t(o)).next();!i.done;i=o.next()){if(i=i.value,t.bi(r,i.initData))return void e.a.debug(m);if(vn(r,i))return void e.a.debug("Ignoring duplicate init data (extra).")}Tn(e,"",null,n,r)}},t.Cl=function(e){var n=1/0;e=e.g.keys();for(var r=(e=t.t(e)).next();!r.done;r=e.next())r=r.value,isNaN(r.expiration)||(n=Math.min(n,r.expiration));return n},bn=function(e,n){for(var r=new Set,i=t.t(n),o=i.next();!o.done;o=i.next()){var a=t.t(o.value.drmInfos);for(o=a.next();!o.done;o=a.next())r.add(o.value)}for(o=(i=t.t(r)).next();!o.done;o=i.next())_n(o.value,e.h.Ua);a=e.D?t.Ud:t.Dd;var s=e.D?[t.Id]:[t.ne];for(i=new Map,o=(r=t.t(r)).next();!o.done;o=r.next())o=o.value,i.set(o.keySystem,{initDataTypes:[t.nc],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:t.Dd,persistentState:a,sessionTypes:s,label:o.keySystem,drmInfos:[]});for(r={},o=(a=t.t(n)).next();!o.done;r={Ed:r.Ed,Md:r.Md},o=a.next()){s=(o=o.value).audio;var u=o.video;r.Ed=s?t.Ng(s.mimeType,s.codecs):"",r.Md=u?t.Ng(u.mimeType,u.codecs):"";var c={},h=t.t(o.drmInfos);for(o=h.next();!o.done;c={zb:c.zb},o=h.next())o=o.value,c.zb=i.get(o.keySystem),c.zb.drmInfos.push(o),o.initData&&o.initData.length&&(c.zb.initDataTypes=t.ff(new Set(o.initData.map((function(e){return e.initDataType})))).concat()),o.distinctiveIdentifierRequired&&(c.zb.distinctiveIdentifier=t.Ud),o.persistentStateRequired&&(c.zb.persistentState=t.Ud),s&&t.Bh(o.audioRobustness).forEach(function(e,t){return function(n){t.zb.audioCapabilities.push({robustness:n||"",contentType:e.Ed})}}(r,c)),u&&t.Bh(o.videoRobustness).forEach(function(e,t){return function(n){t.zb.videoCapabilities.push({robustness:n||"",contentType:e.Md})}}(r,c))}return i},t.rl=function(e,n){function r(n,r,o){r.drmInfos.some((function(e){return!!e.licenseServerUri}))==n&&(s=s.catch((function(){if(e.j)return null;if(o===t.Bc&&t.xi()){if(!e.m.getConfiguration().streaming.patchEdgeWhenMixedContent&&!e.h.Ua[o].useLegacySystem)return navigator.requestMediaKeySystemAccess("com.microsoft.playready.recommendation",[r]).catch((function(){return i(r),navigator.requestMediaKeySystemAccess(o,[r])}));i(r)}return navigator.requestMediaKeySystemAccess(o,[r])})))}function i(e){for(var n=t.t(e.audioCapabilities),r=n.next();!r.done;r=n.next())delete r.value.robustness;for(n=(e=t.t(e.videoCapabilities)).next();!n.done;n=e.next())delete n.value.robustness}if(1==n.size&&n.has(""))return Promise.reject(new t.K(t.L,6,6e3));for(var o=t.t(n.values()),a=o.next();!a.done;a=o.next())0==(a=a.value).audioCapabilities.length&&delete a.audioCapabilities,0==a.videoCapabilities.length&&delete a.videoCapabilities;var s=o=new t.gj,u=e.h.preferredDrmSystem;u||(a=t.Yi()).os===oo&&10<=a.osVersion.major&&"edge"===a.browser&&(u=t.Uj),u&&(a=n.get(u))&&(r(!0,a,u),r(!1,a,u)),a={};for(var c=t.t([!0,!1]),h=c.next();!h.done;a={Kd:a.Kd},h=c.next())a.Kd=h.value,n.forEach(function(e){return function(t,n){n!==u&&r(e.Kd,t,n)}}(a));return s=(s=s.catch((function(){throw new t.K(t.L,6,6001)}))).then((function(r){if(e.j)return null;e.M.clear();var i=r.getConfiguration();e.a.debug("Got MediaKeySystemAccess with configuration",i);var o=i.videoCapabilities||[],a=t.t(i.audioCapabilities||[]);for(i=a.next();!i.done;i=a.next())e.M.add(i.value.contentType);for(i=(o=t.t(o)).next();!i.done;i=o.next())e.M.add(i.value.contentType);o=r.keySystem,i=n.get(t.Dl(r.keySystem)),a=[];var s=[],u=[],c=[];if(Pn(i.drmInfos,a,s,u,c),1<s.length&&t.C("Multiple unique server certificates found! Only the first will be used."),1<a.length&&t.C("Multiple unique license server URIs found! Only the first will be used."),e.f={keySystem:o,licenseServerUri:a[0],distinctiveIdentifierRequired:i.distinctiveIdentifier==t.Ud,persistentStateRequired:i.persistentState==t.Ud,audioRobustness:i.audioCapabilities?i.audioCapabilities[0].robustness:"",videoRobustness:i.videoCapabilities?i.videoCapabilities[0].robustness:"",serverCertificate:s[0],initData:u,keyIds:c,periodId:null},!e.f.licenseServerUri)throw new t.K(t.L,6,6012,e.f.keySystem);return r.createMediaKeys()})).then((function(t){e.j||(e.a.info("Created MediaKeys object for key system",e.f.keySystem),e.I=t,e.V=!0)})).catch((function(n){if(!e.j){if(e.f=null,e.M.clear(),n instanceof t.K)throw n;throw new t.K(t.L,6,6002,{browserError:n.message})}})),o.reject(),s},En=function(n){if(0==(n=t.B.Oe(n.h.Ua[t.Ed]||{})).size)return null;var r=[],i=[];n.forEach((function(e,n){var o=t.$h(n),a=t.$h(e);o={kty:"oct",kid:t.Yh(o,!1),k:t.Yh(a,!1)},r.push(o),i.push(o.kid)})),n=JSON.stringify({keys:r});var o=JSON.stringify({kids:i});return o=[{initData:t.dg(o),initDataType:"keyids"}],{keySystem:t.Ed,licenseServerUri:"data:application/json;base64,"+e.btoa(n),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:o,keyIds:[],periodId:null}},t.Bl=function(e,n){try{e.a.debug("Attempting to load an offline session",n);var r=e.I.createSession(t.Id)}catch(n){var i=new t.K(t.L,6,6005,{browserError:n.message});return e.o(i),Promise.reject(i)}e.B.on(r,t.id,e.Qf.bind(e)),e.B.on(r,t.Yc,e.Mf.bind(e));var o={initData:null,loaded:!1,re:1/0,hb:null,periodId:null,nd:[],keyId:null,initDataType:null,Rb:null,sessionContext:{ldlDelay:0,customData:{}}};return e.g.set(r,o),r.load(n).then((function(i){return e.j?null:(e.a.debug("Loaded offline session",n,i),i?(o.loaded=!0,Nn(e)&&(e.A||e.a.info(h),e.A=!0,e.C=!1,e.H.resolve()),r):(e.g.delete(r),e.o(new t.K(t.L,6,6013)),null))}),(function(n){e.j||(e.g.delete(r),e.o(new t.K(t.L,6,6005,{browserError:n.message})))}))},Tn=function(e,n,r,i,o,a){a=void 0===a?null:a;try{var s=e.D?t.Id:t.ne;e.a.debug("Creating new "+s+" session.");var u=e.I.createSession(s)}catch(n){return void e.o(new t.K(t.L,6,6005,{browserError:n.message}))}e.B.on(u,t.id,e.Qf.bind(e)),e.B.on(u,t.Yc,e.Mf.bind(e)),n={Rb:a,nd:[],initData:o,initDataType:i,keyId:n,loaded:!1,re:1/0,periodId:r,hb:null,sessionContext:{ldlDelay:0,customData:{}}},a&&(a=e.g.get(a),n.sessionContext=a.sessionContext),e.g.set(u,n),a=t.B.rb,r=e.m.getConfiguration(),s=e.keySystem();var c=(s=e.h.Ua[s]).modifiers;a(c=c&&c.transformInitData)||(c=An);try{o=c({playerConfig:r,initData:o,initDataType:i,drmInfo:e.f,drmSystemConfig:s,sessionContext:n.sessionContext})}catch(n){return i=n,n instanceof t.K||(i=new t.K(t.L,6,6016,n)),void e.o(i)}u.generateRequest(i,o.buffer).catch((function(n){if(!e.j){e.g.delete(u);var r=null;n.errorCode&&n.errorCode.systemCode&&(0>(r=n.errorCode.systemCode)&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)),e.o(new t.K(t.L,6,6006,{browserError:n.message,error:n,extended:r},n))}}))},wn=function(e,n){var r=an(n);return t.H("Using default Content ID extractor. The hostname part from HLS #EXT-X-KEY:URI skd:// will be used.","Extracted Content ID: "+r),r},An=function(e){var n=e.playerConfig,r=e.initData,i=e.drmInfo,o=e.drmSystemConfig,a=e.sessionContext;if("skd"===e.initDataType){e=t.B.rb,i=i.serverCertificate,e(o=o&&o.modifiers&&o.modifiers.extractContentId)||(o=wn),e="";try{e=o(n,r,a)}catch(e){throw new t.K(t.L,6,6103)}if(!e.length)throw new t.K(t.L,6,6101,"Content ID is an empty string");r=sn(r,e,i)}return r},Sn=function(e,n){var r=n.target;e.a.debug("Sending license request for session",r.sessionId);var i=e.g.get(r),o=e.f.licenseServerUri,a=e.keySystem();a=e.h.Ua[a],"individualization-request"===n.messageType&&a&&a.individualizationServer&&(o=a.individualizationServer);var s=t.Fh([o],e.h.attemptParameters);s.type=3,s.body=n.message,s.method="POST",s.licenseRequestType=n.messageType===t.ad&&i.Rb?t.$c:n.messageType,s.sessionId=r.sessionId,s.licenseRequestType===t.$c&&e.m.onEvent(new t.M(j)),Dn(e.f.keySystem)&&In(e,s),Qt(e.P,s);var u=Date.now();return Rn(e,s,i.sessionContext).then((function(){return e.a.debug("Sending DRM license request to",o,s),e.m.tb.fetch(s).N})).then((function(n){if(e.j)return Promise.reject();e.a.info("Received license response in "+(Date.now()-u)+"ms");var o=Zt(e.P,n);return r.update(n.data).then((function(){var n=new t.M(t.Kc,{keySystem:e.keySystem(),Uh:t.Cl(e)});e.m.onEvent(n),i&&(i.hb&&i.hb.resolve(),i.Rb&&(xn(i.Rb).catch((function(){e.a.warn("Unable to close expired session in time")})),(n=e.g.get(i.Rb))&&n.tc&&n.tc.stop(),e.g.delete(i.Rb),i.Rb=null),new t.Ah((function(){i.loaded=!0,Nn(e)&&(e.A||e.a.info(h),e.A=!0,e.C=!1,e.H.resolve())})).X(5),null!==i.initData&&(0<i.sessionContext.ldlDelay||o&&t.gg(e.keySystem(),t.Bc))&&(n=new t.Ah((function(){!e.j&&e.P&&(e.a.info("Updating CSL Sessions"),Tn(e,i.keyId,i.periodId,i.initDataType,i.initData,r))})),i.tc=n,n.X(o?o.delay:i.sessionContext.ldlDelay)))}))}),(function(n){if(!e.j){var r=n.data.headers;r=Object.assign({message:t.Da,url:n.data.url,status:n.data.status,response:n.data.response},r?{headers:r}:{},dn(r)),n=new t.K(t.L,6,6007,r,n),e.o(n),i&&i.hb&&i.hb.reject(n)}})).catch((function(n){e.j||(n=new t.K(t.L,6,6008,{browserError:n.message}),e.o(n),i&&i.hb&&i.hb.reject(n))}))},In=function(e,n){var r=Re(n.body,!0,!0);if(r.includes("PlayReadyKeyMessage")){e.a.debug("Unwrapping PlayReady request.");for(var i=(r=(new DOMParser).parseFromString(r,"application/xml")).getElementsByTagName("HttpHeader"),o=0;o<i.length;++o)n.headers[i[o].querySelector("name").textContent]=i[o].querySelector(t.Be).textContent;n.body=t.Zh(r.querySelector("Challenge").textContent).buffer}else e.a.debug("PlayReady request is already unwrapped."),n.headers[c]="text/xml; charset=utf-8"},Rn=function(e,n,r){var i,o,a,s,u,h;return t.z((function(l){if(1==l.a)return i=e.m.getConfiguration(),t.v(l,mn(e,i),2);o=e.keySystem(),u=(s=(a=e.h.Ua[o])&&a.modifiers)&&s.licenseRequest,h=s&&s.licenseResponse,u?n.requestModifiers.push((function(e){return u(i,e,r)})):o.startsWith(t.Ac)&&n.requestModifiers.push((function(e){var n=t.J(e.body);n="spc="+t.Xh(n),e.body=t.dg(encodeURIComponent(n)).buffer,e.headers[c]=C})),h?n.responseModifiers.push((function(e){return h(i,e,r)})):o.startsWith(t.Ac)&&n.responseModifiers.push((function(e){e:{try{var n=t.$f(e.data)}catch(t){e=void 0;break e}"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6));try{n=JSON.parse(n).ckc}catch(e){}e.data=t.Zh(n).buffer,e=void 0}return e})),t.w(l)}))},kn=function(e){var n=e.Ka,r=e.ca;r.clear(),n.forEach((function(e,t){return r.set(t,e)})),(n=Array.from(r.values())).length&&n.every((function(e){return"expired"==e}))&&e.o(new t.K(t.L,6,6014)),e.m.ue(t.B.Pe(r)),e.A||e.a.info(h),e.A=!0,e.C=!1},Cn=function(e){var n;return t.z((function(r){return n=e.aa.map((function(t){return Sn(e,t)})),e.Ea=!0,e.aa=[],t.v(r,Promise.all(n),0)}))},Dn=function(e){return!!e.match(/^com\.(microsoft|chromecast)\.playready/)},t.Dl=function(e){return Dn(e)?t.Bc:e},t.Ml=function(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem===t[i].keySystem&&e[r].periodId===t[i].periodId){var o=e[r];i=t[i];var a=[];a=(a=a.concat(o.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(o.keyIds)).concat(i.keyIds),n.push({keySystem:o.keySystem,licenseServerUri:o.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:o.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:o.persistentStateRequired||i.persistentStateRequired,videoRobustness:o.videoRobustness||i.videoRobustness,audioRobustness:o.audioRobustness||i.audioRobustness,serverCertificate:o.serverCertificate||i.serverCertificate,initData:a,keyIds:s,periodId:o.periodId});break}return n},Mn=function(e){e.g.forEach((function(t,n){var r=t.re,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.m.onExpirationUpdated(n.sessionId,i),t.re=i)}))},Nn=function(e){return e=e.g.values(),t.Qk(e,(function(e){return e.loaded}))},Ln=function(e,n){var r=[];n.forEach((function(e,t){r.push({keySystem:t,licenseServerUri:e.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var i=t.t(e),o=i.next();!o.done;o=i.next())o.value.drmInfos=r},Pn=function(e,n,r,i,o){for(var a={},s=(e=t.t(e)).next();!s.done;a={la:a.la},s=e.next()){if(a.la=s.value,n.includes(a.la.licenseServerUri)||n.push(a.la.licenseServerUri),a.la.serverCertificate&&(r.some(function(e){return function(n){return t.bi(n,e.la.serverCertificate)}}(a))||r.push(a.la.serverCertificate)),a.la.initData){var u=t.t(a.la.initData);for(s=u.next();!s.done;s=u.next())s.value.periodId=a.la.periodId;u={};var c=t.t(a.la.initData);for(s=c.next();!s.done;u={bd:u.bd},s=c.next())u.bd=s.value,i.some(function(e){return function(n){var r=e.bd;return!(!n.keyId||n.keyId!=r.keyId||n.periodId!==r.periodId)||n.initDataType==r.initDataType&&t.bi(n.initData,r.initData)&&n.periodId===r.periodId}}(u))||i.push(u.bd)}if(a.la.keyIds)for(s=0;s<a.la.keyIds.length;++s)o.includes(a.la.keyIds[s])||o.push(a.la.keyIds[s])}},_n=function(e,n){if(e.keySystem){var r=t.Dl(e.keySystem),i=n[r];r===t.Ed&&e.licenseServerUri||(i&&(e.licenseServerUri=i.licenseUrl||""),e.keyIds||(e.keyIds=[]),i&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=i.persistentStateRequired),e.videoRobustness||(e.videoRobustness=i.videoRobustness||""),e.audioRobustness||(e.audioRobustness=i.audioRobustness||""),e.serverCertificate||(e.serverCertificate=i.serverCertificate||null)))}},xn=function(e){var n;return t.z((function(r){if(1==r.a)return n=new Promise((function(e){new t.Ah(e).X(1)})),t.v(r,Promise.race([e.close().then((function(){return!0})),n.then((function(){return!1}))]),2);r.f||t.C("Timeout waiting for session close"),t.w(r)}))},t.Nl=function(e,t){return e.concat(t)},t.Ol=function(e){return null!=e},t.Pl=function(e,n){if(0==n.length)return e;var r=n.map((function(e){return new t.jj(e)}));return e.map((function(e){return new t.jj(e)})).map((function(e){return r.map(e.resolve.bind(e))})).reduce(t.Nl,[]).map((function(e){return e.toString()}))},t.Ql=function(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[],periodId:null}},On=function(){this.a=null,this.f=[]},t.Sl=function(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.f.push(e.a),e.a={timestamp:n,state:t,duration:0})}},jn=function(e,n){var r=0;e.a&&e.a.state==n&&(r+=e.a.duration);for(var i=t.t(e.f),o=i.next();!o.done;o=i.next())r+=(o=o.value).state==n?o.duration:0;return r},Un=function(e){function n(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var r=[],i=t.t(e.f),o=i.next();!o.done;o=i.next())r.push(n(o.value));return e.a&&r.push(n(e.a)),r},Bn=function(){this.g=this.f=this.h=null,this.a=[]},Fn=function(e){return e.a.map((function(e){return t.B.ua(e)}))},t.Xl=function(){this.m=this.A=this.o=this.B=this.g=this.h=this.f=this.j=NaN,this.a=new On,this.w=new Bn},t.Yl=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}},t.$l=function(e,t,n,r){t===HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Wo.value().get(t),n.one(e,t,r))},Kn=function(){t.Hj.call(this,x),this.w=this.D=!1,this.j=this.B=this.m=this.a=this.h=null,this.g=new t.bh,this.C=this.f=this.H=null},Hn=function(e,n){return e.w?qn():new Promise((function(r){e.a||(e.g.on(n,t.Rc,(function(){var t=Wn(e);t&&e.onError(t)})),e.g.on(n,t.Vd,(function(){e.trigger(new t.M(t.dc,{detail:{width:n.videoWidth,height:n.videoHeight}}))})),e.a=n),r()}))},Vn=function(e){return e.w?qn():new Promise((function(n){if(e.a){var r=e.a;e.g.off(r,t.Rc),e.g.off(r,t.Vd),e.a=null}n()}))},Gn=function(e){var n,r,i,o,a;return t.z((function(s){return 1==s.a?e.w?s.return(qn()):(n=e.o[e.getSourceIndex()],e.configuration.drm&&!1!==n.drmProtected?(r=t.fm,i=t.Yj(e.configuration.drm),e.log.debug("Drm configuration: ",i),o=e.getNetworkEngine(),e.m=new t.cl({tb:o,onError:function(t){return e.onError(t)},ue:function(){},onExpirationUpdated:function(n,r){e.trigger(new t.M(t.Hc,{expirationTime:r}))},onEvent:function(t){return e.trigger(t)},getConfiguration:function(){return e.getConfiguration()},yc:function(){return e.yc()}}),e.m.h=i,a={id:0,language:t.ue,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:e.getDuration.bind(e),initSegmentReference:null,ub:0,mimeType:t.Ge,codecs:"",encrypted:!0,keyId:null,language:t.ue,label:null,type:r.VIDEO,primary:!1,frameRate:void 0,pk:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,ak:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},t.v(s,t.hl(e.m,[a],[]),2)):(e.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),s.return(Promise.resolve()))):3!=s.a?t.v(s,t.xl(e.m,e.a),3):s.return(Promise.resolve())}))},zn=function(e,n){t.$l(e.a,HTMLMediaElement.HAVE_METADATA,e.g,(function(){e.getState()!==t.hm&&e.seek(n).catch((function(t){e.log.warn("Error while seeking to start position.",t)}))}))},Wn=function(e){if(null===e.o||!e.a.error)return null;var n=e.a.error.code;if(1===n)return null;var r=e.a.error.msExtendedCode;return r&&(0>r&&(r+=Math.pow(2,32)),r=r.toString(16)),new t.K(t.L,3,3016,{code:n,jk:r,message:e.a.error.message})},qn=function(){return Promise.reject(new t.K(t.L,7,7e3))},Yn=function(e){if(e.w)return qn();var n=e.o[e.getSourceIndex()],r=e.configuration.startTime||null,i=e.a,o=e.H;r&&zn(e,r),i.preload!==t.td&&e.g.one(i,t.dd,(function(){var t=Date.now()/1e3-o;e.f.o=t,e.log.debug("Time to load: ",t)})),i.src=n.url,i.load();var a=new t.gj;return e.g.one(i,q,(function(){var r=e.getConfiguration().manifest.attemptParameters.timeout||30;e.C||(e.C=new t.Ah((function(){a.reject(new t.K(t.L,3,3100,{message:"Unable to load media source successfully from "+n.url,uri:n.url},i.error))})).X(r))})),t.$l(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.g,(function(){return a.resolve()})),i.error?a.reject(Wn(e)):i.preload===t.td&&(e.log.warn('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way. Please do not use preload="none" with PRESTOplay for Web Apps.'),a.resolve()),e.g.one(i,t.Rc,(function(){a.reject(Wn(e))})),new t.jm(a,(function(){var e=new t.K(t.L,7,7001);return a.reject(e),Promise.resolve()}))},Xn=function(){},t.mm=function(){},Jn=function(e,n){this.h=new t.F("clpp.PlayerSurface");var r=t.B.Qa({},qo,n);if(r.containerEl=n?n.containerEl:null,this.g=typeof e===t.ge?document.getElementById(e):e,this.f=this.j=this.a=null,this.h.debug("Initializing Player Surface on ",this.g),this.g instanceof Element&&(this.g instanceof HTMLMediaElement?this.a=this.g:"cast-media-player"===this.g.tagName.toLowerCase()&&(this.j=this.g)),r.containerEl)this.f=r.containerEl,t.ng(this.f,L);else if(!r.disableContainer&&!this.j){var i=document.createElement(t.Gc);t.ng(i,L),this.f=i,this.g.parentNode?this.g.parentNode.replaceChild(this.f,this.g):this.g.parentNode||this.h.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!"),this.a&&this.f.appendChild(this.a)}if(this.a&&(this.a.hasAttribute("crossorigin")||(i=r.crossorigin,this.h.info("Setting media elements crossorigin to "+i),this.a.setAttribute("crossorigin",i)),this.f)){if(!r.containerEl&&this.a&&this.f){r=this.a,i=[];for(var o=0;o<r.classList.length;o++)i.push(r.classList[o]);for(i=(r=t.t(i)).next();!i.done;i=r.next())i=i.value,this.a.classList.remove(i),t.ng(this.f,i);for(this.f.style.cssText=this.a.style.cssText,this.a.removeAttribute(t.ie),i=(r=t.t([t.Te,t.Uc])).next();!i.done;i=r.next())i=i.value,o=this.a.getAttribute(i),o=parseInt(o,10),isNaN(o)||(this.f.style[i]=o+t.Pd),t.zi()||this.a.removeAttribute(i)}t.ng(this.a,t.rc)}},Qn=function(e){return(e=new t.jj(e).ra)?(e=e.toUpperCase(),t.hg(e,".MPD")?t.pm:t.hg(e,".M3U8")?t.qm:t.hg(e,".MP4")?t.Ge:t.hg(e,"MANIFEST")||t.hg(e,".ISM")?t.rm:null):null},t.um=function(e){var n;n=t.Gj(e)?e.source:e,Array.isArray(n)||(n=[n]),n=n.filter((function(e){return typeof e===t.ge||e.hasOwnProperty("url")})),e=[];for(var r=0;r<n.length;r++){var i=Zn(n[r]);i&&e.push(i)}return e},Zn=function(e){var n=null;return t.B.W(e)&&(e={url:e}),typeof e===t.vd&&!Array.isArray(e)&&e.hasOwnProperty("url")&&(n={url:e.url,type:e.type?e.type:null},t.B.R(e.drmProtected)||typeof e.drmProtected!==t.ec||(n.drmProtected=e.drmProtected),t.B.R(e.isLive)||typeof e.isLive!==t.ec||(n.isLive=e.isLive),t.B.R(e.name)||typeof e.name!==t.ge||(n.name=e.name),t.B.R(e.xb)||typeof e.xb!==t.ge||(n.xb=e.xb),t.B.R(e.audioMimeType)||typeof e.audioMimeType!==t.ge||(n.audioMimeType=e.audioMimeType)),n&&!n.type&&(n.type=Qn(e.url),n.type?Yo.debug("Detect media type "+n.type+" for "+e.url):Yo.warn("Unable to detect media type for "+e.url)),n},t.xm=function(e){t.wm[e]&&delete t.wm[e]},t.zm=function(e){t.ym[e]&&delete t.ym[e]},t.Bm=function(e,n,r,i){var o,a;return t.z((function(s){if(1==s.a)return t.mf(s,2),t.v(s,$n(e,n,r,i),4);if(2!=s.a)return o=s.f,s.return(new o);throw(a=t.of(s)).f(t.L),a}))},$n=function(e,n,r,i){var o,a,s,u;return t.z((function(c){if(1==c.a){if(i){if(o=t.ym[i.toLowerCase()])return c.return(o);t.C("Could not determine manifest type using MIME type ",i)}if(a=t.Cm(e)){if(s=t.wm[a])return c.return(s);t.C("Could not determine manifest type for extension ",a)}else t.C("Could not find extension for ",e);return i?c.G(2):t.v(c,er(e,n,r),3)}if(2!=c.a&&(i=c.f)){if(u=t.ym[i])return c.return(u);t.C("Could not determine manifest type using MIME type",i)}throw new t.K(t.L,4,4e3,{url:e})}))},er=function(e,n,r){var i,o,a;return t.z((function(s){return 1==s.a?(i=t.Fh(e),Ht(i,r),i.type=1,i.method="HEAD",t.v(s,n.fetch(i).N,2)):(o=s.f,a=o.headers["content-type"],s.return(a?a.toLowerCase():""))}))},t.Cm=function(e){return 1==(e=new t.jj(e).ra.split("/").pop().split(".")).length?"":e.pop().toLowerCase()},tr=function(){for(var e=0;e<Qo.length;++e)Qo[e].rc()},t.Gm=function(e,t){for(var n={priority:t=t||0,rc:e},r=0;r<Qo.length;r++)if(Qo[r].priority<t)return void Qo.splice(r,0,n);Qo.push(n)},nr=function(e){var n=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(typeof Event===t.Tc)var r=new Event(n,e);else(r=document.createEvent("Event")).initEvent(n,e.bubbles,e.cancelable);e.target.dispatchEvent(r)},rr=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},ir=function(){return t.H("PatchedMediaKeysNop.requestMediaKeySystemAccess"),Promise.reject(Error("The key system specified is not supported."))},or=function(e){return t.H("PatchedMediaKeysNop.setMediaKeys"),null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))},ar=function(){throw new TypeError(v)},sr=function(){throw this.keySystem="",new TypeError(v)},ur=function(t,n,r){return new e.TextTrackCue(t,n,r)},cr=function(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)},hr=function(e){if((e=e.target).webkitPresentationMode===G){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement===e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)},lr=function(){return this.webkitSupportsPresentationMode(G)?(this.webkitSetPresentationMode(G),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},fr=function(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},dr=function(e,n){t.H("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var r=new mr(e,n);return Promise.resolve(r)}catch(e){return Promise.reject(e)}},pr=function(e){t.H("PatchedMediaKeysApple.setMediaKeys");var n=this.mediaKeys;return n&&n!=e&&br(n,null),delete this.mediaKeys,(this.mediaKeys=e)?br(e,this):Promise.resolve()},gr=function(e){if(t.H("PatchedMediaKeysApple.onWebkitNeedKey_",e),e=t.J(e.initData),t.Xf(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=Re(e.subarray(4),!0),e=t.dg(e);var n=new Event(t.Oc);n.initDataType="skd",n.initData=t.Yf(e),this.dispatchEvent(n)},yr=function(e){t.H("PatchedMediaKeysApple.cancelNativeMediaEncryptedEvent_",e),e instanceof MediaEncryptedEvent&&(t.Nf("Cancel native MediaEncryptedEvent when using Apple-prefixed EME"),e.stopImmediatePropagation())},mr=function(e,n){if(t.H("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=e,e.startsWith(t.Ac))for(var r=t.t(n),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.persistentState==t.Ud)i=null;else{i={audioCapabilities:[],videoCapabilities:[],persistentState:t.Dd,distinctiveIdentifier:t.Dd,initDataTypes:o.initDataTypes,sessionTypes:[t.ne],label:o.label};var a=!1,s=!1;if(o.audioCapabilities)for(var u=t.t(o.audioCapabilities),c=u.next();!c.done;c=u.next())(c=c.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(i.audioCapabilities.push(c),s=!0));if(o.videoCapabilities)for(c=(o=t.t(o.videoCapabilities)).next();!c.done;c=o.next())(u=c.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(i.videoCapabilities.push(u),s=!0));a||(s=WebKitMediaKeys.isTypeSupported(this.keySystem,t.Ge)),i=s?i:null}if(i)return void(this.a=i)}throw(r=Error(t.pb)).name=t.Za,r.code=DOMException.NOT_SUPPORTED_ERR,r},vr=function(e){t.H("PatchedMediaKeysApple.MediaKeys"),this.f=new WebKitMediaKeys(e),this.a=new t.bh},br=function(e,n){if(t.eh(e.a),!n)return Promise.resolve();e.a.on(n,t.Oc,yr),e.a.on(n,$,gr);try{return 1<=n.readyState?n.webkitSetMediaKeys(e.f):e.a.one(n,t.ed,(function(){n.webkitSetMediaKeys(e.f)})),Promise.resolve()}catch(e){return Promise.reject(e)}},Er=function(e){t.H("PatchedMediaKeysApple.MediaKeySession"),t.Vh.call(this),this.g=null,this.j=e,this.f=this.a=null,this.h=new t.bh,this.sessionId="",this.expiration=NaN,this.closed=new t.gj,this.keyStatuses=new wr},Tr=function(e,n){var r=e.keyStatuses;r.size=null==n?0:1,r.a=n,e.dispatchEvent(new t.M(t.Yc))},wr=function(){this.size=0,this.a=void 0},Ar=function(e,t,n){"input"===e&&"range"===this.type&&(e=N),Jo.call(this,e,t,n)},Sr=function(e){this.l=e,this.h=this.l.getNetworkEngine(),this.a=new t.bh,this.g=null,this.f=!0,Ir(this)},Ir=function(n){n.a.on(e,"offline",(function(){Mr(n,!1)})),n.a.on(e,"online",(function(){n.f||Rr(n)})),n.a.on(n.l,q,(function(){return kr(n)})),n.a.on(n.l,"suspend",(function(){return kr(n)})),n.a.on(n.l,t.Me,(function(){return kr(n)})),n.a.on(n.l,t.Ld,(function(){n.f||Rr(n)})),n.a.on(n.l,t.Od,(function(){n.f||Rr(n)})),n.a.on(n.l,t.de,(function(){n.l.getState(),t.jn,kr(n)}))},Rr=function(e){e.l.getConfiguration().connectivityCheck&&(Cr(e),e.g=new t.Ah((function(){return Dr(e)})).X(5))},kr=function(e){e.f&&Rr(e)},Cr=function(e){e.g&&(e.g.stop(),e.g=null)},Dr=function(e){var n,r;return t.z((function(i){if(1==i.a)return(n=e.l.getConfiguration().connectivityCheck)&&e.l?t.v(i,Vt(e.h,n.url,n.attemptParameters,n.method),2):i.return();r=i.f,Mr(e,r),t.w(i)}))},Mr=function(e,n){Cr(e),e.f!==n&&(e.f=n,e.l&&e.l.getConfiguration().connectivityCheck&&e.l.trigger(new t.M(V,{online:e.f})))},t.jm=function(e,t){this.N=e,this.w=t,this.a=!1},Nr=function(e,t){return e.N.then((function(){return t(!0)}),(function(){return t(!1)})),e},Lr=function(e,t,n){try{var r=e(t);return r&&r.N&&r.abort?(n.resolve(r.N),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){})).catch((function(){}))})}catch(e){return n.reject(e),function(){return Promise.resolve()}}},Pr=function(e){t.jm.call(this,new t.gj,(function(){return Promise.resolve()})),this.A=e,this.g=null,this.o=this.N,this.f=-1,this.h=this.j=this.m=null,xr(this)},_r=function(e,t,n){e.m=setTimeout(t,n)},xr=function(e){e.g=e.A.then((function(n){if(e.h=n.request,n.request.uriIndex=n.request.currentAttempt%n.request.uris.length,0<n.request.currentAttempt){-1===e.f&&(e.f=Or(n.request.baseDelay,1e3));var r=e.f*(1+(2*Math.random()-1)*Or(n.request.fuzzFactor,.5));if(e.f*=Or(n.request.backoffFactor,2),0<r)return new Promise((function(t,i){e.j=i,_r(e,(function(){t(n.plugin(n.request))}),r)})).catch((function(t){if(!e.a)throw t}))}if(e.a)throw new t.K(1,1,7001,{url:n.request.uris[n.request.uriIndex],request:n.request});return n.plugin(n.request)}));var n=0,r=0,i=0;return e.g.then((function(e){var t=e.request;return t.currentAttempt+=1,n=t.currentAttempt,r=t.maxAttempts,i=t.uris.length,e.N})).then((function(t){e.o.resolve(t)})).catch((function(o){if(o instanceof t.K){if((1===o.a||n<i)&&7001!==o.code&&n<r)return xr(e);7001!==o.code&&o.f(t.L),e.o.reject(o)}else e.o.reject(o)}))},Or=function(e,t){return null==e?t:e},t.tn=function(e,n){var r=t.sn(e,n);return 1!=r.length?null:r[0]},t.sn=function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.tagName==t}))},t.un=function(e){return Array.prototype.every.call(e.childNodes,(function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},t.vn=function(e,n){var r=new DOMParser,i=null,o=null;try{o=r.parseFromString(e,t.qe)}catch(e){}return o&&o.documentElement.tagName==n&&(i=o.documentElement),i&&0<i.getElementsByTagName("parsererror").length?null:i},jr=function(e,t,n){this.h=new Uint8Array(e),this.a=t,this.f=n},t.yn=function(e){var n=new Uint8Array(ea),r=4+n.byteLength+e.h.byteLength+4+e.f.byteLength,i=new t.Zj(r,!1);return t.S(i,r),t.bk(i,n),t.bk(i,e.h),t.S(i,e.f.byteLength),t.bk(i,e.f),t.J(i.buffer)},Ur=function(){jr.apply(this,arguments)},t.Bn=function(e){var n=t.$h(e);return n=parseInt(n.byteLength,10).toString(16),n=t.$h("12"+n+e),new Ur($o,e,n)},Br=function(e,t,n,r,i,o){o=void 0===o?null:o,jr.call(this,e,t,r),this.version=i,this.g=n,this.j=o},t.En=function(e,n){return n===e.version?e:t.Dn(n,e.a,e.j||void 0,e.g||void 0)},t.Dn=function(e,n,s,u){var c=t.$h(n),h=Fr(c);c=t.Xh(h);e:switch(h=h.byteLength,t.H("Trying to create PlayReady header in version",e),e){case"4.0.0.0":c=[a+e+'">',"<DATA><PROTECTINFO>","<KEYLEN>"+h+"</KEYLEN>","<ALGID>AESCTR</ALGID></PROTECTINFO>","<KID>"+c+"</KID>",s?"<CHECKSUM>"+s+"</CHECKSUM>":"",u?o+u+i:"",r].join("");break e;case"4.1.0.0":c=[a+e+'">','<DATA><PROTECTINFO><KID ALGID="AESCTR" ',s?'CHECKSUM="'+s+'" ':"",'VALUE="'+c+'"',"></KID></PROTECTINFO>",u?o+u+i:"",r].join("");break e;case"4.2.0.0":case"4.3.0.0":c=[a+e+'">','<DATA><PROTECTINFO><KIDS><KID ALGID="AESCTR" ',s?'CHECKSUM="'+s+'" ':"",'VALUE="'+c+'"',"></KID></KIDS></PROTECTINFO>",u?o+u+i:"",r].join("");break e;default:t.C("Cannot create PlayReady header in version",e),c=""}return t.H("New payload",c),c=t.J(ke(c,!0)),new Br(Zo,n,u||null,c,e,s)},t.Hn=function(e){e:{for(e=new t.ck(new DataView(e.buffer),!0),t.hk(e),t.gk(e);t.dk(e);)if(1===t.gk(e)){var n=t.gk(e);e=t.kk(e,n);break e}e=null}n=Re(e,!0);var r=t.vn(n,"WRMHEADER");n=r.getAttribute("version");var i=t.tn(r,"DATA");r=(r=t.tn(i,"LA_URL"))?t.un(r):"";var o="",a=t.tn(i,"KID");if(a){o=t.un(a)||"";var s=a.getAttribute("CHECKSUM")}else(a=t.tn(i,"PROTECTINFO"))&&(a=t.tn(a,"KIDS"))&&(o=t.tn(a,"KID").getAttribute("VALUE")||""),(i=t.tn(i,"CHECKSUM"))&&(s=i.textContent);return i=t.Zh(o),i=Fr(i),i=t.ai(i),new Br(Zo,i,r,e,n,s)},Fr=function(e){var n=[];return n.push(e[3]),n.push(e[2]),n.push(e[1]),n.push(e[0]),n.push(e[5]),n.push(e[4]),n.push(e[7]),n.push(e[6]),(e=t.J(e)).set(n,0),e},Kr=function(){this.l=null},Hr=function(e,n,r,i,o){t.Qj.call(this,y),this.m=e,this.j=n,this.h=r,this.g=i,this.o=o,this.a=new t.F(_),Ce(this.m)?this.a.warn("Widevine License URL is not defined"):this.fb(t.Sj,{licenseUrl:this.m,videoRobustness:[t.hb,void 0],audioRobustness:[t.gb,void 0],persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:null,modifiers:{licenseRequest:this.Uc.bind(this)}}),Ce(this.j)?this.a.warn("PlayReady License URL is not defined"):this.fb(t.Uj,{licenseUrl:this.j,videoRobustness:["3000"],audioRobustness:["2000"],modifiers:{licenseRequest:this.Uc.bind(this)}}),Ce(this.h)?this.a.warn("FairPlay License URL is not defined"):Ce(this.g)?this.a.warn("FairPlay Certificate URL is not defined"):this.fb(t.Tj,{licenseUrl:this.h,certificateUrl:this.g,modifiers:{licenseRequest:this.Kf.bind(this),licenseResponse:this.Lf.bind(this),certificateRequest:this.Uc.bind(this),extractContentId:this.mf.bind(this)}})},t.Kn=function(e){for(var n=[],r=(e=t.t(e)).next();!r.done;r=e.next())for(var i=(r=t.t(r.value.variants)).next();!i.done;i=r.next())n.push(i.value);return n},Vr=function(e,t){e.onError(t),e.release().then((function(){return e.destroy()}))},Gr=function(e,n,r){this.g=e,this.f=n,JSON.parse(t.$f(t.Zh(e))),this.a=JSON.parse(t.$f(t.Zh(n))),this.h=r},zr=function(e){this.license=e,this.a=null,this.f=new t.F("clpp.utils.LicenseKey")},Wr=function(e){if(!e.a){var t=e.license.split(".");if(3!=t.length)throw Error("Expected to find 3 data sections in JWT raw data");t=new Gr(t[0],t[1],t[2]),e.a=t}return e.a},qr=function(e){switch((e.rd()[0]||{src:"",type:""}).type){case t.pm:e="dash";break;case t.rm:e="ss";break;case t.qm:e="hls";break;case t.Ge:e=t.nd;break;default:e=""}return e},Yr=function(e){return e.viewerId?e.viewerId:(e=e.drm||null)&&e.customData&&e.customData.userId?""+e.customData.userId:""},Xr=function(e){return(e=e.drm||null)&&e.customData&&e.customData.assetId?""+e.customData.assetId:""},Jr=function(e){return(e=e.drm||null)&&e.customData&&e.customData.sessionId?""+e.customData.sessionId:""},Qr=function(e){var t=e.getConfiguration(),n="no";return t.drm&&(n="custom",t.drm.env&&t.drm.env.toLowerCase().startsWith(U)||ti(e).endsWith("drmtoday.com"))&&(n=U),n},Zr=function(e){var n="";if(e=e.getDrmInfo())switch(e.keySystem){case t.Sj:n="wv";break;case t.Uj:n="pr";break;case t.Tj:n="fps"}return n},$r=function(e){var t=!1;return(e=e.getDrmInfo())&&(t=e.persistentStateRequired),t.toString()},ei=function(e){var n="";if(e=e.getDrmInfo())switch(e.videoRobustness){case g:case"HW_SECURE_ALL":n="L1";break;case p:n="L2";break;case t.hb:case t.gb:n="L3"}return n},ti=function(e){return e=e.getDrmInfo(),new t.jj(e&&e.licenseServerUri||"").Fa},ni=function(n,r){if(!e.location.protocol.startsWith("http"))return n.f.debug("Registration protocol check",e.location.protocol,e.location.protocol.startsWith("http")),Promise.resolve();var i="ie"===t.Yi().browser,o=r.getConfiguration(),a=t.ff(Array.from(t.Ij.keys())).concat(t.ff(r.hi()));return o={"CL-KEY":n.license,"CL-LOCATION":e.location.href,"CL-SDK-VERSION":t.da,"CL-USER-ID":Yr(o),"CL-ASSET-ID":Xr(o),"CL-SESSION-ID":Jr(o),"CL-PLAYBACK-TYPE":r.isLive()?aa:oa,"CL-CONTENT-TYPE":qr(r),"CL-PLUGINS":a.join(" "),"CL-DRM":Qr(r),"CL-DRM-CDM":Zr(r),"CL-DRM-SEC-LEVEL":ei(r),"CL-DRM-OFFLINE":$r(r),"CL-DRM-IP":ti(r)},i&&(a=e.localStorage.getItem("cl_et"))&&(o["CL-ETAG"]=a),(a=t.Fh(["https://downloads.castlabs.com/r/register/"])).method="GET",a.headers=o,(new t.xj).fetch(a).N.then((function(t){return 200===t.status&&i&&e.localStorage.setItem("cl_et",t.headers.etag),Promise.resolve()})).catch((function(e){e:{var r=Wr(n),i=(e=e.data).status;if(r.a&&r.a.ilv)e=Promise.resolve();else{switch(i){case 403:case 404:r=7101;var o="castLabs Player license is invalid";if(403===i){i=o,o="";try{o=JSON.parse(decodeURIComponent(e.responseText)).message}catch(e){}e=i+": "+o}else e=o+"!";o=e;break;case 412:r=7103,o="userID is required for playback!";break;default:e=Promise.resolve();break e}n.f.error(E+o),e=Promise.reject(new t.K(t.L,7,r,o))}}return e}))},t.ao=function(e,t,n){this.f=e,this.g=t,this.h=n||this.f.getMedia(),this.a=null},t.wj=function(){this.a=[]},t.bo=function(e,t){e.a.push(Nr(t,(function(){var n=e.a,r=n.indexOf(t);-1<r&&n.splice(r,1)})))},t.eo=function(e){var t=(e||"").split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=sa.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e},t.fo=function(e,n,r,i,o,a,s,u){return(e=t.Fh(e)).timeout=i.timeout,e.maxAttempts=i.maxAttempts,e.baseDelay=i.baseDelay,e.fuzzFactor=i.fuzzFactor,e.backoffFactor=i.backoffFactor,0==n&&null==r||(e.headers.Range=r?"bytes="+n+"-"+r:"bytes="+n+"-"),o&&(e.startTime=o),a&&(e.endTime=a),s&&(e.contentType=s),u&&(e.timescale=u),e},t.ho=function(){this.a=new Blob([ua],{type:t.Ge})},t.io=function(e){this.g=Math.exp(Math.log(.5)/e),this.f=this.a=0},t.jo=function(e,t,n){var r=Math.pow(e.g,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.f+=t)},t.ko=function(e){return e.a/(1-Math.pow(e.g,e.f))},t.lo=function(e){this.f=e,this.a=0},t.mo=function(e,t){t.lastIndex=e.a;var n=t.exec(e.f);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.f.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)},ri=function(e,n,r){t.Vh.call(this);var i=this;if(tr(),this.g=new t.F("clpp.Player"),!e)throw new t.K(t.L,7,7102);if(this.A=new t.bh,this.f=this.S=n||t.Dj(),this.w=null,void 0===this.f.license&&(this.f.license=ia,this.g.warn("You are using the embedded demo license!")),!this.f.license)throw this.g.error("You provided null or empty string as your license. Please check your license configuration."),new t.K(t.L,7,7101,"No license provided in configuration!");for(this.h=new Jn(e,r),this.a=this.o=null,this.H=new t.xj,this.j=null,this.K=[],this.M={},this.m=null,this.I=!0,this.J=this.D=!1,this.C=this.vc=null,this.Vd=!1,this.V=new Sr(this),this.P=!1,this.B=function(e){(e=e.detail)&&e.currentState===t.no&&(i.off(t.de,i.B),oi(i))},this.on(t.de,(function(){i.getState()===t.hm&&i.unload()})),this.on(t.Mb,this.Ff.bind(this)),this.on(t.Lb,this.Ff.bind(this)),ii(this,this.f.license),this.h.getMedia()&&(e=this.h.getMedia()).hasAttribute("autoplay")&&(e.removeAttribute("autoplay"),this.g.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),void 0===this.f.autoplay&&(this.f.autoplay=!0,this.g.debug("Setting autoplay in configuration since it was specified in the video element"))),e=[],r=(n=t.t(ca)).next();!r.done;r=n.next()){r=r.value;try{var o=r.create(this.f);o&&e.push(o)}catch(e){this.g.error("Error while creating player plugin",e)}}ai(this,e),t.Ij.clear()},t.so=function(e,t){t!==e.a&&(e.a&&(e.a.removeDelegate(e),e.a.destroy()),e.a=t,e.a&&(e.a.init(e.h,e.f),e.a.setNetworkEngine(e.getNetworkEngine()),e.a.addDelegate(e)))},ii=function(e,n){e.o=new zr(n),e.o.verify().catch((function(n){setTimeout((function(){e.g.error(E+n),e.trigger(new t.M(t.Rc,{detail:new t.K(t.L,7,7101)})),e.destroy()}),1e3)}))},oi=function(e){if(!e.P){e.P=!0,e.h.getMedia()||e.h.getCastElement(),e.o||(e.o=new zr(e.f.license));var t=Object.keys(e.M);ni(e.o,{getConfiguration:e.getConfiguration.bind(e),rd:e.rd.bind(e),getDrmInfo:e.getDrmInfo.bind(e),hi:function(){return t},isLive:e.isLive.bind(e)}).then((function(){e.g.debug("License verified remotely")})).catch((function(t){setTimeout(Vr,1e3,{release:e.release.bind(e),destroy:e.destroy.bind(e),onError:e.onError.bind(e)},t)}))}},ai=function(e,n){e.K=n,e.bc("onPlayerCreated").then((function(){for(var n=t.t(e.K),r=n.next();!r.done;r=n.next()){var i=(r=r.value).id();i&&(e.M[i]=r)}}))},si=function(e){var n,r;return t.z((function(i){return 1==i.a?e.I?(e.g.debug("The player is already released. No-op"),i.return(new Promise((function(e){return e()})))):(e.off(t.de,e.B),e.A.off(e,t.de,e.B),e.A.off(document,X),e.trigger(new t.M(t.Sd)),e.P=!1,e.h&&e.h.release(),e.j?t.v(i,e.j.dispose(),3):i.G(2)):(2!=i.a&&(e.j=null),Xt((function(e){e.release()})),e.a?(n=null,r=e.a.on(t.de,(function(e){n=e})),i.return(e.bc(t.Ad).then((function(){return e.a.removeDelegate(e),Promise.all([e.a.release(),e.H.release()])})).then((function(){e.g.debug("Releasing player completed"),n&&(e.g.debug("Re-post state change event after release"),e.trigger(n))})).finally((function(){e.a.off(t.de,r),e.trigger(new t.M(z))})))):(e.trigger(new t.M(z)),i.return(new Promise((function(e){return e()})))))}))},ui=function(e,n){return new Promise((function(r,i){var o;if(n){for(var a=o=null,s=0;s<n.length;s++);s=Object.values(t.Wg);for(var u=0;u<n.length;u++)for(var c=0;c<s.length;c++){var h={pd:s[c],confidence:s[c].canPlay(n[u])};(null===o||o.confidence<h.confidence)&&(o=h,a=u)}o&&typeof a===t.ud&&0<o.confidence?(t.Xg.debug("Player Factory '"+o.pd.getName()+"' can play",n[a]),o=new Pe(o.pd,a)):(t.Xg.error("No compatible Player Factory found for sources:",n),o=null)}else o=null;o?(a=o.pd.create(),r(new _e(a,o.a))):(o=new t.M(t.Rc,{detail:new t.K(t.L,7,7003)}),e.trigger(o),i(o))}))},t.xo=function(e,n){var r,i,o,a;return t.z((function(s){switch(s.a){case 1:if(e.D)throw Error("Player is already destroyed.");if(!e.h)throw Error("No surface associated with this player!");return t.v(s,e.release(),2);case 2:if(e.m=t.um(n),r=t.Gj(n),e.f=t.Fj(e.S,r?n:{},{source:e.m}),0===e.m.length)throw Error("Invalid request to load: could not find source to load");if(e.I=!1,o=0,!e.J&&e.canPlay(e.m[0])){s.G(3);break}return t.v(s,ui(e,e.m),4);case 4:a=s.f,i=a.a,o=a.f,e.J=!1;case 3:return i?t.so(e,i):e.a.addDelegate(e),hi(e),e.a&&e.a.setCdnErrorCallback(e.C),e.j=Ei(e,e.f).create(e),e.setSourceIndex(o),e.f.pauseWhenInBackground&&e.A.on(document,X,(function(){document.hidden?(e.g.debug("Player is hidden: pausing..."),e.pause()):(e.g.debug("Player is visible: resuming..."),e.play())})),Xt((function(e){e.sc()})),t.v(s,e.bc("onContentWillLoad",e.f.source[o]),0)}}))},t.yo=function(e){return t.z((function(n){return e.h.getMedia()||e.h.getCastElement(),e.A.on(e,t.de,e.B),e.trigger(new t.M(H)),t.v(n,Promise.all([e.a.load(e.f),e.j.load()]),0)}))},ci=function(e){t.Bh(e.f.preferredTextLanguage).some((function(n){var r=t.eo(n);return!!(n=e.getTrackManager().da().find((function(e){e=t.eo(e.language||"");var n=r;return e=t.eo(e),n=t.eo(n),e.split("-")[0]==n.split("-")[0]})))&&(e.getTrackManager().sa(n),!0)}))},t.Ao=function(e){var n,r,i,o;return t.z((function(a){if(1==a.a){if(n=[],e.f.remoteTextTracks)for(r=t.t(e.f.remoteTextTracks),i=r.next();!i.done;i=r.next())o=i.value,n.push(e.getTrackManager().addTextTrack(o));return t.v(a,Promise.all(n),2)}return 3!=a.a?(ci(e),Xt((function(){})),t.v(a,e.bc(t.xd),3)):e.f.autoplay?t.v(a,e.play(),0):a.G(0)}))},hi=function(e){e.a&&e.a.setDrmCustomDataModifier((function(n){return t.z((function(r){return e.vc&&e.Vd?(e.Vd=!1,t.v(r,e.vc(n),0)):r.G(0)}))}))},t.Bo=function(e){e&&(0<=ca.indexOf(e)||ca.push(e))},li=function(e){this.g=new t.F("clpp.StateManager"),this.l=e,this.a=new t.bh,this.f=t.Co,this.A=t.Do,this.I=0,this.w=-1,this.M=this.o=this.J=this.B=0,this.j=this.m=this.D=!1,this.H=0,this.h=null,this.K=0,this.P=t.Ci(),this.C=!1,this.J=Date.now(),yi(this)},fi=function(e,t){return Object.keys(t)[e]},di=function(e,n){var r={type:t.de};return n===t.hc||n===t.gc?(r.reason=e.w,n===t.hc?r.timeSinceLastStateChangeMS=e.I:r.bufferedTimeMS=e.B):(e.f===t.jn&&(r.reason=e.w),e.A===t.jn&&(r.reason=e.w,r.bufferedTimeMS=e.B),r.currentState=e.f,r.previousState=e.A,r.timeSinceLastStateChangeMS=e.I),r},pi=function(e,n){if(e.f===n)return!1;var r=Date.now(),i=e.f===t.jn;return e.A=e.f,e.f=n,e.A===t.Io&&(e.J=r,e.o=0),e.o||(e.o=e.J||r),e.I=r-e.o,e.o=r,n===t.jn?(e.M=e.o,e.w=e.m?1:2,e.g.info("Buffering started. Reason: "+fi(e.w-1,t.Jo)),r=di(e,t.hc),e.Mb(t.hc,r)):i&&(e.B=e.o-e.M,e.g.info("Buffering finished. Reason: "+fi(e.w-1,t.Jo)+". Buffering time: "+e.B+" ms"),r=di(e,t.gc),e.Mb(t.gc,r)),r=fi(e.A,t.Ko),i=fi(e.f,t.Ko),e.g.info(t.ab+r+" -> "+i),e.Mb(t.de,di(e,"")),!0},gi=function(e,n){if(e.f===t.hm)e.g.warn("Player is in error state, aborting any further state checks");else{var r=e.l.isPaused(),i=e.l.getPosition(),o=e.l.getDuration();if(i=e.l.isEnded()||e.f===t.Io&&1>=Math.abs(i-o)||r&&i>=o)pi(e,t.Io)&&e.g.debug("Player claims to be in ended state, not checking more");else if(n!==t.re){o=null!=(o=e.l.getPosition())&&0<=o?e.l.getBufferInfo().ta(o,!0):-1,e.H=o,o=e.l.getSurface().getMedia(),e.h=o?o.readyState:null,e.K=e.l.getPlaybackRate()||1,o=typeof e.h===t.ud&&2>e.h&&2===o.networkState;var a=typeof e.h===t.ud&&0>=e.H&&e.f===t.Co,s=typeof e.h===t.ud&&2>=e.h&&e.j;o=e.m||a||o||s,!e.P||e.l.isLive()||e.f!==t.jn||o||(a=n===t.Xd&&4===e.h,(s=e.A===t.Mo)&&!e.C?o=!0:s||e.C||a||(o=!0)),a=!1,o?a=pi(e,t.jn):r?a=pi(e,t.No):e.D&&(a=pi(e,t.no)),a&&(e.C=!1),e.g.debug("Video state check for event "+n+":: seeking: "+e.m+", waiting: "+e.j+", playing: "+e.D+", paused: "+r+", readyState: "+e.h+", rate: "+e.K+", buffer: "+e.H+", ended: "+i+". Changed state: "+a+", Current state: "+fi(e.f,t.Ko))}}},yi=function(e){function n(t){return gi(e,t.type)}e.g.debug("Start watching for video events for "+e.l.namespace());var r=e.l;e.a.on(r,t.Qc,(function(){e.j=!1,pi(e,t.Io)})),e.a.on(r,D,n),e.a.on(r,t.Ld,(function(){e.D=!0,e.j=!1,gi(e,t.Ld)})),e.a.on(r,t.Gd,(function(){e.D=!1,e.j=!1,gi(e,t.Gd)})),e.a.on(r,t.re,n),e.a.on(r,t.Qd,n),e.a.on(r,t.Xd,(function(t){e.m=!1,e.j=!1,gi(e,t.type)})),e.a.on(r,t.Yd,(function(t){e.m=!0,gi(e,t.type)})),e.a.on(r,q,n),e.a.on(r,t.Me,(function(){e.j=!0,gi(e,t.Me)})),e.a.on(r,t.Rc,(function(n){(n=n&&n.detail)&&n.a&&n.a===t.L&&pi(e,t.hm)})),e.a.on(r,t.ed,n),e.a.on(r,M,(function(){e.C=!0,gi(e,M)})),e.a.on(r,t.Ae,(function(t){e.m=!0,gi(e,t.type)})),e.a.on(r,t.ze,(function(t){e.m=!1,e.j=!1,gi(e,t.type)}))},t.Po=function(e,t,n,r,i){this.Pa=e,this.Ia=t,this.va=n,this.keyInfo=r||null,this.uc=!!i},t.Qo=function(e,t,n,r,i,o,a,s,u,c,h,l,f){this.position=e,this.startTime=t,this.endTime=n,this.ub=a,this.Pa=r,this.Ia=i,this.va=o,this.keyInfo=s||null,this.uc=!!u,this.timescale=void 0===c?null:c,this.horizontalTiles=void 0===h?null:h,this.verticalTiles=void 0===l?null:l,this.durationPerTile=void 0===f?null:f},t.Ro=function(e,n,r){var i=void 0!==i&&i;this.m=e,this.D=n,this.cc=this.h=1/0,this.a=1,this.o=0,this.g=this.j=null,this.w=0,this.f=!0,this.B=!1,this.H=void 0===r||r,this.A=new t.F("clpp.media.PresentationTimeline"),this.C=i},t.To=function(e,n,r){if(0!=n.length){var i=n[n.length-1].endTime+r;t.So(e,n[0].startTime+r),e.a=n.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),e.a),e.g=Math.max(e.g,i),null!=e.m&&e.H&&(e.m=(Date.now()+e.w)/1e3-e.g-e.a),e.A.debug("notifySegments: maxSegmentDuration="+e.a)}},t.So=function(e,t){e.j=null==e.j?t:Math.min(e.j,t)},t.Uo=function(e,t){e.a=Math.max(e.a,t),e.A.debug("notifyNewSegmentDuration: maxSegmentDuration="+e.a)},t.Wo=function(e){return 1/0==e.cc?0:(e=t.Vo(e)-e.cc,Math.max(0,e))},t.Vo=function(e){if(e.Yb())e=e.g;else if(e.isLive()||1/0!=e.h&&!e.f){var t=(Date.now()+e.w)/1e3;e=Math.min(e.C?Math.max(0,t-(e.a-e.o)-e.m):Math.max(0,t-e.a-e.m),e.h)}else e=e.h;return e},t.Xo=function(e){this.a=e,this.f=new t.F("clpp.media.SegmentIndex")},t.Yo=function(e,t){for(var n=0;n<e.a.length;++n)if(e.a[n].endTime>t)return void e.a.splice(0,n);e.a=[]},t.Zo=function(e,n){for(;e.a.length&&0>=e.a[0].endTime;)e.a.shift();if(0!=e.a.length){var r=e.a[e.a.length-1];r.startTime>=n||(e.a[e.a.length-1]=new t.Qo(r.position,r.startTime,n,r.Pa,r.Ia,r.va,r.ub,r.keyInfo,r.uc,r.timescale,r.horizontalTiles,r.verticalTiles,r.durationPerTile))}},mi=function(){},vi=function(){},bi=function(){},t.ep=function(e){e&&(0<=la.indexOf(e)?ha.warn("Factory '"+e.name()+"' is already registered"):(la.push(e),ha.info("Factory "+e.name()+"' has been registered.")))},Ei=function(e,t){var n=la.find((function(n){return n.$(e,t)}));return n||(n=new vi),ha.info("Chosen ads: "+n.name()),n},Ti=function(){},wi=function(){},Ai=function(){},t.hp=function(){},Si=typeof Object.defineProperties==t.Tc?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},Ii=void 0!==e&&e===this?this:"undefined"!=typeof global&&null!=global?global:this,oe.prototype.toString=function(){return this.a};var Ri,ki,Ci=(ki=0,function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new oe("jscomp_symbol_"+(t||"")+"_"+ki++,t)}),Di=typeof Object.create==t.Tc?Object.create:function(e){function t(){}return t.prototype=e,new t};if(typeof Object.setPrototypeOf==t.Tc)Ri=Object.setPrototypeOf;else{var Mi;e:{var Ni={};try{Ni.__proto__={hg:!0},Mi=Ni.hg;break e}catch(e){}Mi=!1}Ri=Mi?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var Li=Ri;se.prototype.w=function(e){this.f=e},se.prototype.return=function(e){this.g={return:e},this.a=this.j},se.prototype.G=function(e){this.a=e},ye("Promise",(function(e){function n(e){this.f=0,this.j=void 0,this.a=[];var t=this.g();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function i(e){return e instanceof n?e:new n((function(t){t(e)}))}if(e)return e;r.prototype.f=function(e){if(null==this.a){this.a=[];var t=this;this.g((function(){t.j()}))}this.a.push(e)};var o=Ii.setTimeout;r.prototype.g=function(e){o(e,0)},r.prototype.j=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.h(e)}}}this.a=null},r.prototype.h=function(e){this.g((function(){throw e}))},n.prototype.g=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.B),reject:e(this.h)}},n.prototype.B=function(e){if(e===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof n)this.C(e);else{e:switch(typeof e){case t.vd:var r=null!=e;break e;case t.Tc:r=!0;break e;default:r=!1}r?this.A(e):this.m(e)}},n.prototype.A=function(e){var n=void 0;try{n=e.then}catch(e){return void this.h(e)}typeof n==t.Tc?this.D(n,e):this.m(e)},n.prototype.h=function(e){this.o(2,e)},n.prototype.m=function(e){this.o(1,e)},n.prototype.o=function(e,t){if(0!=this.f)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.f);this.f=e,this.j=t,this.w()},n.prototype.w=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.f(this.a[e]);this.a=null}};var a=new r;return n.prototype.C=function(e){var t=this.g();e.fd(t.resolve,t.reject)},n.prototype.D=function(e,t){var n=this.g();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},n.prototype.then=function(e,r){function i(e,n){return typeof e==t.Tc?function(t){try{o(e(t))}catch(e){a(e)}}:n}var o,a,s=new n((function(e,t){o=e,a=t}));return this.fd(i(e,o),i(r,a)),s},n.prototype.catch=function(e){return this.then(void 0,e)},n.prototype.fd=function(e,t){function n(){switch(r.f){case 1:e(r.j);break;case 2:t(r.j);break;default:throw Error("Unexpected state: "+r.f)}}var r=this;null==this.a?a.f(n):this.a.push(n)},n.resolve=i,n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(n,r){for(var o=t.t(e),a=o.next();!a.done;a=o.next())i(a.value).fd(n,r)}))},n.all=function(e){var r=t.t(e),o=r.next();return o.done?i([]):new n((function(e,t){function n(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(o.value).fd(n(a.length-1),t),o=r.next()}while(!o.done)}))},n}));var Pi=this||self;Pi.a=!0,clpp={},t.h=t.zf.prototype,t.h.getBackgroundColor=function(){return this.K},t.h.setBackgroundColor=function(e){this.K=e,this.ib()},t.h.getWindowColor=function(){return this.Y},t.h.setWindowColor=function(e){this.Y=e,this.ib()},t.h.getFontFamily=function(){return this.V},t.h.setFontFamily=function(e){this.V=e,this.ib()},t.h.getFontColor=function(){return this.S},t.h.setFontColor=function(e){this.S=e,this.ib()},t.h.getFontSize=function(){return this.I},t.h.setFontSize=function(e){this.I=e,this.ib()},t.h.getFontSizePercent=function(){return null===this.D?_i:this.D},t.h.setFontSizePercent=function(e){this.D=e,this.ib()},t.h.getEdgeColor=function(){return this.H},t.h.setEdgeColor=function(e){this.H=e,this.ib()},t.h.getEdgeType=function(){return this.B},t.h.setEdgeType=function(e){this.B=e,this.ib()},t.zf.prototype.setEdgeType=t.zf.prototype.setEdgeType,t.zf.prototype.getEdgeType=t.zf.prototype.getEdgeType,t.zf.prototype.setEdgeColor=t.zf.prototype.setEdgeColor,t.zf.prototype.getEdgeColor=t.zf.prototype.getEdgeColor,t.zf.prototype.setFontSizePercent=t.zf.prototype.setFontSizePercent,t.zf.prototype.getFontSizePercent=t.zf.prototype.getFontSizePercent,t.zf.prototype.setFontSize=t.zf.prototype.setFontSize,t.zf.prototype.getFontSize=t.zf.prototype.getFontSize,t.zf.prototype.setFontColor=t.zf.prototype.setFontColor,t.zf.prototype.getFontColor=t.zf.prototype.getFontColor,t.zf.prototype.setFontFamily=t.zf.prototype.setFontFamily,t.zf.prototype.getFontFamily=t.zf.prototype.getFontFamily,t.zf.prototype.setWindowColor=t.zf.prototype.setWindowColor,t.zf.prototype.getWindowColor=t.zf.prototype.getWindowColor,t.zf.prototype.setBackgroundColor=t.zf.prototype.setBackgroundColor,t.zf.prototype.getBackgroundColor=t.zf.prototype.getBackgroundColor;var _i=1/15;t.B={gg:20,ua:function(e){var n=t.B.R,r=t.B.xf,i=t.B.Qa;return n(e)||r(e)?e:i(e)}},t.A("clpp.utils.obj.cloneItem",t.B.ua),t.B.Qa=function(e){for(var n={},r=0;r<arguments.length;r++)null!=arguments[r]&&(n=t.B.Af(n,{merging:arguments[r]}));return n.merging},t.A("clpp.utils.obj.merge",t.B.Qa),t.B.Af=function(e,n,r){var i=t.B.R,o=t.B.xf,a=t.B.Af,s=t.B.rb,u=t.B.oi,c=t.B.mi,h=t.B.Ac;for(var l in r=r+1||1,!i(e)&&h(e)||(e={}),n)n.hasOwnProperty(l)&&(o(h=n[l])||i(h)||s(h)?e[l]=h:u(h)?e[l]=h.subarray(0):h instanceof Array?e[l]=a([],h):!i(h)&&c(h)&&r<t.B.gg&&(e[l]=a(e[l],h,r)));return e},t.B.xf=function(e){return(e=typeof e)===t.ge||e===t.ud||e===t.ec},t.B.R=function(e){return null==e},t.B.Ac=function(e){return typeof e===t.vd},t.B.rb=function(e){return typeof e===t.Tc},t.B.W=function(e){return typeof e===t.ge},t.B.ja=function(e){return typeof e===t.ud},t.B.vf=function(e){return typeof e===t.ec},t.B.oi=function(e){var n=t.B.Ac,r=t.B.rb;return!!(n(e)&&e.buffer&&e.buffer instanceof ArrayBuffer&&r(e.subarray))},t.B.mi=function(e){var n=t.B.Ac;return!(0,t.B.R)(e)&&n(e)&&e.constructor===Object},t.B.Ma=function(e,n,r,i){if(e===n||null===e&&null===n||void 0===e&&void 0===n)return!0;if(null===e&&null!==n||null!==e&&null===n||void 0!==e&&void 0===n||void 0===e&&void 0!==n||!t.B.Ac(e)||!t.B.Ac(n))return!1;for(var o=r||Object.keys(e),a={},s=0;s<o.length;s++){var u=o[s];if((t.B.R(i)||0>i.indexOf(u))&&(a[u]=!0,e[u]!==n[u]))return!1}if(t.B.R(r))for(e=Object.keys(n),n=0;n<e.length;n++)if(r=e[n],(t.B.R(i)||0>i.indexOf(r))&&!a[r])return!1;return!0},t.B.isNaN=function(e){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(e){return e!=e})(e)},t.B.Oe=function(e){for(var n=new Map,r=t.t(Object.keys(e)),i=r.next();!i.done;i=r.next())i=i.value,n.set(i,e[i]);return n},t.B.Pe=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t};var xi={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};t.A("clpp.log.Level",xi);var Oi=3,ji={},Ui=[];t.A("clpp.log.getLoggers",(function(){return t.B.ua(ji)})),t.A("clpp.log.addInterceptor",(function(e){e&&Ui.push(e)})),t.A("clpp.log.removeInterceptor",(function(e){e&&0<=(e=Ui.indexOf(e))&&Ui.splice(e,1)})),t.A("clpp.log.getTagLevel",ve),t.A("clpp.log.hasTagLevel",(function(e){return void 0!==e&&0<=ji[e]})),t.A("clpp.log.setTagLevel",(function(e,n){e&&(t.B.W(n)&&(n=be(n)),ji[e]=n)})),t.A("clpp.log.setLogLevel",(function(e){-1===e&&(e=3),t.B.W(e)&&(e=be(e)),Oi=e})),t.A("clpp.log.getLogLevel",(function(){return Oi})),t.h=t.F.prototype,t.h.log=function(n,r){if(e.console){if(1<arguments.length){var i=arguments[0];Array.prototype.shift.call(arguments)}else i=3;var o=ve(this.a);if(0<=o){if(o<i)return}else if(Oi<i)return;this.a&&Array.prototype.unshift.call(arguments,"["+this.a+"]"),(o=new Date).toISOString&&(o=o.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,o)),4===i?console.log.apply(console,arguments):3===i?console.info.apply(console,arguments):2===i?console.warn.apply(console,arguments):1===i?console.error.apply(console,arguments):console.log.apply(console,arguments);for(var a=(o=t.t(Ui)).next();!a.done;a=o.next())(a=a.value).call(a,i,arguments)}},t.h.info=function(e){Array.prototype.unshift.call(arguments,3),this.log.apply(this,arguments)},t.h.debug=function(e){Array.prototype.unshift.call(arguments,4),this.log.apply(this,arguments)},t.h.warn=function(e){Array.prototype.unshift.call(arguments,2),this.log.apply(this,arguments)},t.h.error=function(e){Array.prototype.unshift.call(arguments,1),this.log.apply(this,arguments)},t.h.Qh=function(e){return e?this.a?new t.F(this.a+"."+e):new t.F(e):this},t.A("clpp.log.Logger",t.F),t.F.prototype.createChild=t.F.prototype.Qh,t.F.prototype.error=t.F.prototype.error,t.F.prototype.warn=t.F.prototype.warn,t.F.prototype.debug=t.F.prototype.debug,t.F.prototype.info=t.F.prototype.info,t.F.prototype.log=t.F.prototype.log;var Bi=new t.F("clpp");t.A("clpp.log.info",t.Nf),t.A("clpp.log.debug",t.H),t.A("clpp.log.warn",t.C),t.A("clpp.log.error",t.Of),t.A("clpp.utils.BufferUtils",Ee),Ee.toArrayBuffer=t.Yf,Ee.toDataView=t.Xf,Ee.toInt32Array=t.Wf,Ee.toUint32Array=we,Ee.toUint16Array=Te,Ee.toUint8Array=t.J,Ee.equal=t.Sf;var Fi=new t.F("clpp.utils.strings");t.A("clpp.utils.strings.fromUtf8",t.$f),t.A("clpp.utils.strings.fromBytesAutoDetect",t.cg),t.A("clpp.utils.strings.toUtf8",t.dg),t.A("clpp.utils.strings.toUtf16",ke),t.A("clpp.utils.strings.toByteArray",t.fg),t.A("clpp.utils.strings.startsWith",t.gg),t.A("clpp.utils.strings.endsWith",t.hg),t.A("clpp.utils.strings.bitrateToString",(function(e){if(null==e||""===e)return"";try{var n=Number(e);return t.B.isNaN(n)?"":(e="bps",1e3<=Math.abs(n)&&(e="Kbps",n/=1e3),1e3<=Math.abs(n)&&(e="Mbps",n/=1e3),n.toFixed(2).replace(/[.,]00$/,"")+e)}catch(e){return""}})),t.A("clpp.utils.strings.durationToString",(function(e,t){function n(e){return function(t,n){return r(e,n.length-1)}}function r(e,t){return e.length<t?r("0"+e,t):e}null==e&&(e=0),null==(t=void 0===t?"%h:%mm:%ss":t)&&(t="%h:%mm:%ss");var i=Math.floor(e/3600),o=Math.floor((e-3600*i)/60),a=Math.floor(e-3600*i-60*o);return t.replace(/(%h+)/,n(String(i))).replace(/(%m+)/,n(String(o))).replace(/(%s+)/,n(String(a)))})),t.A("clpp.utils.strings.hashCode",(function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}));var Ki=document.createElement("span");t.A("clpp.utils.dom.createHTMLElement",t.pg),t.u(t.rg,t.zf),t.h=t.rg.prototype,t.h.append=function(){},t.h.remove=function(){return!0},t.h.isTextVisible=function(){return this.m},t.h.setTextVisibility=function(e){this.m=e},t.h.ib=function(){if(!this.h){var e={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":t.Ef(this)},n=Object.keys(e).reduce((function(t,n){return""+t+n+": "+e[n]+";"}),"");this.g.textContent="."+this.f+"::cue {"+n+"}"}},t.h.destroy=function(){return this.j.classList.remove(this.f),document.head.removeChild(this.g),this.h=!0,Promise.resolve()};var Hi=0;De.prototype.$=function(){},De.prototype.create=function(){},t.A("clpp.text.TextDisplayerFactory",De),De.prototype.create=De.prototype.create,De.prototype.isSupported=De.prototype.$;var Vi=new Map,Gi=new t.F("clpp.text");De.Type={HTML:"html",NATIVE:t.sd,SINGLE_NATIVE:t.$d},Me.prototype.$=function(){return!0},Me.prototype.create=function(e){return new t.rg(e)},Me.prototype.create=Me.prototype.create,Me.prototype.isSupported=Me.prototype.$,t.vg(t.sd,new Me),t.yg=[],t.A("clpp.text.Cue",t.Gg),t.Gg.positionAlign={LEFT:t.bd,RIGHT:t.cd,CENTER:t.oc,AUTO:"auto"},t.Ag=t.oe,t.Gg.payloadType={TEXT:t.Ag,VTT_XML:t.Le,TTML_XML:t.te},t.Bg=t.oc,t.op={LEFT:t.Zc,RIGHT:t.Wd,CENTER:t.Bg,START:t.Zc,END:t.Wd},t.Gg.textAlign=t.op;var zi="ltr";t.Gg.direction={HORIZONTAL_LEFT_TO_RIGHT:zi,HORIZONTAL_RIGHT_TO_LEFT:"rtl"},t.Cg="horizontal-tb",t.Gg.writingMode={HORIZONTAL_TOP_TO_BOTTOM:t.Cg,VERTICAL_LEFT_TO_RIGHT:t.Ce,VERTICAL_RIGHT_TO_LEFT:t.De},t.Dg=0,t.Gg.lineInterpretation={LINE_NUMBER:t.Dg,PERCENTAGE:1},t.Eg=t.ce,t.pp={CENTER:t.oc,START:t.Eg,END:t.Pc},t.Gg.lineAlign=t.pp,t.A("clpp.text.CueRegion",t.Mg),t.Hg=1,t.Mg.units={PX:0,PERCENTAGE:t.Hg,LINES:2};var Wi,qi,Yi,Xi,Ji,Qi="";t.Mg.scrollMode={NONE:Qi,UP:"up"},t.Mg.displayAlign={BEFORE:"flex-end",CENTER:t.oc,AFTER:"flex-start"},t.Mg.writingMode={HORIZONTAL_TOP_TO_BOTTOM:t.yc,VERTICAL_LEFT_TO_RIGHT:"row-reverse",VERTICAL_RIGHT_TO_LEFT:"row"},t.qp=(new Map).set(t.xc,t.xc).set("frameRate","framerate").set("bandwidth","bitrate").set(t.Te,t.Te).set(t.Uc,t.Uc).set("channelsCount","channels"),t.u(t.K,Error),t.K.prototype.f=function(e){this.a!==e&&(this.a=e,this.message=Ne(this.a,this.h,this.code,this.data))},t.K.prototype.toString=function(){var e=this.message;return this.g&&(e+="\n Caused by "+this.g),e},t.A("clpp.Error",t.K),t.L=2,t.K.Severity={RECOVERABLE:1,FATAL:t.L},t.K.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10},t.K.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,INVALID_MP4:2011,TEXT_PARSER_MISSING:2012,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,REQUESTED_DRM_ENVIRONMENT_UNAVAILABLE:6015,INIT_DATA_TRANSFORM_ERROR:6016,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,SERVER_CERTIFICATE_REQUIRED:6102,EXTRACT_CONTENT_ID_MODIFIER_ERROR:6103,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8e3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9e3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,MUXDATA_INVALID_CONFIGURATION:9300,MUX_SDK_MISSING:9301,MUXDATA_INIT_ERROR:9302,IMA_SDK_MISSING:1e4,IMA_INVALID_CONFIGURATION:10001,IMA_UNSUPPORTED_PLATFORM:10002,AD_ERROR:10003,BROADPEAK_SDK_MISSING:11e3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12e3,FREEWHEEL_INVALID_CONFIGURATION:12001,CONTENT_TRANSFORMATION_FAILED:14e3},t.Qg={},t.yf=t.td,Wi="raised",qi="depressed",Yi="dropshadow",Xi="uniform",t.A("clpp.text.EdgeType",{NONE:t.yf,RAISED:Wi,DEPRESSED:qi,DROP_SHADOW:Yi,UNIFORM:Xi}),Le.prototype.parseInit=function(e){try{var n=t.Qg[t.Tb]||null;if(n){var r=new n(this.g);r.parseInit(e)}else this.f.warn("The clpp.ttml.Mp4TtmlParser class is not available. Please register the ttml component first.")}catch(e){r=null}if(r)this.a=r;else{try{var i=t.Qg[t.Ub]||null;i?(r=new i(this.g)).parseInit(e):this.f.warn("The clpp.vtt.Mp4VttParser class is not available. Please register the vtt component first.")}catch(e){r=null}if(!r)throw new t.K(t.L,2,2011);this.a=r}},Le.prototype.parseMedia=function(e,n){if(!this.a)throw new t.K(t.L,2,2011);return this.a.parseMedia(e,n)},t.Qg[t.Sb]=Le,t.Xg=new t.F("clpp.players"),t.Wg={},t.Zg.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},t.Zg.prototype.get=function(e){return(e=this.a[e])?e.slice():[]},t.Zg.prototype.remove=function(e,t){var n=this.a[e];if(!n)return!1;for(var r=!1,i=0;i<n.length;++i)n[i]==t&&(n.splice(i,1),--i,r=!0);return r},t.Zg.prototype.clear=function(){this.a={}},xe.prototype.Mb=function(e){try{this.rc.handleEvent?this.rc.handleEvent(e):this.rc.call(this.a,e)}catch(e){t.Of("clpp","Uncaught exception in event handler for event '"+this.f+"'",e,e?e.message:null,e?e.stack:null)}},t.M.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},t.M.prototype.stopImmediatePropagation=function(){this.f=!0},t.M.prototype.stopPropagation=function(){},t.h=Oe.prototype,t.h.trigger=function(e){var t=this.a.get(e.type);if(t)for(var n=0;n<t.length&&(e.target=this.f,e.currentTarget=this.f,t[n].Mb(e),t[n].uj&&this.a.remove(e.type,t[n]),!e||!e.f);n++);},t.h.on=function(e,t,n){return this.a.push(e,new xe(e,t,n||this.f)),t},t.h.one=function(e,t,n){return this.a.push(e,new xe(e,t,n||this.f,!0)),t},t.h.off=function(e,t){var n=this.a.get(e),r=!1;if(n)for(var i=0;i<n.length;i++)n[i].rc===t&&(r=this.a.remove(e,n[i])||r);return r},t.h.clear=function(){this.a.clear()},t.A("clpp.EventBus",Oe),Oe.prototype.clear=Oe.prototype.clear,Oe.prototype.off=Oe.prototype.off,Oe.prototype.one=Oe.prototype.one,Oe.prototype.on=Oe.prototype.on,Oe.prototype.trigger=Oe.prototype.trigger,t.bh.prototype.release=function(){t.eh(this)},t.bh.prototype.on=function(e,t,n,r){e=new je(e,t,n,void 0!==r&&r),this.a.push(t,e)},t.bh.prototype.one=function(e,t,n){var r=this;this.on(e,t,(function i(o){return r.off(e,t,i),n(o)}))},t.bh.prototype.off=function(e,t,n){for(var r=this.a.get(t)||[],i=0;i<r.length;++i){var o=r[i];o.target!=e||n!=o.listener&&n||(Ue(o),this.a.remove(t,o))}},Be.prototype.release=function(){this.f.release(),this.g=[],this.a=null},Be.prototype.destroy=function(){var e=this;return t.z((function(n){e.release(),e.j=null,e.h=null,t.w(n)}))},Be.prototype.getTimelineCues=function(){return this.g},t.qh.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length},t.A("clpp.Track",t.qh),t.qh.prototype.toString=t.qh.prototype.toString,t.A("clpp.Rendition",t.xh),t.vh=1,t.sh=t.Ee,t.Q=t.Xb,t.O=t.oe,Ji=t.jd,t.rp={VIDEO:t.sh,AUDIO:t.Q,TEXT:t.O,Vj:Ji},t.qh.Type=t.rp,t.h=t.R.prototype,t.h.$h=function(e){return this.getVideoTracks().find((function(n){return t.B.Ma(n,e,e&&Object.keys(e))}))},t.h.Wh=function(e){return this.getAudioTracks().find((function(n){return t.B.Ma(n,e,e&&Object.keys(e))}))},t.h.Yh=function(e){return this.da().find((function(n){return t.B.Ma(n,e,e&&Object.keys(e))}))},t.h.Zh=function(e){return this.getVideoTracks().flatMap((function(e){return e.renditions})).find((function(n){return t.B.Ma(n,e,e&&Object.keys(e))}))},t.h.Vh=function(e){return this.getAudioTracks().flatMap((function(e){return e.renditions})).find((function(n){return t.B.Ma(n,e,e&&Object.keys(e))}))},t.h.Xh=function(e){return this.da().flatMap((function(e){return e.renditions})).find((function(n){return t.B.Ma(n,e,e&&Object.keys(e))}))},t.A("clpp.TrackManager",t.R),t.R.prototype.isAbrEnabled=t.R.prototype.na,t.R.prototype.addTextTrack=t.R.prototype.addTextTrack,t.R.prototype.findTextRendition=t.R.prototype.Xh,t.R.prototype.findAudioRendition=t.R.prototype.Vh,t.R.prototype.findVideoRendition=t.R.prototype.Zh,t.R.prototype.findTextTrack=t.R.prototype.Yh,t.R.prototype.findAudioTrack=t.R.prototype.Wh,t.R.prototype.findVideoTrack=t.R.prototype.$h,t.R.prototype.setTextRendition=t.R.prototype.gb,t.R.prototype.setAudioRendition=t.R.prototype.eb,t.R.prototype.setVideoRendition=t.R.prototype.Sa,t.R.prototype.setTextTrack=t.R.prototype.sa,t.R.prototype.setAudioTrack=t.R.prototype.ka,t.R.prototype.setVideoTrack=t.R.prototype.Ta,t.R.prototype.getTextTrack=t.R.prototype.ha,t.R.prototype.getAudioTrack=t.R.prototype.ga,t.R.prototype.getVideoTrack=t.R.prototype.za,t.R.prototype.getLoadingTextRendition=t.R.prototype.Xa,t.R.prototype.getLoadingAudioRendition=t.R.prototype.Wa,t.R.prototype.getLoadingVideoRendition=t.R.prototype.Na,t.R.prototype.getTextRendition=t.R.prototype.ya,t.R.prototype.getAudioRendition=t.R.prototype.wa,t.R.prototype.getVideoRendition=t.R.prototype.ea,t.R.prototype.getTextTracks=t.R.prototype.da,t.R.prototype.getAudioTracks=t.R.prototype.getAudioTracks,t.R.prototype.getVideoTracks=t.R.prototype.getVideoTracks,t.yh.prototype.X=function(e){return We(this,e,!1)},t.yh.prototype.Va=function(e){return We(this,e,!0)},t.yh.prototype.stop=function(){this.a&&(this.a(),this.a=null)},t.Ah.prototype.He=function(){return this.stop(),this.f(),this},t.Ah.prototype.X=function(e){var n=this;return this.stop(),this.a=new t.yh((function(){n.f()})).X(e),this},t.Ah.prototype.Va=function(e){var n=this;return this.stop(),this.a=new t.yh((function(){n.f()})).Va(e),this},t.Ah.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},t.A("clpp.utils.Timer",t.Ah),t.Ah.prototype.stop=t.Ah.prototype.stop,t.Ah.prototype.tickEvery=t.Ah.prototype.Va,t.Ah.prototype.tickAfter=t.Ah.prototype.X,t.Ah.prototype.tickNow=t.Ah.prototype.He,t.u(qe,t.R),t.h=qe.prototype,t.h.we=function(e,n){if(n){var r=n.track;if(r){var i=this.h.find((function(t){return Xe(t,r,e)}));if(i)this.a.warn("Track from event already exists",r,i);else{var o=ze(e,r);if(e===t.O){if(r.kind===t.jd)return;var a;a=void 0!==r.id?this.m[r.id]:Object.values(this.m).find((function(t){return Xe(o,t,e)})),o.kind&&"captions"===o.kind&&(o.mimeType=t.Rb),a&&(o.src=a.url,o.mimeType=a.mimeType)}else if(i=this.h.find((function(n){return n.type===e&&t.B.Ma(n,o,["kind","label","language"])})))return i.id=r.id,it(r)&&this.f.set(e,i),void this.a.debug("Track from event seems to already exists, flipped native track to",r);try{o.renditions.push(new t.xh(o.id,o)),this.h.push(o),this.a.debug(e+" Track added",o),this.l.trigger(new t.M(t.sp)),it(r)&&this.f.set(e,o)}catch(e){this.a.error("Error while converting track data",e)}}}else this.a.warn(A)}else this.a.warn(w)},t.h.ye=function(e,n){if(n){var r=n.track;if(r){if(e===t.O&&r.kind!==t.jd){var i=this.h.find((function(t){return Xe(t,r,e)}));i&&(this.h.splice(this.h.indexOf(i),1),(this.f.get(e)||null)===i&&(this.f.set(e,null),Ye(this)),this.a.debug(e+" Track removed, id: ",i.id))}}else this.a.warn(A)}else this.a.warn(w)},t.h.xe=function(e,n){this.a.debug(e+" Track changed",n),e===t.O&&Ye(this);var r=$e(this,e);if(r)for(var i={kc:0};i.kc<r.length;++(i={kc:i.kc}).kc)if(it(r[i.kc])){(i=this.h.find(function(t){return function(n){return Xe(n,r[t.kc],e)}}(i)))&&(this.f.set(e,i),this.a.debug("Track change detected, id:",i.id),i===this.j.get(e)&&this.j.set(e,null),e===t.Q?this.l.trigger(new t.M(t.Nh)):e===t.O&&this.l.trigger(new t.M(t.Oh)));break}},t.h.Cb=function(e){this.l=e},t.h.load=function(){this.o=!1;var e=Ze(this,t.O);e&&(this.g.on(e,t.Jb,this.H),this.g.on(e,W,this.J),this.g.on(e,N,this.I)),(e=Ze(this,t.Q))&&(this.g.on(e,t.Jb,this.B),this.g.on(e,W,this.D),this.g.on(e,N,this.C)),(e=Ze(this,t.sh))&&(this.g.on(e,t.Jb,this.K),this.g.on(e,W,this.P),this.g.on(e,N,this.M)),this.g.one(this.l,M,this.th.bind(this))},t.h.release=function(){this.o=!0,this.h=[],this.m={},this.f.clear(),this.j.clear(),this.g.release()},t.h.destroy=function(){this.release(),this.l=null},t.h.getVideoTracks=function(){return et(this,t.sh)},t.h.getAudioTracks=function(){return et(this,t.Q)},t.h.da=function(){return et(this,t.O)},t.h.ea=function(){return tt(this,t.sh)},t.h.wa=function(){return tt(this,t.Q)},t.h.ya=function(){return tt(this,t.O)},t.h.Na=function(){return nt(this,t.sh)},t.h.Wa=function(){return nt(this,t.Q)},t.h.Xa=function(){return nt(this,t.O)},t.h.za=function(){return this.f.get(t.sh)||null},t.h.ga=function(){return this.f.get(t.Q)||null},t.h.ha=function(){return this.f.get(t.O)||null},t.h.Ta=function(e){rt(this,t.sh,e)},t.h.ka=function(e){rt(this,t.Q,e)},t.h.sa=function(e){rt(this,t.O,e)},t.h.Sa=function(e){rt(this,t.sh,e&&e.track)},t.h.eb=function(e){rt(this,t.Q,e&&e.track)},t.h.gb=function(e){rt(this,t.O,e&&e.track)},t.h.addTextTrack=function(e){var n,r=this;return t.z((function(i){return e.mimeType.match(/text\/vtt/)?(n="External_"+r.w++,r.m[n]=e,Qe(r,e,n),i.G(0)):t.v(i,Je(r,e),0)}))},t.h.th=function(){var e,n,r=this;return t.z((function(i){return 1==i.a?(e=r.l.getConfiguration(),ot(r,t.Q,e.preferredAudioLanguage),$e(r,t.O).some((function(e){return it(e)}))?i.G(2):(n=Ze(r,t.O),t.v(i,new Promise((function(e){r.g.one(n,N,e),new t.Ah(e).X(1)})),2))):r.o?i.return():(ot(r,t.O,e.preferredTextLanguage),void t.w(i))}))},t.h.na=function(){return 1>=this.getVideoTracks().flatMap((function(e){return e.renditions})).length},qe.prototype.isAbrEnabled=qe.prototype.na,qe.prototype.addTextTrack=qe.prototype.addTextTrack,qe.prototype.setTextRendition=qe.prototype.gb,qe.prototype.setAudioRendition=qe.prototype.eb,qe.prototype.setVideoRendition=qe.prototype.Sa,qe.prototype.setTextTrack=qe.prototype.sa,qe.prototype.setAudioTrack=qe.prototype.ka,qe.prototype.setVideoTrack=qe.prototype.Ta,qe.prototype.getTextTrack=qe.prototype.ha,qe.prototype.getAudioTrack=qe.prototype.ga,qe.prototype.getVideoTrack=qe.prototype.za,qe.prototype.getLoadingTextRendition=qe.prototype.Xa,qe.prototype.getLoadingAudioRendition=qe.prototype.Wa,qe.prototype.getLoadingVideoRendition=qe.prototype.Na,qe.prototype.getTextRendition=qe.prototype.ya,qe.prototype.getAudioRendition=qe.prototype.wa,qe.prototype.getVideoRendition=qe.prototype.ea,qe.prototype.getTextTracks=qe.prototype.da,qe.prototype.getAudioTracks=qe.prototype.getAudioTracks,qe.prototype.getVideoTracks=qe.prototype.getVideoTracks,at.prototype.destroy=function(){return this.a.release(),this.h=!1,this.j=this.a=this.g=this.f=null,Promise.resolve()},at.prototype.start=function(e){var n=this;this.h?this.m.warn("Already started. Ignoring request..."):(this.h=!0,this.g=e,this.f=this.g.textTracks,this.a.on(this.f,t.Jb,(function(e){return st(n,e)})),this.a.on(this.f,N,(function(){for(var e=n.f,r=0;r<e.length;r++){var i=e[r];i.mode===t.Zd&&(i.mode=t.Vc)}})))},at.prototype.o=function(e){var n=new t.Gg(e.startTime,e.endTime,e.text,t.Le);if(t.B.W(e.vertical))switch(e.vertical){case"lr":n.writingMode=t.Ce;break;case"rl":n.writingMode=t.De}if(t.B.ja(e.size)&&(n.size=e.size),t.B.W(e.align))switch(e.align){case t.Zc:case t.ce:n.textAlign=t.Zc;break;case t.oc:n.textAlign=t.Bg;break;case t.Wd:case t.Pc:n.textAlign=t.Wd}if(t.B.ja(e.position)&&(n.position=e.position),t.B.W(e.positionAlign))switch(e.positionAlign){case t.bd:n.positionAlign=t.bd;break;case t.oc:n.positionAlign=t.oc;break;case t.cd:n.positionAlign=t.cd}if(t.B.ja(e.line)&&(n.line=e.line),t.B.W(e.lineAlign))switch(e.lineAlign){case t.ce:n.lineAlign=t.Eg;break;case t.oc:n.lineAlign=t.oc;break;case t.Pc:n.lineAlign=t.Pc}return t.B.vf(e.snapToLines)&&(n.lineInterpretation=e.snapToLines?t.Dg:1),n},t.h=t.Uh.prototype,t.h.start=function(e){if(this.f)return this.f.start(e);if(e<this.a.length)return this.a[e].start;throw Error(I)},t.h.end=function(e){if(this.f)return this.f.end(e);if(e<this.a.length)return this.a[e].end;throw Error(I)},t.h.jb=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)},t.h.pa=function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:this.end(this.length-1)},t.h.Wb=function(e,t,n){if(t=void 0===t||t,n=void 0===n?0:n,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)||e>this.end(this.length-1))return!1;if(t)return n+e>=this.start(0)&&e<=this.end(this.length-1);for(t=0;t<this.length;t++)if(n+e>=this.start(t)&&e<=this.end(t))return!0;return!1},t.h.ta=function(e,t){if(t=void 0!==t&&t,!this.length||1===this.length&&1e-6>this.end(0)-this.start(0))return 0;var n=0;if(t){var r=this.pa();null!=r&&(n=Math.max(0,r-e))}else for(r=this.length-1;0<=r&&this.end(r)>e;--r)n+=this.end(r)-Math.max(this.start(r),e);return n},t.A("clpp.BufferInfo",t.Uh),t.Uh.prototype.bufferedAheadOf=t.Uh.prototype.ta,t.Uh.prototype.isBuffered=t.Uh.prototype.Wb,t.Uh.prototype.bufferEnd=t.Uh.prototype.pa,t.Uh.prototype.bufferStart=t.Uh.prototype.jb,t.Uh.prototype.end=t.Uh.prototype.end,t.Uh.prototype.start=t.Uh.prototype.start,t.h=t.Vh.prototype,t.h.trigger=function(e){this.Oc.trigger(e);for(var n=t.t(this.Nc),r=n.next();!r.done;r=n.next())r.value.dispatchEvent(e)},t.h.addEventListener=function(e,t){this.on(e,t)},t.h.removeEventListener=function(e,t){this.off(e,t)},t.h.dispatchEvent=function(e){return this.trigger(e),e.defaultPrevented},t.h.on=function(e,t,n){return this.Oc.on(e,t,n)},t.h.one=function(e,t,n){return this.Oc.one(e,t,n)},t.h.off=function(e,t){return this.Oc.off(e,t)},t.h.addDelegate=function(e){e&&(0<=this.Nc.indexOf(e)||this.Nc.push(e))},t.h.removeDelegate=function(e){e&&0<=(e=this.Nc.indexOf(e))&&this.Nc.splice(e,1)},t.Vh.prototype.off=t.Vh.prototype.off,t.Vh.prototype.one=t.Vh.prototype.one,t.Vh.prototype.on=t.Vh.prototype.on,t.Vh.prototype.removeEventListener=t.Vh.prototype.removeEventListener,t.Vh.prototype.addEventListener=t.Vh.prototype.addEventListener,t.A("clpp.events.ERROR",t.Rc),t.A("clpp.events.LOADEDMETADATA",t.ed),t.A("clpp.events.BUFFERING_ENDED",t.gc),t.A("clpp.events.BUFFERING_STARTED",t.hc),t.A("clpp.events.STATE_CHANGED",t.de),t.Nh="audiotrackchanged",t.A("clpp.events.AUDIO_TRACK_CHANGED",t.Nh),t.Oh="texttrackchanged",t.A("clpp.events.TEXT_TRACK_CHANGED",t.Oh),t.A("clpp.events.VIDEO_TRACK_CHANGED",t.Ie),t.A("clpp.events.BITRATE_CHANGED",t.dc),t.sp="tracksadded",t.A("clpp.events.TRACKS_ADDED",t.sp),t.A("clpp.events.LOAD_START",H),t.A("clpp.events.RELEASING",t.Sd),t.A("clpp.events.RELEASED",z),t.A("clpp.events.DESTROYING","destroying"),t.A("clpp.events.DESTROYED","destroyed"),t.A("clpp.events.VIDEO_BUFFER_CHANGED",t.He),t.A("clpp.events.AUDIO_BUFFER_CHANGED",t.bc),t.A("clpp.events.DOWNLOAD_TRACE","downloadtrace"),t.A("clpp.events.DRM_SESSION_UPDATE",t.Kc),t.A("clpp.events.DRM_SESSION_PERSISTED",t.Jc),t.A("clpp.events.DRM_RENEWAL_STARTED",j),t.A("clpp.events.DRM_EXPIRATION_UPDATE",t.Hc),t.A("clpp.events.AUTOPLAY_NOT_ALLOWED",t.cc),t.A("clpp.events.PLAY",t.Kd),t.A("clpp.events.SEEKING",t.Yd),t.A("clpp.events.SEEKED",t.Xd),t.A("clpp.events.USER_SEEKING",t.Ae),t.A("clpp.events.USER_SEEKED",t.ze),t.Jo={SEEKING:1,NO_DATA:2},t.A("clpp.events.BufferingReasons",t.Jo),t.A("clpp.events.ADS_TIMELINE_CHANGED",t.Kb),t.A("clpp.events.AD_LOADED",t.Ab),t.A("clpp.events.AD_BREAK_STARTED",t.sb),t.A("clpp.events.AD_STARTED",t.Gb),t.A("clpp.events.AD_BUFFERING",t.ub),t.A("clpp.events.AD_PROGRESS",t.Db),t.A("clpp.events.AD_FIRST_QUARTILE",t.xb),t.A("clpp.events.AD_MIDPOINT",t.Bb),t.A("clpp.events.AD_THIRD_QUARTILE",t.Ib),t.A("clpp.events.AD_PAUSED",t.Cb),t.A("clpp.events.AD_RESUMED",t.Eb),t.A("clpp.events.AD_SKIPPED",t.Fb),t.A("clpp.events.AD_CLICKED",t.vb),t.A("clpp.events.AD_IMPRESSION",t.yb),t.A("clpp.events.AD_COMPLETED",t.wb),t.A("clpp.events.AD_STOPPED",t.Hb),t.A("clpp.events.AD_BREAK_STOPPED",t.tb),t.A("clpp.events.CASTING_STARTED",t.kc),t.A("clpp.events.CASTING_ENDED","castingended"),t.A("clpp.events.CAST_STATUS_CHANGED",t.lc),t.A("clpp.events.AIRPLAY_STATUS_CHANGED",t.Pb),t.A("clpp.events.AIRPLAY_CASTING_STARTED",t.Mb),t.A("clpp.events.AIRPLAY_CASTING_ENDED",t.Lb),t.mh="timeline-cue-added",t.A("clpp.events.TIMELINE_CUE_ADDED",t.mh),t.oh="timeline-cue-enter",t.A("clpp.events.TIMELINE_CUE_ENTER",t.oh),t.ph="timeline-cue-exit",t.A("clpp.events.TIMELINE_CUE_EXIT",t.ph),t.A("clpp.events.MPD_TYPE_CHANGED",t.od),t.A("clpp.events.VIMOND_RESPONSE",t.Je),t.A("clpp.events.PLAYLIST_ITEM_CHANGED",t.Md),t.A("clpp.events.PLAYLIST_MODIFIED",t.Nd),t.A("clpp.events.CDN_SWITCH_SUCCESS",t.mc),t.A("clpp.events.ONLINE_STATUS_CHANGED",V),t.A("clpp.utils.Uint8ArrayUtils",t.Wh),t.Wh.toStandardBase64=t.Xh,t.Wh.concat=t.ci,t.Wh.equal=t.bi,t.Wh.toHex=t.ai,t.Wh.fromHex=t.$h,t.Wh.fromBase64=t.Zh,t.Wh.toBase64Url=t.Yh,t.A(O,At),At.getInfo=t.Yi;var Zi=null,$i=null,eo=new t.F(O),to="android",no="ios",ro="linux",io="osx",oo="windows",ao="tizen",so=Y,uo=Y,co={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}},ho=e.fetch,lo=e.AbortController,fo=e.Headers;t.gj.prototype.resolve=function(){},t.gj.prototype.reject=function(){};var po=e.XMLHttpRequest,go=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;t.h=t.jj.prototype,t.h.Ra="",t.h.fc="",t.h.Fa="",t.h.Dc=null,t.h.ra="",t.h.Sb="",t.h.toString=function(){var e=[],t=this.Ra;if(t&&e.push(Ut(t,yo,!0),":"),t=this.Fa){e.push("//");var n=this.fc;n&&e.push(Ut(n,yo,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Dc)&&e.push(":",String(t))}return(t=this.ra)&&(this.Fa&&"/"!=t.charAt(0)&&e.push("/"),e.push(Ut(t,"/"==t.charAt(0)?vo:mo,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Sb)&&e.push("#",Ut(t,Eo)),e.join("")},t.h.resolve=function(e){var n=new t.jj(this);"data"===n.Ra&&(n=new t.jj);var r=!!e.Ra;r?_t(n,e.Ra):r=!!e.fc,r?n.fc=e.fc:r=!!e.Fa,r?n.Fa=e.Fa:r=null!=e.Dc;var i=e.ra;if(r)xt(n,e.Dc);else if(r=!!e.ra){if("/"!=i.charAt(0))if(this.Fa&&!this.ra)i="/"+i;else{var o=n.ra.lastIndexOf("/");-1!=o&&(i=n.ra.substr(0,o+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){o=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],s=0;s<i.length;){var u=i[s++];"."==u?o&&s==i.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),o&&s==i.length&&a.push("")):(a.push(u),o=!0)}i=a.join("/")}}return r?n.ra=i:r=""!==e.a.toString(),r?Ot(n,Kt(e.a)):r=!!e.Sb,r&&(n.Sb=e.Sb),n};var yo=/[#\/\?@]/g,mo=/[#\?:]/g,vo=/[#\?]/g,bo=/[#\?@]/g,Eo=/#/g;Ft.prototype.a=null,Ft.prototype.g=null,Ft.prototype.add=function(e,t){if(!this.a&&(this.a={},this.g=0,this.f))for(var n=this.f.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),o=null;if(0<=i){var a=n[r].substring(0,i);o=n[r].substring(i+1)}else a=n[r];a=decodeURIComponent(a.replace(/\+/g," ")),o=o||"",this.add(a,decodeURIComponent(o.replace(/\+/g," ")))}return this.f=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),null!==this.g&&this.g++,this},Ft.prototype.toString=function(){if(this.f)return this.f;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),r=this.a[e],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),t.push(o)}return this.f=t.join("&")},t.h=t.xj.prototype,t.h.release=function(){return this.h.destroy()},t.h.destroy=function(){return this.j=!0,this.f=[],this.g=[],this.h.destroy()},t.h.rg=function(e){this.f.push(e)},t.h.Od=function(e){this.g.push(e)},t.h.vj=function(e){this.f=this.f.filter((function(t){return t!==e}))},t.h.Be=function(e){this.g=this.g.filter((function(t){return t!==e}))},t.h.fetch=function(e){var n=this;if(this.j)return new Pr(Promise.reject(new t.K(1,1,7001,{url:e.uris[e.uriIndex],request:e})));for(var r=[],i=t.t(this.f),o=i.next();!o.done;o=i.next())r.push(o.value);if(e.requestModifiers)for(o=(i=t.t(e.requestModifiers)).next();!o.done;o=i.next())r.push(o.value);for(e.requestModifiers=r,r=[],o=(i=t.t(this.g)).next();!o.done;o=i.next())r.push(o.value);if(e.responseModifiers)for(o=(i=t.t(e.responseModifiers)).next();!o.done;o=i.next())r.push(o.value);e.responseModifiers=r,i=r=new t.gj;try{var a={},s=t.t(e.requestModifiers);for(o=s.next();!o.done;a={Gd:a.Gd},o=s.next())a.Gd=o.value,i=i.then(function(e){return function(n){if(u.a)throw new t.K(t.L,1,7001,n?{url:n.uris[n.uriIndex],request:n}:null);return e.Gd(n)||n}}(a)).catch((function(e){if(e instanceof t.K)throw e;throw new t.K(t.L,1,1006,null,e)}));i=i.then((function(e){var r=new t.jj(e.uris[e.uriIndex]),i=r.Ra;if(i||(i=(i=location.protocol).slice(0,-1),_t(r,i),e.uris[e.uriIndex]=r.toString()),!(i=n.a[i]))throw new t.K(t.L,1,1e3,{url:r.toString()});return{request:e,plugin:i}}));var u=new Pr(i);s={};var c=t.t(e.responseModifiers);for(o=c.next();!o.done;s={cd:s.cd},o=c.next())s.cd=o.value,u.then(function(e){return function(n){function r(){if(u.a)throw new t.K(t.L,1,7001,n?{url:n.request.uris[n.request.uriIndex],request:n.request}:null)}r();var i=e.cd(n)||n;return r(),i}}(s)).catch(function(e){return function(n){if(n instanceof t.K&&n.data&&n.data.response){var r=e.cd(n.data.response);if(r)return r.then((function(){return Promise.reject(n)}))}return Promise.reject(n)}}(s)).catch((function(e){if(e instanceof t.K)throw e;throw new t.K(t.L,1,1007,null,e)}));return t.bo(this.h,u),r.resolve(e),u}catch(e){return new Pr(Promise.reject(e))}},t.xj.prototype.fetch=t.xj.prototype.fetch,t.xj.prototype.removeResponseModifier=t.xj.prototype.Be,t.xj.prototype.removeRequestModifier=t.xj.prototype.vj,t.xj.prototype.addResponseModifier=t.xj.prototype.Od,t.xj.prototype.addRequestModifier=t.xj.prototype.rg,t.A("clpp.net.makeRequest",t.Fh),t.ej=2,t.zj=6,t.A("clpp.net.RequestType",{MANIFEST:1,SEGMENT:t.ej,LICENSE:3,APP:4,TIMING:5,OTHER:t.zj}),t.A("clpp.utils.PlayerConfiguration",Wt),Wt.create=t.Fj;var To,wo=["abort",D,M,F,"emptied",t.Oc,t.Qc,t.Rc,"interruptbegin","interruptend",t.dd,t.ed,H,"mozaudioavailable",t.Gd,t.Kd,t.Ld,t.Od,t.Qd,t.Xd,t.Yd,q,"suspend",t.re,"volumechange",t.Me,t.Ne,t.Vd,$,Z,J,Q];t.u(t.Hj,t.Vh),t.h=t.Hj.prototype,t.h.init=function(e,n){this.configuration=this.ed=n,this.A=e,this.log.info("Initializing Player surface");var r=this.A.getMedia();this.log.info("Attaching media element listeners");for(var i=t.t(wo),o=i.next();!o.done;o=i.next())o=o.value,this.K.on(r,o,this.Hj,o!==t.Rc);this.md||(this.md=this.gf()),this.md.Cb(this),this.A.showMediaElement()},t.h.release=function(){return this.J&&(this.J.destroy(),this.J=null),Promise.resolve()},t.h.destroy=function(){return this.K.release(),Promise.resolve()},t.h.canPlay=function(e){return t.Wg[this.namespace()].canPlay(e)},t.h.play=function(){var e=this;if(!this.o)return Promise.reject("No sources specified yet. You need to load content before calling play.");var n=this.A.getMedia().play();return Promise.resolve(n).catch((function(n){var r=n.message||"",i=n.stack||"";throw"NotAllowedError"===(n.name||"")&&(0===i.indexOf(t.Kd)||0<=r.indexOf(t.Kd))&&(e.trigger(new t.M(t.cc)),e.log.warn(t.na)),n}))},t.h.pause=function(){var e=this;return this.o?new Promise((function(n,r){var i=e.getState();i!==t.jn&&i!==t.Io&&i!==t.no&&i!==t.No?r():(e.A.getMedia().pause(),e.getState()===t.no?e.K.one(e,t.de,(function(){n()})):n())})):Promise.reject("No sources specified yet. You need to load content before calling pause.")},t.h.isPaused=function(){return this.A.getMedia().paused},t.h.isEnded=function(){return this.A.getMedia().ended},t.h.getConfiguration=function(){return this.configuration},t.h.setDrmCustomDataModifier=function(e){this.vc=e},t.h.setCdnErrorCallback=function(e){this.Ea=e},t.h.yc=function(){return this.vc},t.h.getSurface=function(){return this.A},t.h.getBufferInfo=function(e){var n=this.getSurface().getMedia();return new t.Uh(n?n.buffered:void 0,e)},t.h.getPosition=function(){var e=this.A.getMedia();return e?e.currentTime:(this.log.warn("No media element available, can not report current time!"),0)},t.h.seek=function(e){var n=this,r=this.getPosition();if(null==e||typeof e!==t.ud||e===r)return Promise.resolve();var i=this.A.getMedia();if(!i)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var o=e-r;return.1>=Math.abs(o)?(this.log.info("Skip seek. Delta "+Math.abs(o)+" < 0.1"),Promise.resolve()):new Promise((function(a,s){function u(){i.readyState>HTMLMediaElement.HAVE_NOTHING?h():n.K.one(i,t.ed,h)}function c(o){var s=n.getPosition(),u=.1>=Math.abs(e-s),h=.25<s-e,l=i.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,f=o.type===t.Xd,d=o.type===t.Od,p=o.type===t.re,g=d&&l;h=f||u&&g||p&&h,n.log.debug("Checking seeking state after "+o.type+" event. Seek completed:",h,"Current Time:",s,"Target Time:",e,"Native Event:",f,"Time reached",u,"Timeupdate:",p,"Progress:",d,"ReadyState:",l,"Progress Ready:",g),h?(n.fe=!1,n.td=!1,n.K.off(i,t.Xd,c),n.K.off(i,t.re,c),n.K.off(i,t.Od,c),n.Rf(),n.trigger(new t.M(t.ze)),a()):d&&r===s&&(n.log.debug("Seek seemed to have been ignored. Trying again"),i.currentTime=e)}function h(){n.trigger(new t.M(t.Ae)),n.K.on(i,t.Xd,c),n.K.on(i,t.re,c),n.K.on(i,t.Od,c),n.log.info("Seeking to "+e+". Delta "+o),n.fe=!0,n.td=!0,i.currentTime=e}n.getState()===t.Co?(n.log.debug("Player is in IDLE state. Postpone seek."),n.K.one(n,t.de,(function(){switch(n.getState()){case t.jn:case t.no:case t.No:n.log.debug("Valid seek state reached."),u();break;default:n.log.warn("Invalid seek target state. Aborting seek"),s()}}))):u()}))},t.h.getVolume=function(){var e=this.A.getMedia();return e?e.volume:(this.log.warn("No media element available, can not report volume!"),null)},t.h.setVolume=function(e){var n=this.A.getMedia();n?t.B.ja(e)?0>e||1<e?this.log.warn(s+e+".\n          Value must be between 0 and 1."):n.volume=e:this.log.warn(s+e+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")},t.h.isMuted=function(){return this.A.getMedia().muted},t.h.setMuted=function(e){var n=this.A.getMedia();typeof e===t.ec&&(n.muted=e)},t.h.getDuration=function(){return this.o?this.A.getMedia().duration:-1},t.h.getTrackManager=function(){return this.md},t.h.getPlaybackRate=function(){var e=this.A.getMedia();return e&&e.playbackRate||1},t.h.setPlaybackRate=function(e){var t=this.A.getMedia();void 0!==e&&t&&(t.playbackRate=e)},t.h.setSourceIndex=function(e){this.kd=e},t.h.getSourceIndex=function(){return this.kd},t.h.getLoadedSource=function(){return this.o&&-1!==this.kd?this.o[this.kd]:null},t.h.getPeriods=function(){return[]},t.h.getNetworkEngine=function(){return this.zf},t.h.setNetworkEngine=function(e){this.zf=e},t.h.getTextDisplayer=function(){return this.J},t.h.getTimelineCues=function(){return[]},t.h.resetAbr=function(){},t.h.tj=function(e){var n=this.getSurface().getMedia(),r=this.getPosition(),i="Received Video Element Event: '"+e.type+"' with playhead at: "+r;if(e.type===t.re||e.type===t.Od)this.Yf.debug(i);else{var o="";switch(e.type){case t.Qd:o="Rate: "+this.getPlaybackRate();break;case F:o="Duration: "+this.getDuration();break;case"volumechange":o="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case t.Kd:case t.Ld:case"suspend":case t.Me:case q:case t.Yd:case t.Xd:case t.re:case t.Od:case D:case M:n=this.getBufferInfo().ta(r),o="State "+this.getSurface().getMedia().readyState+" Buffer: "+n;break;case t.Vd:null!=n&&(o="Size: "+n.videoWidth+"x"+n.videoHeight)}o&&(i+=". "+o),this.Yf.info(i)}this.trigger(new t.M(e.type,{detail:e}))},t.h.Rf=function(){},t.Hj.prototype.getTextDisplayer=t.Hj.prototype.getTextDisplayer,t.Hj.prototype.setNetworkEngine=t.Hj.prototype.setNetworkEngine,t.Hj.prototype.getNetworkEngine=t.Hj.prototype.getNetworkEngine,To=new t.F("clpp.Components"),t.Ij=new Map,Jt.prototype.release=function(){this.a=this.f=null},t.Qj.prototype.getName=function(){return this.w},t.Qj.prototype.fb=function(e,t){this.f[e]=t},t.A("clpp.drm.DrmEnvironment",t.Qj),t.Qj.prototype.setDrmSystem=t.Qj.prototype.fb;var Ao={SW_SECURE_CRYPTO:t.gb,SW_SECURE_DECODE:t.hb,HW_SECURE_CRYPTO:p,HW_SECURE_DECODE:g,HW_SECURE_ALL:"HW_SECURE_ALL"};t.A("clpp.drm.WidevineRobustnessLevel",Ao),t.A("clpp.drm.RobustnessLevel",Ao),t.A("clpp.drm.PlayreadyRobustnessLevel",{SL150:"150",SL2000:"2000",SL3000:"3000"}),t.Sj=t.Cc,t.Uj=t.Bc,t.Tj="com.apple.fps.1_0",t.A("clpp.drm.KeySystem",{NONE:t.td,CLEAR_KEY:t.Ed,WIDEVINE:t.Sj,PLAYREADY:t.Uj,FAIRPLAY:t.Tj,PRIMETIME:t.zc}),t.Wj={},t.A("clpp.drm.registerDrmEnvironment",t.Xj);var So={STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,153,20],PRODUCTION:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,244]};t.Zj.prototype.getPosition=function(){return this.a},t.Zj.prototype.xa=function(){return this.f.byteLength},t.Zj.prototype.seek=function(e){(0>e||e>this.f.byteLength)&&t.ak(),this.a=e},t.Zj.prototype.seek=t.Zj.prototype.seek,t.ck.prototype.getPosition=function(){return this.a},t.ck.prototype.xa=function(){return this.f.byteLength},t.ck.prototype.skip=function(e){this.a+e>this.f.byteLength&&en(),this.a+=e},t.ck.prototype.seek=function(e){if(0>e||e>this.f.byteLength)throw en();this.a=e},t.A("clpp.utils.url.queryString",tn),t.A("clpp.utils.FairplayUtils",rn),rn.createFairplayPayload=sn,rn.extractContentId=an,rn.extractExtXKeyUri=on;var Io,Ro=new t.F("clpp.drm.DrmToday"),ko="PRODUCTION",Co="STAGING",Do="TEST",Mo={PRODUCTION:ko,STAGING:Co,TEST:Do};t.A("clpp.drm.DrmToday.Environment",Mo);for(var No="/license-proxy-widevine/cenc/",Lo="/license-proxy-headerauth/drmtoday/RightsManager.asmx",Po="/license-server-fairplay/",_o={"00000":"Success","01000":"General Internal Error","02000":"General Request Error","03000":"General Request Authentication Error",3e4:"General DRM error",4e4:"General Widevine Modular error",40001:"Widevine Device Certificate Revocation (wv 127)",40002:"Widevine Device Certificate Revocation - Permanently (wv 175)",41e3:"General Widevine Classic error",42e3:"General Playready error",43e3:"General Fairplay error",44e3:"General OMA error",44001:"OMA Device registration failed",45e3:"General CDRM error",45001:"CDRM Device registration failed",7e4:"General Output Protection",70001:"All keys filtered by EOP settings",8e4:"General CSL error",80001:"Too many concurrent streams",9e4:"General GBL error",90001:"License delivery prohibited in your region"},xo={video:[t.hb,void 0],audio:[t.gb,void 0]},Oo={video:["3000"],audio:["2000"]},jo=t.t(Object.keys(Mo)),Uo=jo.next();!Uo.done;Uo=jo.next()){var Bo=Uo.value,Fo=l;Bo!==ko&&(Fo+="_"+Bo);var Ko=new t.Qj(Fo);Ko.fb(t.Sj,{licenseUrl:cn(t.Sj),videoRobustness:xo.video,audioRobustness:xo.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:hn(),modifiers:{licenseRequest:t.Ik,licenseResponse:t.Nk}}),Ko.fb(t.Tj,{licenseUrl:cn(t.Tj),certificateUrl:un()+"/license-server-fairplay/cert/",modifiers:{licenseRequest:t.Kk,licenseResponse:t.Lk,extractContentId:t.Hk,certificateRequest:t.Mk}}),Ko.fb(t.Uj,{licenseUrl:cn(t.Uj),videoRobustness:Oo.video,audioRobustness:Oo.audio,modifiers:{licenseRequest:fn}}),t.Xj(Ko)}Io=function e(n){var r;return ge(e,(function(e){return 1==e.a&&(r=0),3!=e.a?r<n?t.v(e,r,3):e.G(0):(r++,e.G(2))}))},t.Wp=function e(n){var r,i,o,a,s,u;return ge(e,(function(e){return 1==e.a&&(r=-1,o=i=void 0,a=t.t(n),s=a.next()),5!=e.a?s.done?-1===r?e.G(0):t.v(e,{ee:r,qj:i,item:o,next:void 0},0):(u=s.value,0<=r?t.v(e,{ee:r,item:o,qj:i,next:u},5):e.G(5)):(r++,i=o,o=u,s=a.next(),e.G(2))}))},t.Rk.prototype.value=function(){return null==this.a&&(this.a=this.f()),this.a},t.h=t.Sk.prototype,t.h.L=function(e,t){var n=pn(e);return this.g[n]=Go,this.f[n]=t,this},t.h.T=function(e,t){var n=pn(e);return this.g[n]=zo,this.f[n]=t,this},t.h.stop=function(){this.a=!0},t.h.parse=function(e,n){var r=t.J(e);for(r=new t.ck(new DataView(r.buffer,r.byteOffset,r.byteLength),!1),this.a=!1;t.dk(r)&&!this.a;)this.xd(0,r,n)},t.h.xd=function(e,n,r){var i=n.getPosition(),o=t.hk(n),a=t.hk(n),s=!1;switch(this.h.debug("Parsing MP4 box",t.Xk(a)),o){case 0:o=n.xa()-i;break;case 1:o=t.jk(n),s=!0}var u=this.f[a];if(u){var c=null,h=null;this.g[a]==zo&&(c=(h=t.hk(n))>>>24,h&=16777215),a=n.getPosition()-i;var l=i+o;r&&l>n.xa()&&(l=n.xa()),l-=n.getPosition(),n=0<l?t.kk(n,l):new Uint8Array(0),u({ab:this,Tf:r||!1,version:c,flags:h,F:n=new t.ck(new DataView(n.buffer,n.byteOffset,n.byteLength),!1),size:o,start:i+e,de:a,ki:s})}else e=Math.min(i+o-n.getPosition(),n.xa()-n.getPosition()),n.skip(e)},t.A("clpp.utils.Mp4Parser",t.Sk),t.Sk.typeToString=t.Xk,t.Sk.allData=t.Vk,t.Sk.sampleDescription=t.Uk,t.Sk.children=t.Tk,t.Sk.prototype.parseNext=t.Sk.prototype.xd,t.Sk.prototype.parse=t.Sk.prototype.parse,t.Sk.prototype.stop=t.Sk.prototype.stop,t.Sk.prototype.fullBox=t.Sk.prototype.T,t.Sk.prototype.box=t.Sk.prototype.L,t.Sk.headerSize=t.Yk;var Ho,Vo,Go=0,zo=1;t.Zk.prototype.h=function(e){if(1<e.version)t.C("Unrecognized PSSH version found!");else{var n=t.ai(t.kk(e.F,16)),r=[];if(0<e.version)for(var i=t.hk(e.F),o=0;o<i;++o){var a=t.ai(t.kk(e.F,16));r.push(a)}i=t.hk(e.F),e.F.skip(i),this.g.push.apply(this.g,r),this.f.push(n),this.a.push({start:e.start,end:e.start+e.size-1}),e.F.getPosition()!=e.F.xa()&&t.C("Mismatch between box size and data size!")}},t.h=t.cl.prototype,t.h.destroy=function(){var e=this;return t.z((function(n){return 1==n.a?e.j?t.v(n,e.Da,0):(e.j=!0,t.v(n,gn(e),4)):(e.Da.resolve(),n.G(0))}))},t.h.keySystem=function(){return this.f?t.Dl(this.f.keySystem):""},t.h.getDrmInfo=function(){return this.f},t.h.Qf=function(e){var n=this;return t.z((function(r){return n.D&&n.J===Ho?r.return():!n.h.delayLicenseRequestUntilPlayed||n.w&&!n.w.paused||n.Ea?t.v(r,Sn(n,e),0):(n.aa.push(e),r.G(0))}))},t.h.Mf=function(e){var n=this,r=e.target;this.a.debug("Key status changed for session",r.sessionId);var i=this.g.get(r),o=!1;r.keyStatuses.forEach((function(e,a){if(typeof a==t.ge){var s=a;a=e,e=s}if(Dn(n.f.keySystem)){if(16===a.byteLength&&(t.yi(t.mb)||t.xi())){var u=(s=t.Xf(a)).getUint32(0,!0),c=s.getUint16(4,!0),h=s.getUint16(6,!0);s.setUint32(0,u,!1),s.setUint16(4,c,!1),s.setUint16(6,h,!1)}e===t.ee&&(e=t.ye)}e!=t.ee&&(i.loaded=!0),"expired"==e&&(o=!0);var l=t.ai(t.J(a));n.a.debug("Key status for",l,e),n.Ka.set(l,e),i&&!i.keyId&&n.g.forEach((function(e,t){t===r||e.keyId!==l||e.loaded||(e.loaded=!0)}))})),(0>(e=r.expiration-Date.now())||o&&1e3>e)&&i&&!i.hb&&(this.a.debug("Session has expired",r.sessionId),(e=this.g.get(r))&&e.tc&&e.tc.stop(),this.g.delete(r),r.close().catch((function(){}))),Nn(this)&&(this.H.resolve(),1!==this.g.size||o?this.Y.X(.5):kn(this))},t.Zp=new t.Rk((function(){return t.Yf(new Uint8Array([0]))})),Ho=0,Vo=3,t.fm={VIDEO:t.Ee,AUDIO:t.Xb,TEXT:t.oe,Mj:t.Qb,Uj:t.Wc},t.$p=1/15,t.Xl.prototype.getStats=function(){return{width:this.j,height:this.f,streamBandwidth:this.A,decodedFrames:this.g,droppedFrames:this.h,corruptedFrames:this.B,estimatedBandwidth:this.m,loadLatency:this.o,playTime:jn(this.a,t.no),pauseTime:jn(this.a,t.No),bufferingTime:jn(this.a,t.jn),stateHistory:Un(this.a),switchHistory:Fn(this.w)}};var Wo=new t.Rk((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,t.ed],[HTMLMediaElement.HAVE_CURRENT_DATA,t.dd],[HTMLMediaElement.HAVE_FUTURE_DATA,D],[HTMLMediaElement.HAVE_ENOUGH_DATA,M]])}));t.u(Kn,t.Hj),t.h=Kn.prototype,t.h.init=function(e,n){t.Hj.prototype.init.call(this,e,n),this.h=new li(this),pi(this.h,t.Co)},t.h.namespace=function(){return x},t.h.unload=function(){var e,n=this;return t.z((function(r){return n.o?(n.log.debug(t.eb,n.o),n.C&&(n.C.stop(),n.C=null),(e=n.getTrackManager())&&e.release(),n.B&&(n.B.destroy(),n.B=null),n.J&&(n.J.destroy(),n.J=null),n.j&&n.j.release(),n.m&&(n.m.destroy(),n.m=null),t.eh(n.g),n.f&&(n.f=new t.Xl),n.o=null,n.D=!1,n.a&&(n.a.removeAttribute("src"),n.a.load()),t.v(r,Vn(n),0)):r.G(0)}))},t.h.release=function(){var e=this;return t.Hj.prototype.release.call(this).then((function(){return e.unload()})).then((function(){e.h&&pi(e.h,t.Co)}))},t.h.destroy=function(){var e=this;return this.w?(this.log.warn("Player is already destroyed!"),Promise.resolve()):(this.w=!0,t.Hj.prototype.destroy.call(this).then((function(){return e.release()})).then((function(){e.log.debug(f);var t=e.getTrackManager();t&&t.destroy(),e.j&&(e.j.destroy().catch((function(t){e.log.warn("Error while disposing metadata handler",t)})),e.j=null),e.h&&(e.h.destroy(),e.h=null),e.f=null})))},t.h.getDrmInfo=function(){return this.m?this.m.getDrmInfo():null},t.h.load=function(e){var n,r,i,o,a=this;return t.z((function(s){switch(s.a){case 1:return a.w?s.return(qn()):a.getSurface()&&a.getSurface().getMedia()?(n=t.B,r=a.A.getMedia(),a.H=Date.now()/1e3,a.f=new t.Xl,a.g.on(a,t.de,(function(){a.f&&t.Sl(a.f.a,a.getState())})),pi(a.h,t.Mo),a.o=t.um(e),t.Gj(e)&&(a.configuration=t.Fj(a.ed,e)),a.log.debug(t.Pa,a.configuration),a.log.debug(t.$a,a.o),i=t.wg(a.configuration,["html",t.sd]),a.J=i.create(a),a.J.setTextVisibility(!0),a.configuration.enableHtmlCue&&t.Jj(t.le)&&!t.Ei()&&(a.B=new at(a),a.B.start(r)),a.j?a.j.release():a.j=new Be(a),Fe(a.j,r),a.getTrackManager().load(),r.loop=!!a.configuration.loop,n.R(a.configuration.volume)||a.setVolume(a.configuration.volume),n.R(a.configuration.muted)||a.setMuted(a.configuration.muted),a.g.one(r,D,(function(){a.trigger(new t.M(t.sp))})),t.mf(s,2),t.v(s,Hn(a,r),4)):s.return(Promise.reject("No surface or no media element in surface"));case 4:return t.v(s,Gn(a),5);case 5:return t.v(s,Yn(a).N,6);case 6:t.nf(s,0);break;case 2:o=t.of(s),a.D=!1,a.onError(o),t.w(s)}}))},t.h.onError=function(e){this.D||(e.a===t.L&&null!==this.h&&pi(this.h,t.hm),this.trigger(new t.M(t.Rc,{detail:e})))},t.h.gf=function(){return new qe},t.h.getState=function(){return null!==this.h?this.h.getState().currentState:t.Do},t.h.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var e=this.a.getStartDate();return isNaN(e.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),0):e.getTime()/1e3}return 0},t.h.getSeekRange=function(){var e=this.getSurface().getMedia();return e&&e.src&&(e=e.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:this.getDuration()}},t.h.isLive=function(){return!(!this.a||!this.a.src)&&1/0===this.a.duration},t.h.getStats=function(){if(!this.f||!this.a)return t.Yl();this.f&&t.Sl(this.f.a,this.getState());var e=this.a,n=this.f,r=e.videoHeight;return n.j=e.videoWidth,n.f=r,e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),n=this.f,r=Number(e.totalVideoFrames),n.h=Number(e.droppedVideoFrames),n.g=r,this.f.B=Number(e.corruptedVideoFrames)),this.f.getStats()},t.h.getTimelineCues=function(){return this.j?this.j.getTimelineCues():[]},Xn.prototype.getName=function(){return x},Xn.prototype.canPlay=function(e){var n=(e=e.type||"")===t.rm,r=e===t.qm;return e===t.pm||n||r&&!t.Ci()||t.Bi()||""===St().canPlayType(e)?0:2},Xn.prototype.create=function(){return new Kn},t.Yg(new Xn),t.mm.prototype.sc=function(){},t.mm.prototype.release=function(){},t.h=Jn.prototype,t.h.getMedia=function(){return this.a},t.h.getContainer=function(){return this.f},t.h.getCastElement=function(){return this.j},t.h.isFullscreen=function(){return!!document.fullscreenElement},t.h.hideMediaElement=function(){var e=this.getMedia();e?t.ng(e,P):this.h.debug("No media element available that could be hidden")},t.h.showMediaElement=function(){var e=this.getMedia();e?e.classList.remove(P):this.h.debug("No media element available that could be shown")},t.h.addElementToContainer=function(e,n,r){n=void 0!==n&&n,r=void 0!==r&&r;var i=this.getContainer();if(!i)throw Error("No container is available. Unable to add element");n&&t.ng(e,t.rc),r?i.insertBefore(e,i.firstElementChild):i.appendChild(e)},t.h.removeElementFromContainer=function(e){var t=this.getContainer();if(!t)throw Error("No container is available. Unable to remove element");t.removeChild(e)},t.h.hide=function(e){t.ng(e,P)},t.h.show=function(e){e.classList.remove(P)},t.h.release=function(){},Jn.prototype.removeElementFromContainer=Jn.prototype.removeElementFromContainer,Jn.prototype.addElementToContainer=Jn.prototype.addElementToContainer,Jn.prototype.getCastElement=Jn.prototype.getCastElement,Jn.prototype.getContainer=Jn.prototype.getContainer,Jn.prototype.getMedia=Jn.prototype.getMedia;var qo={disableContainer:!1,crossorigin:"anonymous",containerEl:null};t.A("clpp.version",t.da),t.A("clpp.name",t.ra),t.pm="application/dash+xml",t.qm="application/x-mpegurl",t.rm="application/vnd.ms-sstr+xml",t.A("clpp.Type",{DASH:t.pm,HLS:t.qm,SMOOTH_STREAMING:t.rm,MP4:t.Ge}),t.lh="scte35",t.jh=Y,t.A("clpp.TimelineCueType",{SCTE35:t.lh,DASH_CALLBACK:t.rd,UNKNOWN:t.jh}),t.A("clpp.utils.media.detectType",Qn);var Yo=new t.F("clpp.sources");t.ym={},t.wm={},t.A("clpp.polyfill.installAll",tr);var Xo,Jo,Qo=[];t.A("clpp.polyfill.register",t.Gm),t.Gm((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,K in document||(Object.defineProperty(document,K,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",nr),document.addEventListener("webkitfullscreenerror",nr),document.addEventListener("mozfullscreenchange",nr),document.addEventListener("mozfullscreenerror",nr),document.addEventListener("MSFullscreenChange",nr),document.addEventListener("MSFullscreenError",nr)}})),t.Gm((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=rr)}})),ar.prototype.createSession=function(){},ar.prototype.setServerCertificate=function(){},sr.prototype.getConfiguration=function(){},sr.prototype.createMediaKeys=function(){},t.Gm((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(t.Nf("EME not available."),navigator.requestMediaKeySystemAccess=ir,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=or,e.MediaKeys=ar,e.MediaKeySystemAccess=sr)}),-10),t.Gm((function(){if(t.H("VideoPlayPromise.install"),e.HTMLMediaElement){var n=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=n.apply(this);return e&&e.catch((function(){})),e}}})),t.Gm((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),t.Gm((function(){if(e.VTTCue)t.Nf("Using native VTTCue.");else if(e.TextTrackCue){var n=TextTrackCue.length;if(3===n)t.Nf(k),e.VTTCue=ur;else if(6===n)t.Nf("Using VTTCue polyfill from 6 argument TextTrackCue."),e.VTTCue=cr;else{try{var r=!!ur(1,2,"")}catch(e){r=!1}r&&(t.Nf(k),e.VTTCue=ur)}}else t.Of("VTTCue not available.")})),t.Gm((function(){if(e.HTMLVideoElement){var n=HTMLVideoElement.prototype;n.requestPictureInPicture&&document.exitPictureInPicture||!n.webkitSupportsPresentationMode||(t.H("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,n.requestPictureInPicture=lr,document.exitPictureInPicture=fr,document.addEventListener("webkitpresentationmodechanged",hr,!0))}})),mr.prototype.createMediaKeys=function(){t.H("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var e=new vr(this.keySystem);return Promise.resolve(e)},mr.prototype.getConfiguration=function(){return t.H("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.a},vr.prototype.createSession=function(e){if(t.H("PatchedMediaKeysApple.MediaKeys.createSession"),(e=e||t.ne)!=t.ne)throw new TypeError(t.ib+e+t.ba);return new Er(this.f,e)},vr.prototype.setServerCertificate=function(){return t.H("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),Promise.resolve(!1)},t.u(Er,t.Vh),t.h=Er.prototype,t.h.generateRequest=function(e,n){t.H("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.a=new t.gj;try{var r=this.j.createSession(t.Ge,t.J(n));this.g=r,this.sessionId=r.sessionId||"",this.h.on(this.g,Z,this.wh.bind(this)),this.h.on(this.g,J,this.uh.bind(this)),this.h.on(this.g,Q,this.vh.bind(this)),Tr(this,t.ee)}catch(e){this.a.reject(e)}return this.a},t.h.load=function(){return t.H("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error(t.Ua))},t.h.update=function(e){t.H("PatchedMediaKeysApple.MediaKeySession.update"),this.f=new t.gj;try{this.g.update(t.J(e))}catch(e){this.f.reject(e)}return this.f},t.h.close=function(){t.H("PatchedMediaKeysApple.MediaKeySession.close");try{this.g.close(),this.closed.resolve(),t.eh(this.h)}catch(e){this.closed.reject(e)}return this.closed},t.h.remove=function(){return t.H("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error(t.Va))},t.h.wh=function(e){t.H("PatchedMediaKeysApple.onWebkitKeyMessage_",e),this.a&&(this.a.resolve(),this.a=null),e=new t.M(t.id,{messageType:null==this.keyStatuses.a?t.ad:t.$c,message:t.Yf(e.message.buffer)}),this.dispatchEvent(e)},t.h.uh=function(e){t.H("PatchedMediaKeysApple.onWebkitKeyAdded_",e),this.f&&(Tr(this,t.ye),this.f.resolve(),this.f=null)},t.h.vh=function(e){if(t.H("PatchedMediaKeysApple.onWebkitKeyError_",e),(e=Error("EME PatchedMediaKeysApple key error")).errorCode=this.g.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.f)this.f.reject(e),this.f=null;else switch(this.g.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Tr(this,t.Fd);break;default:Tr(this,t.Xc)}},t.h=wr.prototype,t.h.forEach=function(e){this.a&&e(this.a,Xo)},t.h.get=function(e){if(this.has(e))return this.a},t.h.has=function(e){var n=Xo;return!(!this.a||!t.bi(t.J(e),t.J(n)))},t.h.entries=function(){},t.h.keys=function(){},t.h.values=function(){},t.Gm((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(t.Nf("Using Apple-prefixed EME"),Xo=t.Yf(new Uint8Array([0])),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=pr,e.MediaKeys=vr,e.MediaKeySystemAccess=mr,navigator.requestMediaKeySystemAccess=dr)})),t.Gm((function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,n){if(n=void 0!==n?n:this.byteLength,e=Math.floor(e),n=Math.floor(n),0>e&&(e+=this.byteLength),0>n&&(n+=this.byteLength),e=Math.min(Math.max(0,e),this.byteLength),0>=(n=Math.min(Math.max(0,n),this.byteLength))-e)return new ArrayBuffer(0);var r=new ArrayBuffer(n-e),i=t.J(r),o=new Uint8Array(this,e,n-e);return i.set(o),r})})),t.Gm((function(){t.H("mathRound.install")})),t.Gm((function(){t.H("InputEvent.install"),t.yi(t.mb)&&HTMLInputElement.prototype.addEventListener!==Ar&&(t.Nf("Patching input event support on IE."),Jo=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Ar)})),Sr.prototype.release=function(){this.a.release(),Cr(this),this.l=null},t.jm.prototype.abort=function(){return this.a=!0,this.w()},t.jm.prototype.gd=function(e,n){function r(){return o.reject(new t.K(t.L,7,7001)),i.abort()}var i=this,o=new t.gj;return this.N.then((function(n){i.a?o.reject(new t.K(t.L,7,7001)):e?r=Lr(e,n,o):o.resolve(n)}),(function(e){n?r=Lr(n,e,o):o.reject(e)})),new t.jm(o,(function(){return r()}))},t.jm.aborted=function(){var e=Promise.reject(new t.K(t.L,7,7001));return e.catch((function(){})),new t.jm(e,(function(){return Promise.resolve()}))},t.jm.prototype.chain=t.jm.prototype.gd,t.u(Pr,t.jm),Pr.prototype.then=function(e,t){return this.N=this.N.then(e,t),this},Pr.prototype.catch=function(e){return this.N=this.N.catch(e),this},Pr.prototype.abort=function(){var e=this;return this.a?Promise.resolve():(this.a=!0,this.g.then((function(t){return e.m&&clearTimeout(e.m),e.j&&e.j(),t.abort()})).catch((function(){})))};var Zo=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149],$o=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237],ea=[112,115,115,104,0,0,0,0];t.u(Ur,jr),t.u(Br,jr),t.u(Kr,t.mm),t.h=Kr.prototype,t.h.Ga=function(e){this.l=e},t.h.Ca=function(){this.l=null},t.h.sc=function(){var e=this.l.getConfiguration();if(e.drm&&e.drm&&e.drm.env===y){if(!(e=e.drm.customData))throw new t.K(t.L,7,7100,"config.drm.customData is not defined");e=new Hr(e.widevineLicenseUrl,e.playReadyLicenseUrl,e.fairPlayLicenseUrl,e.fairPlayCertificateUrl,e.fairPlayContentIdStrategy||na),t.Xj(e)}},t.h.release=function(){},t.h.id=function(){return"headerdrm"},t.A("clpp.drm.HeaderDrmComponent",Kr),t.u(Hr,t.Qj),Hr.prototype.Uc=function(e,n){for(var r=e.drm.customData.headers||{},i=t.t(Object.keys(r)),o=i.next();!o.done;o=i.next())o=o.value,n.headers[o]=r[o]},Hr.prototype.mf=function(e,n){var r=on(n);switch(this.o){case na:return r;case ta:return new t.mk(r).f;default:throw Error("Unknown content ID strategy")}},Hr.prototype.Kf=function(e,n){n.headers[c]=C,this.Uc(e,n);var r={spc:t.Xh(n.body)};n.body=t.fg(tn(r,!0))},Hr.prototype.Lf=function(e,n){var r=t.$f(n.data).trim(),i="</ckc>"===r.substr(-6);"<ckc>"===r.substr(0,5)&&i&&(r=r.slice(5,-6)),n.data=t.Zh(r).buffer},t.A(_,Hr),Hr.prototype.onFairPlayLicenseResponse=Hr.prototype.Lf,Hr.prototype.onFairPlayLicenseRequest=Hr.prototype.Kf,Hr.prototype.extractFairPlayContentId=Hr.prototype.mf,Hr.prototype.onLicenseRequest=Hr.prototype.Uc,Hr.prototype.constructor=Hr.prototype.constructor,Hr.NAME=y;var ta="hostname",na="full-skd";Hr.FairPlayContentIdStrategy={HOSTNAME:ta,FULL_SKD:na},Gr.prototype.verify=function(n,r){var i={kty:"RSA",n:n.n,e:n.e},o=this.g+"."+this.f,a=this.h;return new Promise((function(n,s){try{var u=e&&e.crypto&&e.crypto.subtle}catch(e){}if(u){var c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};u.importKey("jwk",i,c,!1,["verify"]).then((function(e){var n=t.dg(o),r=t.Zh(a);return u.verify(c,e,r.buffer,n.buffer)})).then((function(e){e?n():s(S)})).catch(s)}else r?s("Web Crypto API is not supported"):n()}))};var ra={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"},ia="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g";zr.prototype.verify=function(){var n=this;return new Promise((function(e,t){try{e(Wr(n))}catch(e){t()}})).then((function(e){return e.verify(ra)})).catch((function(n){if(n&&n!==S){var r=e.location.href,i=new t.jj(r);if(r=i.Ra||i.Fa?i:new t.jj("//"+r),/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(r.Fa))return Promise.resolve()}throw n}))};var oa="vod",aa="live";t.ao.prototype.start=function(){var e=this;this.a=new ResizeObserver((function(t){t=t[0],e.g(t.contentRect.width,t.contentRect.height,e.f.isFullscreen())})),this.a.observe(this.h)},t.ao.prototype.stop=function(){this.a&&(this.a.disconnect(),this.a=null)},t.wj.prototype.destroy=function(){for(var e=[],n=t.t(this.a),r=n.next();!r.done;r=n.next())(r=r.value).N.catch((function(){})),e.push(r.abort());return this.a=[],Promise.all(e)};var sa=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],[t.Gc,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);t.ho.prototype.canPlay=function(e){function n(e){o.stop(),i.resolve(e)}var r=document.createElement(t.Ee);r.setAttribute("playsinline","playsinline"),e&&(r.muted=!0,r.setAttribute("muted","muted")),r.src=URL.createObjectURL(this.a);var i=new t.gj;r=r.play();var o=new t.Ah((function(){n(e)})).X(.25);return void 0!==r?r.then((function(){return n(!0)})).catch((function(e){e&&e.message&&e.message===t.Za?n(!0):n(!1)})):n(!0),i};var ua=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);t.u(ri,t.Vh),t.h=ri.prototype,t.h.init=function(){},t.h.onError=function(e){null!==this.a?this.a.onError(e):this.trigger(new t.M(t.Rc,{detail:e}))},t.h.Tb=function(e){return void 0===(e=this.M[e])&&(e=null),e},t.h.getSurface=function(){return this.h},t.h.getConfiguration=function(){return t.B.ua(this.f)},t.h.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null},t.h.unload=function(){return this.a?this.a.unload():Promise.resolve()},t.h.release=function(){var e=this;return null!=this.w?(this.g.info("Player release already in progress"),this.w):(this.g.debug("Releasing player"),this.w=si(this),this.w.finally((function(){e.g.debug("Player released"),e.w=null})))},t.h.destroy=function(){var e=this;return this.D?(this.g.debug("The player is already destroyed. No-op"),new Promise((function(e){return e()}))):(this.D=!0,this.release().then((function(){return e.g.debug(f),e.trigger(new t.M("destroying")),e.bc(t.zd)})).then((function(){if(e.a&&e.a.removeDelegate(e),e.Oc.clear(),e.V.release(),e.a)return e.a.destroy()})).then((function(){Xt((function(e){e.Ca()})),t.Ij.clear(),e.a=null,e.trigger(new t.M("destroyed"))})))},t.h.load=function(e){var n=this;return t.z((function(r){return 1==r.a?t.v(r,t.xo(n,e),2):3!=r.a?t.v(r,t.yo(n),3):t.v(r,t.Ao(n),0)}))},t.h.bc=function(e,n){for(var r=[],i=1;i<arguments.length;++i)r[i-1]=arguments[i];var o=this;return i=this.K.map((function(n){var i=n[e];return i.call.apply(i,[n,o].concat(t.ff(r)))})).filter((function(e){return e instanceof Promise})),Promise.all(i)},t.h.use=function(e){(e=new e).Ga(this),t.Lj(e)},t.h.remove=function(e){if(this.getState()<=t.Co||this.I){var n="";if(Xt((function(t){t instanceof e&&(n=t.id(),t.Ca())})),n)return t.Ij.delete(n),this.J=!0}return!1},t.h.play=function(){return this.a?this.j&&this.a.namespace()!==t.tc?this.j.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")},t.h.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")},t.h.getTrackManager=function(){return this.a&&this.a.getTrackManager()},t.h.getBufferInfo=function(e){return this.a?this.a.getBufferInfo(e):new t.Uh},t.h.getState=function(){return this.a?this.a.getState():t.Co},t.h.getPeriods=function(){return this.a?this.a.getPeriods():[]},t.h.isEnded=function(){return this.a&&this.a.isEnded()||!1},t.h.isPaused=function(){return this.a&&this.a.isPaused()||!1},t.h.getPosition=function(){return this.a?this.a.getPosition():0},t.h.seek=function(e){return this.getState()===t.hm?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(e):Promise.reject("delegate does not exist")},t.h.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():0},t.h.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}},t.h.getVolume=function(){return this.a?this.a.getVolume():null},t.h.setVolume=function(e){this.a&&this.a.setVolume(e)},t.h.getDuration=function(){return this.a?this.a.getDuration():-1},t.h.getAdsManager=function(){return this.j},t.h.namespace=function(){return this.a&&this.a.namespace()||"Undefined"},t.h.canPlay=function(e){return this.a?this.a.canPlay(e):0},t.h.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1},t.h.setPlaybackRate=function(e){this.a&&this.a.setPlaybackRate(e)},t.h.isMuted=function(){return this.a&&this.a.isMuted()||!1},t.h.setMuted=function(e){this.a&&this.a.setMuted(e)},t.h.getNetworkEngine=function(){return this.H},t.h.setNetworkEngine=function(e){this.H=e},t.h.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()},t.h.isLive=function(){return!!this.a&&this.a.isLive()},t.h.getStats=function(){return this.a?this.a.getStats():null},t.h.rd=function(){return Object.freeze(this.m)},t.h.setSourceIndex=function(e){this.a&&this.a.setSourceIndex(e)},t.h.getSourceIndex=function(){return this.a?this.a.getSourceIndex():-1},t.h.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()},t.h.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]},t.h.resetAbr=function(){this.a&&this.a.resetAbr()},t.h.setDrmCustomDataModifier=function(e){this.vc=e,hi(this)},t.h.setCdnErrorCallback=function(e){this.C=e,this.a&&this.a.setCdnErrorCallback(this.C)},t.h.Ff=function(){this.Vd=!0},t.A("clpp.Player",ri),ri.registerPlugin=t.Bo,ri.prototype.setCdnErrorCallback=ri.prototype.setCdnErrorCallback,ri.prototype.setDrmCustomDataModifier=ri.prototype.setDrmCustomDataModifier,ri.prototype.resetAbr=ri.prototype.resetAbr,ri.prototype.getTimelineCues=ri.prototype.getTimelineCues,ri.prototype.getLoadedSource=ri.prototype.getLoadedSource,ri.prototype.getSources=ri.prototype.rd,ri.prototype.getStats=ri.prototype.getStats,ri.prototype.isLive=ri.prototype.isLive,ri.prototype.getTextDisplayer=ri.prototype.getTextDisplayer,ri.prototype.setNetworkEngine=ri.prototype.setNetworkEngine,ri.prototype.getNetworkEngine=ri.prototype.getNetworkEngine,ri.prototype.setMuted=ri.prototype.setMuted,ri.prototype.isMuted=ri.prototype.isMuted,ri.prototype.setPlaybackRate=ri.prototype.setPlaybackRate,ri.prototype.getPlaybackRate=ri.prototype.getPlaybackRate,ri.prototype.namespace=ri.prototype.namespace,ri.prototype.getAdsManager=ri.prototype.getAdsManager,ri.prototype.getDuration=ri.prototype.getDuration,ri.prototype.setVolume=ri.prototype.setVolume,ri.prototype.getVolume=ri.prototype.getVolume,ri.prototype.getSeekRange=ri.prototype.getSeekRange,ri.prototype.getPresentationStartTime=ri.prototype.getPresentationStartTime,ri.prototype.seek=ri.prototype.seek,ri.prototype.getPosition=ri.prototype.getPosition,ri.prototype.isPaused=ri.prototype.isPaused,ri.prototype.isEnded=ri.prototype.isEnded,ri.prototype.getState=ri.prototype.getState,ri.prototype.getBufferInfo=ri.prototype.getBufferInfo,ri.prototype.getTrackManager=ri.prototype.getTrackManager,ri.prototype.pause=ri.prototype.pause,ri.prototype.play=ri.prototype.play,ri.prototype.remove=ri.prototype.remove,ri.prototype.use=ri.prototype.use,ri.prototype.load=ri.prototype.load,ri.prototype.destroy=ri.prototype.destroy,ri.prototype.release=ri.prototype.release,ri.prototype.getDrmInfo=ri.prototype.getDrmInfo,ri.prototype.getConfiguration=ri.prototype.getConfiguration,ri.prototype.getSurface=ri.prototype.getSurface,ri.prototype.getPlugin=ri.prototype.Tb,t.Co=0,t.Mo=1,t.jn=2,t.no=3,t.No=4,t.Io=5,t.hm=6,t.Do=7,t.Ko={IDLE:t.Co,PREPARING:t.Mo,BUFFERING:t.jn,PLAYING:t.no,PAUSED:t.No,ENDED:t.Io,ERROR:t.hm,UNSET:t.Do},ri.State=t.Ko;var ca=[];li.prototype.Mb=function(e,n){this.l&&this.l.trigger(new t.M(e,{detail:n}))},li.prototype.getState=function(){return di(this,"")},li.prototype.destroy=function(){this.g.debug("Stop watching for video events for "+this.l.namespace()),this.a.release()},t.Po.prototype.a=function(){return this.keyInfo},t.Qo.prototype.getPosition=function(){return this.position},t.Qo.prototype.a=function(){return this.keyInfo},t.h=t.Ro.prototype,t.h.getDuration=function(){return this.h},t.h.Lb=function(e){this.h=e},t.h.getPresentationStartTime=function(){return this.m},t.h.Yb=function(){return this.B},t.h.offset=function(e){null!=this.j&&(this.j+=e),null!=this.g&&(this.g+=e)},t.h.isLive=function(){return 1/0==this.h&&!this.f},t.h=t.Xo.prototype,t.h.destroy=function(){return this.a=[],Promise.resolve()},t.h.Kc=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},t.h.get=function(e){return 0==this.a.length||0>(e-=this.a[0].position)||e>=this.a.length?null:this.a[e]},t.h.offset=function(e){this.f.info("Apply offset"+e+" to segment index");for(var n=t.t(this.a),r=n.next();!r.done;r=n.next())(r=r.value).startTime+=e,r.endTime+=e,r.ub-=e},t.h.Hc=function(e,t){var n=e-this.a[0].position;if(0<=n&&n<this.a.length)for(this.f.warn("Accounting for segment duration drift",t,"at",n),this.a[n].endTime+=t,n+=1;n<this.a.length;++n)this.a[n].startTime+=t,this.a[n].endTime+=t},t.h.getDuration=function(){return this.a[this.a.length-1].endTime-this.a[0].startTime},t.h.Qa=function(e){for(var n=[],r=[],i=0,o=0;i<this.a.length&&o<e.length;){var a=this.a[i],s=e[o];a.startTime<s.startTime?(n.push(a),i++):(a.startTime>s.startTime?0===i?r.push(s):this.f.warn("Refusing to rewrite original references on update!"):(.1<Math.abs(a.endTime-s.endTime)?n.push(new t.Qo(a.position,s.startTime,s.endTime,s.Pa,s.Ia,s.va,s.ub,s.keyInfo,s.uc,s.timescale,s.horizontalTiles,s.verticalTiles,s.durationPerTile)):n.push(a),i++),o++)}for(;i<this.a.length;)n.push(this.a[i++]);if(n.length)for(i=n[n.length-1].position+1;o<e.length;)a=e[o++],a=new t.Qo(i++,a.startTime,a.endTime,a.Pa,a.Ia,a.va,a.ub,a.keyInfo,a.uc,a.timescale,a.horizontalTiles,a.verticalTiles,a.durationPerTile),n.push(a);else n=e;if(e=n,r.length&&n.length){for(e=[],o=n[0].position,i=r.length,a=(r=t.t(r)).next();!a.done;a=r.next())a=a.value,e.push(new t.Qo(o-i--,a.startTime,a.endTime,a.Pa,a.Ia,a.va,a.ub,a.keyInfo,a.uc,a.timescale,a.horizontalTiles,a.verticalTiles,a.durationPerTile));for(a=(n=t.t(n)).next();!a.done;a=n.next())e.push(a.value)}this.a=e},t.h.replace=function(e){this.a=e},t.h=mi.prototype,t.h.load=function(){return Promise.resolve()},t.h.start=function(e){return e.play()},t.h.resume=function(){},t.h.pause=function(){},t.h.skip=function(){},t.h.getVolume=function(){return 1},t.h.setVolume=function(){},t.h.getPosition=function(){return-1},t.h.dispose=function(){return t.z((function(e){t.w(e)}))},mi.prototype.dispose=mi.prototype.dispose,mi.prototype.getPosition=mi.prototype.getPosition,mi.prototype.setVolume=mi.prototype.setVolume,mi.prototype.getVolume=mi.prototype.getVolume,mi.prototype.skip=mi.prototype.skip,mi.prototype.pause=mi.prototype.pause,mi.prototype.resume=mi.prototype.resume,mi.prototype.start=mi.prototype.start,mi.prototype.load=mi.prototype.load,vi.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"},vi.prototype.$=function(){return!0},vi.prototype.create=function(){return new mi},vi.prototype.create=vi.prototype.create,vi.prototype.isSupported=vi.prototype.$,vi.prototype.name=vi.prototype.name,bi.prototype.name=function(){},bi.prototype.$=function(){},bi.prototype.create=function(){},t.A("clpp.ads.IAdsManagerFactory",bi),bi.prototype.create=bi.prototype.create,bi.prototype.isSupported=bi.prototype.$,bi.prototype.name=bi.prototype.name,t.A("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2}),t.A("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1}),t.A("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var ha=new t.F("clpp.ads"),la=[];t.h=Ti.prototype,t.h.load=function(){},t.h.start=function(){},t.h.resume=function(){},t.h.pause=function(){},t.h.skip=function(){},t.h.getVolume=function(){},t.h.setVolume=function(){},t.h.getPosition=function(){},t.h.dispose=function(){},t.A("clpp.ads.IAdsManager",Ti),Ti.prototype.getPosition=Ti.prototype.getPosition,Ti.prototype.setVolume=Ti.prototype.setVolume,Ti.prototype.getVolume=Ti.prototype.getVolume,Ti.prototype.skip=Ti.prototype.skip,Ti.prototype.pause=Ti.prototype.pause,Ti.prototype.resume=Ti.prototype.resume,t.h=wi.prototype,t.h.kb=function(){},t.h.lb=function(){},t.h.qb=function(){},t.h.Z=function(){},t.h.getCreativeId=function(){},t.h.getApiFramework=function(){},t.h.getAdSystem=function(){},t.h.getAdvertiserName=function(){},t.h.getTitle=function(){},t.h.getDuration=function(){},t.h.getSkipTimeOffset=function(){},t.h.Xb=function(){},t.h.Db=function(){},t.h.getMediaUrl=function(){},t.h.nb=function(){},t.h.mb=function(){},t.h.Ya=function(){},t.h.Oa=function(){},t.h.getPodIndex=function(){},t.h.Eb=function(){},t.h.Fb=function(){},t.h.pb=function(){},t.h.getWrapperAdIds=function(){},t.h.getWrapperAdSystems=function(){},t.h.getWrapperCreativeIds=function(){},t.A("clpp.ads.IAd",wi),wi.prototype.getWrapperCreativeIds=wi.prototype.getWrapperCreativeIds,wi.prototype.getWrapperAdSystems=wi.prototype.getWrapperAdSystems,wi.prototype.getWrapperAdIds=wi.prototype.getWrapperAdIds,wi.prototype.getSequenceLength=wi.prototype.pb,wi.prototype.getPositionInSequence=wi.prototype.Fb,wi.prototype.getPodTimeOffset=wi.prototype.Eb,wi.prototype.getPodIndex=wi.prototype.getPodIndex,wi.prototype.getPodType=wi.prototype.Oa,wi.prototype.getMediaBitrate=wi.prototype.Ya,wi.prototype.getMediaHeight=wi.prototype.mb,wi.prototype.getMediaWidth=wi.prototype.nb,wi.prototype.getMediaUrl=wi.prototype.getMediaUrl,wi.prototype.getClickThroughUrl=wi.prototype.Db,wi.prototype.isBumper=wi.prototype.Xb,wi.prototype.getSkipTimeOffset=wi.prototype.getSkipTimeOffset,wi.prototype.getDuration=wi.prototype.getDuration,wi.prototype.getTitle=wi.prototype.getTitle,wi.prototype.getAdvertiserName=wi.prototype.getAdvertiserName,wi.prototype.getAdSystem=wi.prototype.getAdSystem,wi.prototype.getApiFramework=wi.prototype.getApiFramework,wi.prototype.getCreativeId=wi.prototype.getCreativeId,wi.prototype.getId=wi.prototype.Z,wi.prototype.getTechnology=wi.prototype.qb,wi.prototype.getAdManagerVersion=wi.prototype.lb,wi.prototype.getAdManagerName=wi.prototype.kb,Ai.prototype.getCuePoints=function(){},Ai.prototype.Gb=function(){},Ai.prototype.Za=function(){},t.A("clpp.ads.IAdsTimeline",Ai),Ai.prototype.hasPostroll=Ai.prototype.Za,Ai.prototype.hasPreroll=Ai.prototype.Gb,Ai.prototype.getCuePoints=Ai.prototype.getCuePoints,t.hp.prototype.onContentWillLoad=function(){return Promise.resolve()},t.hp.prototype.onContentLoaded=function(e,t){for(var n=1;n<arguments.length;++n);return Promise.resolve()},t.hp.prototype.onPlayerWillDestroy=function(){},t.hp.prototype.onPlayerWillRelease=function(){}}).call(e,this),e.clpp._=t,"undefined"!=typeof module&&module.exports?module.exports=e.clpp:"undefined"!=typeof define&&define.amd?define((function(){return e.clpp})):this.clpp=e.clpp}();